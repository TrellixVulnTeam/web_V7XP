"use strict";(self.webpackChunkauto=self.webpackChunkauto||[]).push([[179],{7128:(Yt,ze,k)=>{k.d(ze,{nm:()=>vr});var h=k(5813),de=(k(5e3),k(3692),k(5867),k(5861)),Ae=k(9681),Re=k(4859),ae=k(2090),Te=k(1877);const se=new Map,he={activated:!1,tokenObservers:[]},De={initialized:!1,enabled:!1};function ot(He){return se.get(He)||he}function Ge(He,xe){se.set(He,xe)}function Ke(){return De}class be{constructor(xe,rt,Mt,Nt,nn){if(this.operation=xe,this.retryPolicy=rt,this.getWaitDuration=Mt,this.lowerBound=Nt,this.upperBound=nn,this.pending=null,this.nextErrorWaitInterval=Nt,Nt>nn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(xe){var rt=this;return(0,de.Z)(function*(){rt.stop();try{rt.pending=new ae.BH,yield function qe(He){return new Promise(xe=>{setTimeout(xe,He)})}(rt.getNextRun(xe)),rt.pending.resolve(),yield rt.pending.promise,rt.pending=new ae.BH,yield rt.operation(),rt.pending.resolve(),yield rt.pending.promise,rt.process(!0).catch(()=>{})}catch(Mt){rt.retryPolicy(Mt)?rt.process(!1).catch(()=>{}):rt.stop()}})()}getNextRun(xe){if(xe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const rt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),rt}}}const Fe=new ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bt(He){if(!ot(He).activated)throw Fe.create("use-before-activation",{appName:He.name})}function gt(He,xe){return We.apply(this,arguments)}function We(){return(We=(0,de.Z)(function*({url:He,body:xe},rt){const Mt={"Content-Type":"application/json"},Nt=rt.getImmediate({optional:!0});if(Nt){const zi=yield Nt.getHeartbeatsHeader();zi&&(Mt["X-Firebase-Client"]=zi)}const nn={method:"POST",body:JSON.stringify(xe),headers:Mt};let Er,Cr;try{Er=yield fetch(He,nn)}catch(zi){throw Fe.create("fetch-network-error",{originalErrorMessage:zi.message})}if(200!==Er.status)throw Fe.create("fetch-status-error",{httpStatus:Er.status});try{Cr=yield Er.json()}catch(zi){throw Fe.create("fetch-parse-error",{originalErrorMessage:zi.message})}const tr=Cr.ttl.match(/^([\d.]+)(s)$/);if(!tr||!tr[2]||isNaN(Number(tr[1])))throw Fe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Cr.ttl}`});const ni=1e3*Number(tr[1]),ps=Date.now();return{token:Cr.token,expireTimeMillis:ps+ni,issuedAtTimeMillis:ps}})).apply(this,arguments)}function dn(He,xe){const{projectId:rt,appId:Mt,apiKey:Nt}=He.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${rt}/apps/${Mt}:exchangeDebugToken?key=${Nt}`,body:{debug_token:xe}}}const mn="firebase-app-check-store";let sn=null;function hn(){return sn||(sn=new Promise((He,xe)=>{try{const rt=indexedDB.open("firebase-app-check-database",1);rt.onsuccess=Mt=>{He(Mt.target.result)},rt.onerror=Mt=>{var Nt;xe(Fe.create("storage-open",{originalErrorMessage:null===(Nt=Mt.target.error)||void 0===Nt?void 0:Nt.message}))},rt.onupgradeneeded=Mt=>{0===Mt.oldVersion&&Mt.target.result.createObjectStore(mn,{keyPath:"compositeKey"})}}catch(rt){xe(Fe.create("storage-open",{originalErrorMessage:rt.message}))}}),sn)}function lr(){return(lr=(0,de.Z)(function*(He,xe){const Mt=(yield hn()).transaction(mn,"readwrite"),nn=Mt.objectStore(mn).put({compositeKey:He,value:xe});return new Promise((Er,Cr)=>{nn.onsuccess=tr=>{Er()},Mt.onerror=tr=>{var ni;Cr(Fe.create("storage-set",{originalErrorMessage:null===(ni=tr.target.error)||void 0===ni?void 0:ni.message}))}})})).apply(this,arguments)}const cr=new Te.Yd("@firebase/app-check");function Wn(He,xe){return(0,ae.hl)()?function kn(He,xe){return function ur(He,xe){return lr.apply(this,arguments)}(function rr(He){return`${He.options.appId}-${He.name}`}(He),xe)}(He,xe).catch(rt=>{cr.warn(`Failed to write token to IndexedDB. Error: ${rt}`)}):Promise.resolve()}function kr(){return Ke().enabled}function zr(){return yr.apply(this,arguments)}function yr(){return(yr=(0,de.Z)(function*(){const He=Ke();if(He.enabled&&He.token)return He.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const mt={error:"UNKNOWN_ERROR"};function ve(He){return ae.US.encodeString(JSON.stringify(He),!1)}function it(He){return ht.apply(this,arguments)}function ht(){return(ht=(0,de.Z)(function*(He,xe=!1){const rt=He.app;Bt(rt);const Mt=ot(rt);let nn,Nt=Mt.token;if(!Nt){const tr=yield Mt.cachedTokenPromise;tr&&$n(tr)&&(Nt=tr)}if(!xe&&Nt&&$n(Nt))return{token:Nt.token};let Cr,Er=!1;if(kr()){Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=gt(dn(rt,yield zr()),He.heartbeatServiceProvider).then(ni=>(Mt.exchangeTokenPromise=void 0,ni)),Er=!0);const tr=yield Mt.exchangeTokenPromise;return yield Wn(rt,tr),Ge(rt,Object.assign(Object.assign({},Mt),{token:tr})),{token:tr.token}}try{Mt.exchangeTokenPromise||(Mt.exchangeTokenPromise=Mt.provider.getToken().then(tr=>(Mt.exchangeTokenPromise=void 0,tr)),Er=!0),Nt=yield Mt.exchangeTokenPromise}catch(tr){"appCheck/throttled"===tr.code?cr.warn(tr.message):cr.error(tr),nn=tr}return Nt?(Cr={token:Nt.token},Ge(rt,Object.assign(Object.assign({},Mt),{token:Nt})),yield Wn(rt,Nt)):Cr=Pr(nn),Er&&_r(rt,Cr),Cr})).apply(this,arguments)}function xn(He,xe){const rt=ot(He),Mt=rt.tokenObservers.filter(Nt=>Nt.next!==xe);0===Mt.length&&rt.tokenRefresher&&rt.tokenRefresher.isRunning()&&rt.tokenRefresher.stop(),Ge(He,Object.assign(Object.assign({},rt),{tokenObservers:Mt}))}function dr(He){const{app:xe}=He,rt=ot(xe);let Mt=rt.tokenRefresher;Mt||(Mt=function En(He){const{app:xe}=He;return new be((0,de.Z)(function*(){let Mt;if(Mt=ot(xe).token?yield it(He,!0):yield it(He),Mt.error)throw Mt.error}),()=>!0,()=>{const rt=ot(xe);if(rt.token){let Mt=rt.token.issuedAtTimeMillis+.5*(rt.token.expireTimeMillis-rt.token.issuedAtTimeMillis)+3e5;return Mt=Math.min(Mt,rt.token.expireTimeMillis-3e5),Math.max(0,Mt-Date.now())}return 0},3e4,96e4)}(He),Ge(xe,Object.assign(Object.assign({},rt),{tokenRefresher:Mt}))),!Mt.isRunning()&&rt.isTokenAutoRefreshEnabled&&Mt.start()}function _r(He,xe){const rt=ot(He).tokenObservers;for(const Mt of rt)try{"EXTERNAL"===Mt.type&&null!=xe.error?Mt.error(xe.error):Mt.next(xe)}catch(Nt){}}function $n(He){return He.expireTimeMillis-Date.now()>0}function Pr(He){return{token:ve(mt),error:He}}class pn{constructor(xe,rt){this.app=xe,this.heartbeatServiceProvider=rt}_delete(){const{tokenObservers:xe}=ot(this.app);for(const rt of xe)xn(this.app,rt.next);return Promise.resolve()}}const Li="app-check-internal";!function wr(){(0,Ae._registerComponent)(new Re.wA("app-check",He=>function Lr(He,xe){return new pn(He,xe)}(He.getProvider("app").getImmediate(),He.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((He,xe,rt)=>{He.getProvider(Li).initialize()})),(0,Ae._registerComponent)(new Re.wA(Li,He=>function ct(He){return{getToken:xe=>it(He,xe),addTokenListener:xe=>function vt(He,xe,rt,Mt){const{app:Nt}=He,nn=ot(Nt),Er={next:rt,error:Mt,type:xe};if(Ge(Nt,Object.assign(Object.assign({},nn),{tokenObservers:[...nn.tokenObservers,Er]})),nn.token&&$n(nn.token)){const Cr=nn.token;Promise.resolve().then(()=>{rt({token:Cr.token}),dr(He)}).catch(()=>{})}nn.cachedTokenPromise.then(()=>dr(He))}(He,"INTERNAL",xe),removeTokenListener:xe=>xn(He.app,xe)}}(He.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ae.registerVersion)("@firebase/app-check","0.5.7")}();class vr{constructor(){return(0,h.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(Yt,ze,k)=>{k.d(ze,{Ot:()=>oe,z6:()=>pe});var h=k(5867);k(5e3);class oe{constructor(je){return je}}class pe{constructor(){return(0,h.C6)()}}},1205:(Yt,ze,k)=>{k.d(ze,{zQ:()=>We,rT:()=>et,f7:()=>ut,L6:()=>jt,_Q:()=>Bt,lh:()=>nt,Qv:()=>Fe,nw:()=>gt});var h=k(5e3),v=k(7579),oe=k(9646),pe=k(8306),de=k(8996),Ae=k(6451),Re=k(6063);class ae extends v.x{constructor(dn=1/0,vn=1/0,Tt=Re.l){super(),this._bufferSize=dn,this._windowTime=vn,this._timestampProvider=Tt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=vn===1/0,this._bufferSize=Math.max(1,dn),this._windowTime=Math.max(1,vn)}next(dn){const{isStopped:vn,_buffer:Tt,_infiniteTimeWindow:mn,_timestampProvider:An,_windowTime:sn}=this;vn||(Tt.push(dn),!mn&&Tt.push(An.now()+sn)),this._trimBuffer(),super.next(dn)}_subscribe(dn){this._throwIfClosed(),this._trimBuffer();const vn=this._innerSubscribe(dn),{_infiniteTimeWindow:Tt,_buffer:mn}=this,An=mn.slice();for(let sn=0;sn<An.length&&!dn.closed;sn+=Tt?1:2)dn.next(An[sn]);return this._checkFinalizedStatuses(dn),vn}_trimBuffer(){const{_bufferSize:dn,_timestampProvider:vn,_buffer:Tt,_infiniteTimeWindow:mn}=this,An=(mn?1:2)*dn;if(dn<1/0&&An<Tt.length&&Tt.splice(0,Tt.length-An),!mn){const sn=vn.now();let hn=0;for(let Mn=1;Mn<Tt.length&&Tt[Mn]<=sn;Mn+=2)hn=Mn;hn&&Tt.splice(0,hn+1)}}}var Te=k(3099);function se(Kt,dn,vn){let Tt,mn=!1;return Kt&&"object"==typeof Kt?({bufferSize:Tt=1/0,windowTime:dn=1/0,refCount:mn=!1,scheduler:vn}=Kt):Tt=null!=Kt?Kt:1/0,(0,Te.B)({connector:()=>new ae(Tt,dn,vn),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:mn})}var he=k(3900),De=k(576);function ot(Kt,dn){return(0,De.m)(dn)?(0,he.w)(()=>Kt,dn):(0,he.w)(()=>Kt)}var Ge=k(5363),Ke=k(4004),dt=k(590),Ue=k(9468),Xe=k(9300),St=k(5813),Ye=k(2011),je=k(9808),be=k(7128);k(127);const Fe=new h.OlP("angularfire2.auth.use-emulator"),jt=new h.OlP("angularfire2.auth.settings"),Bt=new h.OlP("angularfire2.auth.tenant-id"),et=new h.OlP("angularfire2.auth.langugage-code"),nt=new h.OlP("angularfire2.auth.use-device-language"),ut=new h.OlP("angularfire.auth.persistence"),gt=(Kt,dn,vn,Tt,mn,An,sn,hn)=>(0,Ye.cc)(`${Kt.name}.auth`,"AngularFireAuth",Kt.name,()=>{const Mn=dn.runOutsideAngular(()=>Kt.auth());if(vn&&Mn.useEmulator(...vn),Tt&&(Mn.tenantId=Tt),Mn.languageCode=mn,An&&Mn.useDeviceLanguage(),sn)for(const[kn,Dn]of Object.entries(sn))Mn.settings[kn]=Dn;return hn&&Mn.setPersistence(hn),Mn},[vn,Tt,mn,An,sn,hn]);let We=(()=>{class Kt{constructor(vn,Tt,mn,An,sn,hn,Mn,kn,Dn,Kn,ur,lr){const gr=new v.x,Sn=(0,oe.of)(void 0).pipe((0,Ge.Q)(sn.outsideAngular),(0,he.w)(()=>An.runOutsideAngular(()=>k.e(881).then(k.bind(k,5881)))),(0,Ke.U)(()=>(0,Ye.on)(vn,An,Tt)),(0,Ke.U)(rr=>gt(rr,An,hn,kn,Dn,Kn,Mn,ur)),se({bufferSize:1,refCount:!1}));if((0,je.PM)(mn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,oe.of)(null);else{Sn.pipe((0,dt.P)()).subscribe();const cr=Sn.pipe((0,he.w)(Wn=>Wn.getRedirectResult().then(Qn=>Qn,()=>null)),St.iC,se({bufferSize:1,refCount:!1})),ti=Sn.pipe((0,he.w)(Wn=>new pe.y(Qn=>({unsubscribe:An.runOutsideAngular(()=>Wn.onAuthStateChanged(Zn=>Qn.next(Zn),Zn=>Qn.error(Zn),()=>Qn.complete()))})))),an=Sn.pipe((0,he.w)(Wn=>new pe.y(Qn=>({unsubscribe:An.runOutsideAngular(()=>Wn.onIdTokenChanged(Zn=>Qn.next(Zn),Zn=>Qn.error(Zn),()=>Qn.complete()))}))));this.authState=cr.pipe(ot(ti),(0,Ue.R)(sn.outsideAngular),(0,Ge.Q)(sn.insideAngular)),this.user=cr.pipe(ot(an),(0,Ue.R)(sn.outsideAngular),(0,Ge.Q)(sn.insideAngular)),this.idToken=this.user.pipe((0,he.w)(Wn=>Wn?(0,de.D)(Wn.getIdToken()):(0,oe.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(Wn=>Wn?(0,de.D)(Wn.getIdTokenResult()):(0,oe.of)(null))),this.credential=(0,Ae.T)(cr,gr,this.authState.pipe((0,Xe.h)(Wn=>!Wn))).pipe((0,Ke.U)(Wn=>(null==Wn?void 0:Wn.user)?Wn:null),(0,Ue.R)(sn.outsideAngular),(0,Ge.Q)(sn.insideAngular))}return(0,Ye.pX)(this,Sn,An,{spy:{apply:(rr,cr,ti)=>{(rr.startsWith("signIn")||rr.startsWith("createUser"))&&ti.then(an=>gr.next(an))}}})}}return Kt.\u0275fac=function(vn){return new(vn||Kt)(h.LFG(Ye.Dh),h.LFG(Ye.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(St.HU),h.LFG(Fe,8),h.LFG(jt,8),h.LFG(Bt,8),h.LFG(et,8),h.LFG(nt,8),h.LFG(ut,8),h.LFG(be.nm,8))},Kt.\u0275prov=h.Yz7({token:Kt,factory:Kt.\u0275fac,providedIn:"any"}),Kt})()},2011:(Yt,ze,k)=>{k.d(ze,{Dh:()=>ae,GT:()=>Ae,cc:()=>Ge,hO:()=>ot,on:()=>se,pX:()=>de,xv:()=>Te});var h=k(5e3),v=k(127),oe=k(5813);Yt=k.hmd(Yt);const pe=["ngOnDestroy"],de=(Xe,St,Ye,je={})=>new Proxy(Xe,{get:(be,qe)=>Ye.runOutsideAngular(()=>{var kt;if(Xe[qe])return(null===(kt=null==je?void 0:je.spy)||void 0===kt?void 0:kt.get)&&je.spy.get(qe,Xe[qe]),Xe[qe];if(pe.indexOf(qe)>-1)return()=>{};const Fe=St.toPromise().then(jt=>{const Bt=jt&&jt[qe];return"function"==typeof Bt?Bt.bind(jt):Bt&&Bt.then?Bt.then(et=>Ye.run(()=>et)):Ye.run(()=>Bt)});return new Proxy(()=>{},{get:(jt,Bt)=>Fe[Bt],apply:(jt,Bt,et)=>Fe.then(nt=>{var ut;const gt=nt&&nt(...et);return(null===(ut=null==je?void 0:je.spy)||void 0===ut?void 0:ut.apply)&&je.spy.apply(qe,et,gt),gt})})})}),Ae=(Xe,St)=>{St.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(je=>{Object.defineProperty(Xe.prototype,je,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,je))})})};class Re{constructor(St){return St}}const ae=new h.OlP("angularfire2.app.options"),Te=new h.OlP("angularfire2.app.name");function se(Xe,St,Ye){const be="object"==typeof Ye&&Ye||{};be.name=be.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const kt=v.Z.apps.filter(Fe=>Fe&&Fe.name===be.name)[0]||St.runOutsideAngular(()=>v.Z.initializeApp(Xe,be));try{JSON.stringify(Xe)!==JSON.stringify(kt.options)&&he("error",`${kt.name} Firebase App already initialized with different options${Yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Fe){}return new Re(kt)}const he=(Xe,...St)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Xe](...St)},De={provide:Re,useFactory:se,deps:[ae,h.R0b,[new h.FiY,Te]]};let ot=(()=>{class Xe{constructor(Ye){v.Z.registerVersion("angularfire",oe.q4.full,"core"),v.Z.registerVersion("angularfire",oe.q4.full,"app-compat"),v.Z.registerVersion("angular",h.q4F.full,Ye.toString())}static initializeApp(Ye,je){return{ngModule:Xe,providers:[{provide:ae,useValue:Ye},{provide:Te,useValue:je}]}}}return Xe.\u0275fac=function(Ye){return new(Ye||Xe)(h.LFG(h.Lbi))},Xe.\u0275mod=h.oAB({type:Xe}),Xe.\u0275inj=h.cJS({providers:[De]}),Xe})();function Ge(Xe,St,Ye,je,be){const[,qe,kt]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===Xe)||[];if(qe)return function Ke(Xe,St){try{return Xe.toString()===St.toString()}catch(Ye){return Xe===St}}(be,kt)||(Ue("error",`${St} was already initialized on the ${Ye} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),Ue("warn",{is:be,was:kt})),qe;{const Fe=je();return globalThis.\u0275AngularfireInstanceCache.push([Xe,Fe,be]),Fe}}const dt=!!Yt.hot,Ue=(Xe,...St)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[Xe](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Yt,ze,k)=>{k.d(ze,{q4:()=>Ra,iC:()=>No,HU:()=>Vu,vb:()=>Js,JM:()=>Oa,u3:()=>il});var h=k(5e3),v=k(5867),oe=k(5861),pe=k(9681),de=k(2090),Ae=k(4859),Re=k(1877);const ae="@firebase/installations",he="w:0.5.8",De="FIS_v2",Xe=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function St(P){return P instanceof de.ZR&&P.code.includes("request-failed")}function Ye({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function je(P){return{token:P.token,requestStatus:2,expiresIn:et(P.expiresIn),creationTime:Date.now()}}function be(P,U){return qe.apply(this,arguments)}function qe(){return(qe=(0,oe.Z)(function*(P,U){const Ee=(yield U.json()).error;return Xe.create("request-failed",{requestName:P,serverCode:Ee.code,serverMessage:Ee.message,serverStatus:Ee.status})})).apply(this,arguments)}function kt({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function Fe(P,{refreshToken:U}){const Q=kt(P);return Q.append("Authorization",function nt(P){return`${De} ${P}`}(U)),Q}function jt(P){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,oe.Z)(function*(P){const U=yield P();return U.status>=500&&U.status<600?P():U})).apply(this,arguments)}function et(P){return Number(P.replace("s","000"))}function ut(P,U){return gt.apply(this,arguments)}function gt(){return(gt=(0,oe.Z)(function*({appConfig:P,heartbeatServiceProvider:U},{fid:Q}){const Ee=Ye(P),tt=kt(P),ft=U.getImmediate({optional:!0});if(ft){const or=yield ft.getHeartbeatsHeader();or&&tt.append("x-firebase-client",or)}const ln={method:"POST",headers:tt,body:JSON.stringify({fid:Q,authVersion:De,appId:P.appId,sdkVersion:he})},sr=yield jt(()=>fetch(Ee,ln));if(sr.ok){const or=yield sr.json();return{fid:or.fid||Q,registrationStatus:2,refreshToken:or.refreshToken,authToken:je(or.authToken)}}throw yield be("Create Installation",sr)})).apply(this,arguments)}function We(P){return new Promise(U=>{setTimeout(U,P)})}const Kt=/^[cdef][\w-]{21}$/;function vn(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const Q=function Tt(P){return function Pt(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return Kt.test(Q)?Q:""}catch(P){return""}}function mn(P){return`${P.appName}!${P.appId}`}const An=new Map;function sn(P,U){const Q=mn(P);kn(Q,U),function Dn(P,U){const Q=function ur(){return!Kn&&"BroadcastChannel"in self&&(Kn=new BroadcastChannel("[Firebase] FID Change"),Kn.onmessage=P=>{kn(P.data.key,P.data.fid)}),Kn}();Q&&Q.postMessage({key:P,fid:U}),function lr(){0===An.size&&Kn&&(Kn.close(),Kn=null)}()}(Q,U)}function kn(P,U){const Q=An.get(P);if(Q)for(const Ee of Q)Ee(U)}let Kn=null;const rr="firebase-installations-store";let cr=null;function ti(){return cr||(cr=(0,de.X3)("firebase-installations-database",1,(P,U)=>{0===U&&P.createObjectStore(rr)})),cr}function an(P,U){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,oe.Z)(function*(P,U){const Q=mn(P),tt=(yield ti()).transaction(rr,"readwrite"),ft=tt.objectStore(rr),qt=yield ft.get(Q);return yield ft.put(U,Q),yield tt.complete,(!qt||qt.fid!==U.fid)&&sn(P,U.fid),U})).apply(this,arguments)}function Qn(P){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,oe.Z)(function*(P){const U=mn(P),Ee=(yield ti()).transaction(rr,"readwrite");yield Ee.objectStore(rr).delete(U),yield Ee.complete})).apply(this,arguments)}function kr(P,U){return zr.apply(this,arguments)}function zr(){return(zr=(0,oe.Z)(function*(P,U){const Q=mn(P),tt=(yield ti()).transaction(rr,"readwrite"),ft=tt.objectStore(rr),qt=yield ft.get(Q),ln=U(qt);return void 0===ln?yield ft.delete(Q):yield ft.put(ln,Q),yield tt.complete,ln&&(!qt||qt.fid!==ln.fid)&&sn(P,ln.fid),ln})).apply(this,arguments)}function yr(P){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,oe.Z)(function*(P){let U;const Q=yield kr(P.appConfig,Ee=>{const tt=mt(Ee),ft=ve(P,tt);return U=ft.registrationPromise,ft.installationEntry});return""===Q.fid?{installationEntry:yield U}:{installationEntry:Q,registrationPromise:U}})).apply(this,arguments)}function mt(P){return En(P||{fid:vn(),registrationStatus:0})}function ve(P,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(Xe.create("app-offline"))};const Q={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},Ee=function it(P,U){return ht.apply(this,arguments)}(P,Q);return{installationEntry:Q,registrationPromise:Ee}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:vt(P)}:{installationEntry:U}}function ht(){return(ht=(0,oe.Z)(function*(P,U){try{const Q=yield ut(P,U);return an(P.appConfig,Q)}catch(Q){throw St(Q)&&409===Q.customData.serverCode?yield Qn(P.appConfig):yield an(P.appConfig,{fid:U.fid,registrationStatus:0}),Q}})).apply(this,arguments)}function vt(P){return xn.apply(this,arguments)}function xn(){return(xn=(0,oe.Z)(function*(P){let U=yield dr(P.appConfig);for(;1===U.registrationStatus;)yield We(100),U=yield dr(P.appConfig);if(0===U.registrationStatus){const{installationEntry:Q,registrationPromise:Ee}=yield yr(P);return Ee||Q}return U})).apply(this,arguments)}function dr(P){return kr(P,U=>{if(!U)throw Xe.create("installation-not-found");return En(U)})}function En(P){return function _r(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function $n(P,U){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,oe.Z)(function*({appConfig:P,heartbeatServiceProvider:U},Q){const Ee=pn(P,Q),tt=Fe(P,Q),ft=U.getImmediate({optional:!0});if(ft){const or=yield ft.getHeartbeatsHeader();or&&tt.append("x-firebase-client",or)}const ln={method:"POST",headers:tt,body:JSON.stringify({installation:{sdkVersion:he,appId:P.appId}})},sr=yield jt(()=>fetch(Ee,ln));if(sr.ok)return je(yield sr.json());throw yield be("Generate Auth Token",sr)})).apply(this,arguments)}function pn(P,{fid:U}){return`${Ye(P)}/${U}/authTokens:generate`}function Lr(P){return ct.apply(this,arguments)}function ct(){return(ct=(0,oe.Z)(function*(P,U=!1){let Q;const Ee=yield kr(P.appConfig,ft=>{if(!At(ft))throw Xe.create("not-registered");const qt=ft.authToken;if(!U&&we(qt))return ft;if(1===qt.requestStatus)return Q=ee(P,U),ft;{if(!navigator.onLine)throw Xe.create("app-offline");const ln=Se(ft);return Q=Ce(P,ln),ln}});return Q?yield Q:Ee.authToken})).apply(this,arguments)}function ee(P,U){return H.apply(this,arguments)}function H(){return(H=(0,oe.Z)(function*(P,U){let Q=yield q(P.appConfig);for(;1===Q.authToken.requestStatus;)yield We(100),Q=yield q(P.appConfig);const Ee=Q.authToken;return 0===Ee.requestStatus?Lr(P,U):Ee})).apply(this,arguments)}function q(P){return kr(P,U=>{if(!At(U))throw Xe.create("not-registered");return function Ze(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function Ce(P,U){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,oe.Z)(function*(P,U){try{const Q=yield $n(P,U),Ee=Object.assign(Object.assign({},U),{authToken:Q});return yield an(P.appConfig,Ee),Q}catch(Q){if(!St(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const Ee=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield an(P.appConfig,Ee)}else yield Qn(P.appConfig);throw Q}})).apply(this,arguments)}function At(P){return void 0!==P&&2===P.registrationStatus}function we(P){return 2===P.requestStatus&&!function me(P){const U=Date.now();return U<P.creationTime||P.creationTime+P.expiresIn<U+36e5}(P)}function Se(P){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:U})}function Gt(){return(Gt=(0,oe.Z)(function*(P){const U=P,{installationEntry:Q,registrationPromise:Ee}=yield yr(U);return Ee?Ee.catch(console.error):Lr(U).catch(console.error),Q.fid})).apply(this,arguments)}function ye(){return(ye=(0,oe.Z)(function*(P,U=!1){const Q=P;return yield ge(Q),(yield Lr(Q,U)).token})).apply(this,arguments)}function ge(P){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,oe.Z)(function*(P){const{registrationPromise:U}=yield yr(P);U&&(yield U)})).apply(this,arguments)}function Vr(P){return Xe.create("missing-app-config-values",{valueName:P})}const Li="installations",en=P=>{const U=P.getProvider("app").getImmediate(),Q=function yi(P){if(!P||!P.options)throw Vr("App Configuration");if(!P.name)throw Vr("App Name");const U=["projectId","apiKey","appId"];for(const Q of U)if(!P.options[Q])throw Vr(Q);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(U);return{app:U,appConfig:Q,heartbeatServiceProvider:(0,pe._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},Ln=P=>{const U=P.getProvider("app").getImmediate(),Q=(0,pe._getProvider)(U,Li).getImmediate();return{getId:()=>function $e(P){return Gt.apply(this,arguments)}(Q),getToken:tt=>function Ne(P){return ye.apply(this,arguments)}(Q,tt)}};(function vr(){(0,pe._registerComponent)(new Ae.wA(Li,en,"PUBLIC")),(0,pe._registerComponent)(new Ae.wA("installations-internal",Ln,"PRIVATE"))})(),(0,pe.registerVersion)(ae,"0.5.8"),(0,pe.registerVersion)(ae,"0.5.8","esm2017");const Ci="@firebase/remote-config",br=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ps{constructor(U,Q,Ee,tt){this.client=U,this.storage=Q,this.storageCache=Ee,this.logger=tt}isCachedDataFresh(U,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ee=Date.now()-Q,tt=Ee<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${tt}.`),tt}fetch(U){var Q=this;return(0,oe.Z)(function*(){const[Ee,tt]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(tt&&Q.isCachedDataFresh(U.cacheMaxAgeMillis,Ee))return tt;U.eTag=tt&&tt.eTag;const ft=yield Q.client.fetch(U),qt=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ft.status&&qt.push(Q.storage.setLastSuccessfulFetchResponse(ft)),yield Promise.all(qt),ft})()}}function zi(P=navigator){return P.languages&&P.languages[0]||P.language}class Vi{constructor(U,Q,Ee,tt,ft,qt){this.firebaseInstallations=U,this.sdkVersion=Q,this.namespace=Ee,this.projectId=tt,this.apiKey=ft,this.appId=qt}fetch(U){var Q=this;return(0,oe.Z)(function*(){const[Ee,tt]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),qt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},sr={sdk_version:Q.sdkVersion,app_instance_id:Ee,app_instance_id_token:tt,app_id:Q.appId,language_code:zi()},or={method:"POST",headers:ln,body:JSON.stringify(sr)},ar=fetch(qt,or),jn=new Promise((Yo,Ls)=>{U.signal.addEventListener(()=>{const $a=new Error("The operation was aborted.");$a.name="AbortError",Ls($a)})});let ds;try{yield Promise.race([ar,jn]),ds=yield ar}catch(Yo){let Ls="fetch-client-network";throw"AbortError"===Yo.name&&(Ls="fetch-timeout"),br.create(Ls,{originalErrorMessage:Yo.message})}let Es=ds.status;const Pa=ds.headers.get("ETag")||void 0;let Na,Pi;if(200===ds.status){let Yo;try{Yo=yield ds.json()}catch(Ls){throw br.create("fetch-client-parse",{originalErrorMessage:Ls.message})}Na=Yo.entries,Pi=Yo.state}if("INSTANCE_STATE_UNSPECIFIED"===Pi?Es=500:"NO_CHANGE"===Pi?Es=304:("NO_TEMPLATE"===Pi||"EMPTY_CONFIG"===Pi)&&(Na={}),304!==Es&&200!==Es)throw br.create("fetch-status",{httpStatus:Es});return{status:Es,eTag:Pa,config:Na}})()}}class Bi{constructor(U,Q){this.client=U,this.storage=Q}fetch(U){var Q=this;return(0,oe.Z)(function*(){const Ee=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(U,Ee)})()}attemptFetch(U,{throttleEndTimeMillis:Q,backoffCount:Ee}){var tt=this;return(0,oe.Z)(function*(){yield function Ri(P,U){return new Promise((Q,Ee)=>{const tt=Math.max(U-Date.now(),0),ft=setTimeout(Q,tt);P.addEventListener(()=>{clearTimeout(ft),Ee(br.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,Q);try{const ft=yield tt.client.fetch(U);return yield tt.storage.deleteThrottleMetadata(),ft}catch(ft){if(!function Aa(P){if(!(P instanceof de.ZR&&P.customData))return!1;const U=Number(P.customData.httpStatus);return 429===U||500===U||503===U||504===U}(ft))throw ft;const qt={throttleEndTimeMillis:Date.now()+(0,de.$s)(Ee),backoffCount:Ee+1};return yield tt.storage.setThrottleMetadata(qt),tt.attemptFetch(U,qt)}})()}}class Eo{constructor(U,Q,Ee,tt,ft){this.app=U,this._client=Q,this._storageCache=Ee,this._storage=tt,this._logger=ft,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function As(P,U){const Q=P.target.error||void 0;return br.create(U,{originalErrorMessage:Q&&Q.message})}const Ds="app_namespace_store";class Ws{constructor(U,Q,Ee,tt=function Ma(){return new Promise((P,U)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=Ee=>{U(As(Ee,"storage-open"))},Q.onsuccess=Ee=>{P(Ee.target.result)},Q.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(Q){U(br.create("storage-open",{originalErrorMessage:Q}))}})}()){this.appId=U,this.appName=Q,this.namespace=Ee,this.openDbPromise=tt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var Q=this;return(0,oe.Z)(function*(){const Ee=yield Q.openDbPromise;return new Promise((tt,ft)=>{const ln=Ee.transaction([Ds],"readonly").objectStore(Ds),sr=Q.createCompositeKey(U);try{const or=ln.get(sr);or.onerror=ar=>{ft(As(ar,"storage-get"))},or.onsuccess=ar=>{const jn=ar.target.result;tt(jn?jn.value:void 0)}}catch(or){ft(br.create("storage-get",{originalErrorMessage:or&&or.message}))}})})()}set(U,Q){var Ee=this;return(0,oe.Z)(function*(){const tt=yield Ee.openDbPromise;return new Promise((ft,qt)=>{const sr=tt.transaction([Ds],"readwrite").objectStore(Ds),or=Ee.createCompositeKey(U);try{const ar=sr.put({compositeKey:or,value:Q});ar.onerror=jn=>{qt(As(jn,"storage-set"))},ar.onsuccess=()=>{ft()}}catch(ar){qt(br.create("storage-set",{originalErrorMessage:ar&&ar.message}))}})})()}delete(U){var Q=this;return(0,oe.Z)(function*(){const Ee=yield Q.openDbPromise;return new Promise((tt,ft)=>{const ln=Ee.transaction([Ds],"readwrite").objectStore(Ds),sr=Q.createCompositeKey(U);try{const or=ln.delete(sr);or.onerror=ar=>{ft(As(ar,"storage-delete"))},or.onsuccess=()=>{tt()}}catch(or){ft(br.create("storage-delete",{originalErrorMessage:or&&or.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class Cs{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,oe.Z)(function*(){const Q=U.storage.getLastFetchStatus(),Ee=U.storage.getLastSuccessfulFetchTimestampMillis(),tt=U.storage.getActiveConfig(),ft=yield Q;ft&&(U.lastFetchStatus=ft);const qt=yield Ee;qt&&(U.lastSuccessfulFetchTimestampMillis=qt);const ln=yield tt;ln&&(U.activeConfig=ln)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function xs(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,oe.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(P){return!1}})).apply(this,arguments)}!function Ms(){(0,pe._registerComponent)(new Ae.wA("remote-config",function P(U,{instanceIdentifier:Q}){const Ee=U.getProvider("app").getImmediate(),tt=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw br.create("registration-window");if(!(0,de.hl)())throw br.create("indexed-db-unavailable");const{projectId:ft,apiKey:qt,appId:ln}=Ee.options;if(!ft)throw br.create("registration-project-id");if(!qt)throw br.create("registration-api-key");if(!ln)throw br.create("registration-app-id");const sr=new Ws(ln,Ee.name,Q=Q||"firebase"),or=new Cs(sr),ar=new Re.Yd(Ci);ar.logLevel=Re.in.ERROR;const jn=new Vi(tt,pe.SDK_VERSION,Q,ft,qt,ln),ds=new Bi(jn,sr),Es=new ps(ds,sr,or,ar),Pa=new Eo(Ee,Es,or,sr,ar);return function He(P){const U=(0,de.m9)(P);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(Pa),Pa},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(Ci,"0.3.7"),(0,pe.registerVersion)(Ci,"0.3.7","esm2017")}();const Qi="/firebase-messaging-sw.js",as="/firebase-cloud-messaging-push-scope",Ui="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xi="google.c.a.c_id",ji="google.c.a.c_l",gs="google.c.a.ts",js="google.c.a.e";var Gi=(()=>{return(P=Gi||(Gi={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",Gi;var P})();function Rr(P){const U=new Uint8Array(P);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ks(P){const Q=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ee=atob(Q),tt=new Uint8Array(Ee.length);for(let ft=0;ft<Ee.length;++ft)tt[ft]=Ee.charCodeAt(ft);return tt}const so="fcm_token_details_db",Wi="fcm_token_object_Store";function wo(P){return fi.apply(this,arguments)}function fi(){return fi=(0,oe.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ft=>ft.name).includes(so))return null;let U=null;return(yield(0,de.X3)(so,5,function(){var Ee=(0,oe.Z)(function*(tt,ft,qt,ln){var sr;if(ft<2||!tt.objectStoreNames.contains(Wi))return;const or=ln.objectStore(Wi),ar=yield or.index("fcmSenderId").get(P);if(yield or.clear(),ar)if(2===ft){const jn=ar;if(!jn.auth||!jn.p256dh||!jn.endpoint)return;U={token:jn.fcmToken,createTime:null!==(sr=jn.createTime)&&void 0!==sr?sr:Date.now(),subscriptionOptions:{auth:jn.auth,p256dh:jn.p256dh,endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:"string"==typeof jn.vapidKey?jn.vapidKey:Rr(jn.vapidKey)}}}else if(3===ft){const jn=ar;U={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Rr(jn.auth),p256dh:Rr(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Rr(jn.vapidKey)}}}else if(4===ft){const jn=ar;U={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:Rr(jn.auth),p256dh:Rr(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:Rr(jn.vapidKey)}}}});return function(tt,ft,qt,ln){return Ee.apply(this,arguments)}}())).close(),yield(0,de.Lj)(so),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),Os(U)?U:null}),fi.apply(this,arguments)}function Os(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:U}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const ys="firebase-messaging-store";let Hs=null;function ks(){return Hs||(Hs=(0,de.X3)("firebase-messaging-database",1,(P,U)=>{0===U&&P.createObjectStore(ys)})),Hs}function Ir(P){return V.apply(this,arguments)}function V(){return(V=(0,oe.Z)(function*(P){const U=yt(P),Ee=yield(yield ks()).transaction(ys).objectStore(ys).get(U);if(Ee)return Ee;{const tt=yield wo(P.appConfig.senderId);if(tt)return yield te(P,tt),tt}})).apply(this,arguments)}function te(P,U){return B.apply(this,arguments)}function B(){return(B=(0,oe.Z)(function*(P,U){const Q=yt(P),tt=(yield ks()).transaction(ys,"readwrite");return yield tt.objectStore(ys).put(U,Q),yield tt.complete,U})).apply(this,arguments)}function ie(P){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,oe.Z)(function*(P){const U=yt(P),Ee=(yield ks()).transaction(ys,"readwrite");yield Ee.objectStore(ys).delete(U),yield Ee.complete})).apply(this,arguments)}function yt({appConfig:P}){return P.appId}const tn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jr(P,U){return ir.apply(this,arguments)}function ir(){return(ir=(0,oe.Z)(function*(P,U){const Q=yield j(P),Ee=x(U),tt={method:"POST",headers:Q,body:JSON.stringify(Ee)};let ft;try{ft=yield(yield fetch(Ur(P.appConfig),tt)).json()}catch(qt){throw tn.create("token-subscribe-failed",{errorInfo:qt})}if(ft.error)throw tn.create("token-subscribe-failed",{errorInfo:ft.error.message});if(!ft.token)throw tn.create("token-subscribe-no-token");return ft.token})).apply(this,arguments)}function Xn(P,U){return qn.apply(this,arguments)}function qn(){return(qn=(0,oe.Z)(function*(P,U){const Q=yield j(P),Ee=x(U.subscriptionOptions),tt={method:"PATCH",headers:Q,body:JSON.stringify(Ee)};let ft;try{ft=yield(yield fetch(`${Ur(P.appConfig)}/${U.token}`,tt)).json()}catch(qt){throw tn.create("token-update-failed",{errorInfo:qt})}if(ft.error)throw tn.create("token-update-failed",{errorInfo:ft.error.message});if(!ft.token)throw tn.create("token-update-no-token");return ft.token})).apply(this,arguments)}function ei(P,U){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,oe.Z)(function*(P,U){const Ee={method:"DELETE",headers:yield j(P)};try{const ft=yield(yield fetch(`${Ur(P.appConfig)}/${U}`,Ee)).json();if(ft.error)throw tn.create("token-unsubscribe-failed",{errorInfo:ft.error.message})}catch(tt){throw tn.create("token-unsubscribe-failed",{errorInfo:tt})}})).apply(this,arguments)}function Ur({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function j(P){return F.apply(this,arguments)}function F(){return(F=(0,oe.Z)(function*({appConfig:P,installations:U}){const Q=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function x({p256dh:P,auth:U,endpoint:Q,vapidKey:Ee}){const tt={web:{endpoint:Q,auth:U,p256dh:P}};return Ee!==Ui&&(tt.web.applicationPubKey=Ee),tt}const re=6048e5;function Dt(P){return yn.apply(this,arguments)}function yn(){return(yn=(0,oe.Z)(function*(P){const U=yield na(P.swRegistration,P.vapidKey),Q={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:U.endpoint,auth:Rr(U.getKey("auth")),p256dh:Rr(U.getKey("p256dh"))},Ee=yield Ir(P.firebaseDependencies);if(Ee){if(ra(Ee.subscriptionOptions,Q))return Date.now()>=Ee.createTime+re?Zs(P,{token:Ee.token,createTime:Date.now(),subscriptionOptions:Q}):Ee.token;try{yield ei(P.firebaseDependencies,Ee.token)}catch(tt){console.warn(tt)}return Lt(P.firebaseDependencies,Q)}return Lt(P.firebaseDependencies,Q)})).apply(this,arguments)}function ri(P){return us.apply(this,arguments)}function us(){return(us=(0,oe.Z)(function*(P){const U=yield Ir(P.firebaseDependencies);U&&(yield ei(P.firebaseDependencies,U.token),yield ie(P.firebaseDependencies));const Q=yield P.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function Zs(P,U){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,oe.Z)(function*(P,U){try{const Q=yield Xn(P.firebaseDependencies,U),Ee=Object.assign(Object.assign({},U),{token:Q,createTime:Date.now()});return yield te(P.firebaseDependencies,Ee),Q}catch(Q){throw yield ri(P),Q}})).apply(this,arguments)}function Lt(P,U){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,oe.Z)(function*(P,U){const Ee={token:yield jr(P,U),createTime:Date.now(),subscriptionOptions:U};return yield te(P,Ee),Ee.token})).apply(this,arguments)}function na(P,U){return bi.apply(this,arguments)}function bi(){return(bi=(0,oe.Z)(function*(P,U){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ks(U)})})).apply(this,arguments)}function ra(P,U){return U.vapidKey===P.vapidKey&&U.endpoint===P.endpoint&&U.auth===P.auth&&U.p256dh===P.p256dh}function Ao(P){const U={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function ao(P,U){if(!U.notification)return;P.notification={};const Q=U.notification.title;Q&&(P.notification.title=Q);const Ee=U.notification.body;Ee&&(P.notification.body=Ee);const tt=U.notification.image;tt&&(P.notification.image=tt)}(U,P),function Mo(P,U){!U.data||(P.data=U.data)}(U,P),function ia(P,U){if(!U.fcmOptions)return;P.fcmOptions={};const Q=U.fcmOptions.link;Q&&(P.fcmOptions.link=Q);const Ee=U.fcmOptions.analytics_label;Ee&&(P.fcmOptions.analyticsLabel=Ee)}(U,P),U}function El(P){return"object"==typeof P&&!!P&&Xi in P}function Vo(P,U){const Q=[];for(let Ee=0;Ee<P.length;Ee++)Q.push(P.charAt(Ee)),Ee<U.length&&Q.push(U.charAt(Ee));return Q.join("")}function _s(P){return tn.create("missing-app-config-values",{valueName:P})}Vo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ki{constructor(U,Q,Ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const tt=function xo(P){if(!P||!P.options)throw _s("App Configuration Object");if(!P.name)throw _s("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=P;for(const Ee of U)if(!Q[Ee])throw _s(Ee);return{appName:P.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:tt,installations:Q,analyticsProvider:Ee}}_delete(){return Promise.resolve()}}function lo(P){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,oe.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(Qi,{scope:as}),P.swRegistration.update().catch(()=>{})}catch(U){throw tn.create("failed-service-worker-registration",{browserErrorMessage:U.message})}})).apply(this,arguments)}function W(P,U){return g.apply(this,arguments)}function g(){return(g=(0,oe.Z)(function*(P,U){if(!U&&!P.swRegistration&&(yield lo(P)),U||!P.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw tn.create("invalid-sw-registration");P.swRegistration=U}})).apply(this,arguments)}function w(P,U){return N.apply(this,arguments)}function N(){return(N=(0,oe.Z)(function*(P,U){U?P.vapidKey=U:P.vapidKey||(P.vapidKey=Ui)})).apply(this,arguments)}function ce(){return(ce=(0,oe.Z)(function*(P,U){if(!navigator)throw tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw tn.create("permission-blocked");return yield w(P,null==U?void 0:U.vapidKey),yield W(P,null==U?void 0:U.serviceWorkerRegistration),Dt(P)})).apply(this,arguments)}function Me(P,U,Q){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,oe.Z)(function*(P,U,Q){const Ee=st(U);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(Ee,{message_id:Q[Xi],message_name:Q[ji],message_time:Q[gs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function st(P){switch(P){case Gi.NOTIFICATION_CLICKED:return"notification_open";case Gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function cn(){return(cn=(0,oe.Z)(function*(P,U){const Q=U.data;if(!Q.isFirebaseMessaging)return;P.onMessageHandler&&Q.messageType===Gi.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Ao(Q)):P.onMessageHandler.next(Ao(Q)));const Ee=Q.data;El(Ee)&&"1"===Ee[js]&&(yield Me(P,Q.messageType,Ee))})).apply(this,arguments)}const Cn="@firebase/messaging",Jn=P=>{const U=new Ki(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function Ct(P,U){return cn.apply(this,arguments)}(U,Q)),U},Vn=P=>{const U=P.getProvider("messaging").getImmediate();return{getToken:Ee=>function Z(P,U){return ce.apply(this,arguments)}(U,Ee)}};function Wr(){return oi.apply(this,arguments)}function oi(){return(oi=(0,oe.Z)(function*(){try{yield(0,de.eu)()}catch(P){return!1}return"undefined"!=typeof window&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function er(){(0,pe._registerComponent)(new Ae.wA("messaging",Jn,"PUBLIC")),(0,pe._registerComponent)(new Ae.wA("messaging-internal",Vn,"PRIVATE")),(0,pe.registerVersion)(Cn,"0.9.12"),(0,pe.registerVersion)(Cn,"0.9.12","esm2017")}();const zs="analytics",Do="firebase_id",Uo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sa="https://www.googletagmanager.com/gtag/js",Xt=new Re.Yd("@firebase/analytics");function Pn(P){return Promise.all(P.map(U=>U.catch(Q=>Q)))}function Bn(P,U){const Q=document.createElement("script");Q.src=`${sa}?l=${P}&id=${U}`,Q.async=!0,document.head.appendChild(Q)}function ii(P,U,Q,Ee,tt,ft){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,oe.Z)(function*(P,U,Q,Ee,tt,ft){const qt=Ee[tt];try{if(qt)yield U[qt];else{const sr=(yield Pn(Q)).find(or=>or.measurementId===tt);sr&&(yield U[sr.appId])}}catch(ln){Xt.error(ln)}P("config",tt,ft)})).apply(this,arguments)}function qr(P,U,Q,Ee,tt){return fr.apply(this,arguments)}function fr(){return(fr=(0,oe.Z)(function*(P,U,Q,Ee,tt){try{let ft=[];if(tt&&tt.send_to){let qt=tt.send_to;Array.isArray(qt)||(qt=[qt]);const ln=yield Pn(Q);for(const sr of qt){const or=ln.find(jn=>jn.measurementId===sr),ar=or&&U[or.appId];if(!ar){ft=[];break}ft.push(ar)}}0===ft.length&&(ft=Object.values(U)),yield Promise.all(ft),P("event",Ee,tt||{})}catch(ft){Xt.error(ft)}})).apply(this,arguments)}function el(){const P=window.document.getElementsByTagName("script");for(const U of Object.values(P))if(U.src&&U.src.includes(sa))return U;return null}const Tr=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Nn=new class _n{constructor(U={},Q=1e3){this.throttleMetadata=U,this.intervalMillis=Q}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,Q){this.throttleMetadata[U]=Q}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function wl(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Jt(P){return pt.apply(this,arguments)}function pt(){return(pt=(0,oe.Z)(function*(P){var U;const{appId:Q,apiKey:Ee}=P,tt={method:"GET",headers:wl(Ee)},ft=Uo.replace("{app-id}",Q),qt=yield fetch(ft,tt);if(200!==qt.status&&304!==qt.status){let ln="";try{const sr=yield qt.json();(null===(U=sr.error)||void 0===U?void 0:U.message)&&(ln=sr.error.message)}catch(sr){}throw Tr.create("config-fetch-failed",{httpStatus:qt.status,responseMessage:ln})}return qt.json()})).apply(this,arguments)}function Ht(P){return wi.apply(this,arguments)}function wi(){return(wi=(0,oe.Z)(function*(P,U=Nn,Q){const{appId:Ee,apiKey:tt,measurementId:ft}=P.options;if(!Ee)throw Tr.create("no-app-id");if(!tt){if(ft)return{measurementId:ft,appId:Ee};throw Tr.create("no-api-key")}const qt=U.getThrottleMetadata(Ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ln=new zo;return setTimeout((0,oe.Z)(function*(){ln.abort()}),void 0!==Q?Q:6e4),Ho({appId:Ee,apiKey:tt,measurementId:ft},qt,ln,U)})).apply(this,arguments)}function Ho(P,U,Q){return $o.apply(this,arguments)}function $o(){return($o=(0,oe.Z)(function*(P,{throttleEndTimeMillis:U,backoffCount:Q},Ee,tt=Nn){const{appId:ft,measurementId:qt}=P;try{yield Ll(Ee,U)}catch(ln){if(qt)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${ln.message}]`),{appId:ft,measurementId:qt};throw ln}try{const ln=yield Jt(P);return tt.deleteThrottleMetadata(ft),ln}catch(ln){if(!tl(ln)){if(tt.deleteThrottleMetadata(ft),qt)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${ln.message}]`),{appId:ft,measurementId:qt};throw ln}const sr=503===Number(ln.customData.httpStatus)?(0,de.$s)(Q,tt.intervalMillis,30):(0,de.$s)(Q,tt.intervalMillis),or={throttleEndTimeMillis:Date.now()+sr,backoffCount:Q+1};return tt.setThrottleMetadata(ft,or),Xt.debug(`Calling attemptFetch again in ${sr} millis`),Ho(P,or,Ee,tt)}})).apply(this,arguments)}function Ll(P,U){return new Promise((Q,Ee)=>{const tt=Math.max(U-Date.now(),0),ft=setTimeout(Q,tt);P.addEventListener(()=>{clearTimeout(ft),Ee(Tr.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function tl(P){if(!(P instanceof de.ZR&&P.customData))return!1;const U=Number(P.customData.httpStatus);return 429===U||500===U||503===U||504===U}class zo{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}function Go(){return qi.apply(this,arguments)}function qi(){return(qi=(0,oe.Z)(function*(){if(!(0,de.hl)())return Xt.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(P){return Xt.warn(Tr.create("indexeddb-unavailable",{errorInfo:P}).message),!1}return!0})).apply(this,arguments)}function oa(){return(oa=(0,oe.Z)(function*(P,U,Q,Ee,tt,ft,qt){var ln;const sr=Ht(P);sr.then(Es=>{Q[Es.measurementId]=Es.appId,P.options.measurementId&&Es.measurementId!==P.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${Es.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Es=>Xt.error(Es)),U.push(sr);const or=Go().then(Es=>{if(Es)return Ee.getId()}),[ar,jn]=yield Promise.all([sr,or]);el()||Bn(ft,ar.measurementId),tt("js",new Date);const ds=null!==(ln=null==qt?void 0:qt.config)&&void 0!==ln?ln:{};return ds.origin="firebase",ds.update=!0,null!=jn&&(ds[Do]=jn),tt("config",ar.measurementId,ds),ar.measurementId})).apply(this,arguments)}class Ns{constructor(U){this.app=U}_delete(){return delete A[this.app.options.appId],Promise.resolve()}}let A={},C=[];const b={};let J,ue,L="dataLayer",ke=!1;function Yn(P,U,Q){!function on(){const P=[];if((0,de.ru)()&&P.push("This is a browser extension environment."),(0,de.zI)()||P.push("Cookies are not available."),P.length>0){const U=P.map((Ee,tt)=>`(${tt+1}) ${Ee}`).join(" "),Q=Tr.create("invalid-analytics-context",{errorInfo:U});Xt.warn(Q.message)}}();const Ee=P.options.appId;if(!Ee)throw Tr.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw Tr.create("no-api-key");Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=A[Ee])throw Tr.create("already-exists",{id:Ee});if(!ke){!function zn(P){let U=[];Array.isArray(window[P])?U=window[P]:window[P]=U}(L);const{wrappedGtag:ft,gtagCore:qt}=function jo(P,U,Q,Ee,tt){let ft=function(...qt){window[Ee].push(arguments)};return window[tt]&&"function"==typeof window[tt]&&(ft=window[tt]),window[tt]=function Fr(P,U,Q,Ee){function ft(){return(ft=(0,oe.Z)(function*(qt,ln,sr){try{"event"===qt?yield qr(P,U,Q,ln,sr):"config"===qt?yield ii(P,U,Q,Ee,ln,sr):P("set",ln)}catch(or){Xt.error(or)}})).apply(this,arguments)}return function tt(qt,ln,sr){return ft.apply(this,arguments)}}(ft,P,U,Q),{gtagCore:ft,wrappedGtag:window[tt]}}(A,C,b,L,"gtag");ue=ft,J=qt,ke=!0}return A[Ee]=function Co(P,U,Q,Ee,tt,ft,qt){return oa.apply(this,arguments)}(P,C,b,U,J,L,Q),new Ns(P)}function Zr(){return(Zr=(0,oe.Z)(function*(P,U,Q,Ee,tt){if(tt&&tt.global)P("event",Q,Ee);else{const ft=yield U;P("event",Q,Object.assign(Object.assign({},Ee),{send_to:ft}))}})).apply(this,arguments)}function co(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,oe.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch(P){return!1}})).apply(this,arguments)}const ou="@firebase/analytics";!function _a(){(0,pe._registerComponent)(new Ae.wA(zs,(U,{options:Q})=>Yn(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,pe._registerComponent)(new Ae.wA("analytics-internal",function P(U){try{const Q=U.getProvider(zs).getImmediate();return{logEvent:(Ee,tt,ft)=>function un(P,U,Q,Ee){P=(0,de.m9)(P),function Qt(P,U,Q,Ee,tt){return Zr.apply(this,arguments)}(ue,A[P.app.options.appId],U,Q,Ee).catch(tt=>Xt.error(tt))}(Q,Ee,tt,ft)}}catch(Q){throw Tr.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,pe.registerVersion)(ou,"0.7.8"),(0,pe.registerVersion)(ou,"0.7.8","esm2017")}();var ko=k(4408),Ko=k(7565);const ki=new class ns extends Ko.v{}(class aa extends ko.o{constructor(U,Q){super(U,Q),this.scheduler=U,this.work=Q}schedule(U,Q=0){return Q>0?super.schedule(U,Q):(this.delay=Q,this.state=U,this.scheduler.flush(this),this)}execute(U,Q){return Q>0||this.closed?super.execute(U,Q):this._execute(U,Q)}requestAsyncId(U,Q,Ee=0){return null!=Ee&&Ee>0||null==Ee&&this.delay>0?super.requestAsyncId(U,Q,Ee):U.flush(this)}});var va=k(4986),Po=k(8306),vs=k(8505),Io=k(9468),xa=k(5363);const Ra=new h.GfV("7.3.0"),cs="__angularfire_symbol__analyticsIsSupportedValue",ba="__angularfire_symbol__analyticsIsSupported",Dl="__angularfire_symbol__remoteConfigIsSupportedValue",Bl="__angularfire_symbol__remoteConfigIsSupported",Ul="__angularfire_symbol__messagingIsSupportedValue",Xs="__angularfire_symbol__messagingIsSupported";function Oa(P,U,Q){if(U){if(1===U.length)return U[0];const ft=U.filter(qt=>qt.app===Q);if(1===ft.length)return ft[0]}return Q.container.getProvider(P).getImmediate({optional:!0})}globalThis[ba]||(globalThis[ba]=co().then(P=>globalThis[cs]=P).catch(()=>globalThis[cs]=!1)),globalThis[Xs]||(globalThis[Xs]=Wr().then(P=>globalThis[Ul]=P).catch(()=>globalThis[Ul]=!1)),globalThis[Bl]||(globalThis[Bl]=xs().then(P=>globalThis[Dl]=P).catch(()=>globalThis[Dl]=!1));const Js=(P,U)=>{const Q=U?[U]:(0,v.C6)(),Ee=[];return Q.forEach(tt=>{tt.container.getProvider(P).instances.forEach(qt=>{Ee.includes(qt)||Ee.push(qt)})}),Ee};function Zo(){}class Ea{constructor(U,Q=ki){this.zone=U,this.delegate=Q}now(){return this.delegate.now()}schedule(U,Q,Ee){const tt=this.zone;return this.delegate.schedule(function(qt){tt.runGuarded(()=>{U.apply(this,[qt])})},Q,Ee)}}class rl{constructor(U){this.zone=U,this.task=null}call(U,Q){const Ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo)),Q.pipe((0,vs.b)({next:Ee,complete:Ee,error:Ee})).subscribe(U).add(Ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Vu=(()=>{class P{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Ea(Zone.current)),this.insideAngular=Q.run(()=>new Ea(Zone.current,va.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(Q){return new(Q||P)(h.LFG(h.R0b))},P.\u0275prov=h.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function bs(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function au(P){return bs().ngZone.runOutsideAngular(()=>P())}function ua(P){return bs().ngZone.run(()=>P())}function No(P){return bs(),function ca(P){return function(Q){return(Q=Q.lift(new rl(P.ngZone))).pipe((0,Io.R)(P.outsideAngular),(0,xa.Q)(P.insideAngular))}}(bs())(P)}const Da=(P,U)=>function(){const Ee=arguments;return U&&setTimeout(()=>{"scheduled"===U.state&&U.invoke()},10),ua(()=>P.apply(void 0,Ee))},il=(P,U)=>function(){let Q;const Ee=arguments;for(let ft=0;ft<arguments.length;ft++)"function"==typeof Ee[ft]&&(U&&(Q||(Q=ua(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo)))),Ee[ft]=Da(Ee[ft],Q));const tt=au(()=>P.apply(this,Ee));if(!U){if(tt instanceof Po.y){const ft=bs();return tt.pipe((0,Io.R)(ft.outsideAngular),(0,xa.Q)(ft.insideAngular))}return ua(()=>tt)}return tt instanceof Po.y?tt.pipe(No):tt instanceof Promise?ua(()=>new Promise((ft,qt)=>tt.then(ln=>ua(()=>ft(ln)),ln=>ua(()=>qt(ln))))):"function"==typeof tt&&Q?function(){return setTimeout(()=>{Q&&"scheduled"===Q.state&&Q.invoke()},10),tt.apply(this,arguments)}:ua(()=>tt)}},573:(Yt,ze,k)=>{k.d(ze,{$:()=>Dt,A:()=>he,E:()=>Ln,G:()=>hr,I:()=>Bi,K:()=>me,L:()=>Rs,M:()=>ga,N:()=>Xi,P:()=>Ra,Q:()=>ji,R:()=>Wo,T:()=>Ui,U:()=>Gi,V:()=>Rr,W:()=>wo,X:()=>It,Y:()=>jr,Z:()=>Xn,_:()=>Ur,a:()=>es,a0:()=>ri,a1:()=>Zs,a2:()=>Lt,a3:()=>na,a4:()=>ra,a5:()=>ao,a6:()=>Mo,a7:()=>El,a8:()=>Vo,a9:()=>lo,aA:()=>jn,aB:()=>ca,aC:()=>wr,aG:()=>Nn,aJ:()=>js,aa:()=>W,ab:()=>w,ae:()=>Me,af:()=>st,ag:()=>Ct,aj:()=>ys,ak:()=>Ni,am:()=>Uo,an:()=>ii,ao:()=>Ar,ap:()=>Bt,aq:()=>gn,ar:()=>Ve,as:()=>Ye,at:()=>Ic,au:()=>Cl,av:()=>je,aw:()=>Fe,ax:()=>nt,ay:()=>Se,az:()=>Pi,b:()=>Vt,c:()=>Ii,d:()=>Zo,e:()=>Oa,f:()=>P,g:()=>qt,h:()=>Ee,i:()=>on,j:()=>or,k:()=>Va,l:()=>ns,m:()=>nd,n:()=>hu,o:()=>ae,r:()=>la,s:()=>aa,u:()=>Io,z:()=>Ge});var h=k(5861),v=k(2090),oe=k(9681),pe=k(655),de=k(1877),Ae=k(4859);const ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ke=function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new v.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new de.Yd("@firebase/auth");function St(D,...f){Xe.logLevel<=de.in.ERROR&&Xe.error(`Auth (${oe.SDK_VERSION}): ${D}`,...f)}function Ye(D,...f){throw kt(D,...f)}function je(D,...f){return kt(D,...f)}function be(D,f,p){const S=Object.assign(Object.assign({},Ke()),{[f]:p});return new v.LL("auth","Firebase",S).create(f,{appName:D.name})}function qe(D,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&Ye(D,"argument-error"),be(D,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kt(D,...f){if("string"!=typeof D){const p=f[0],S=[...f.slice(1)];return S[0]&&(S[0].appName=D.name),D._errorFactory.create(p,...S)}return dt.create(D,...f)}function Fe(D,f,...p){if(!D)throw kt(f,...p)}function jt(D){const f="INTERNAL ASSERTION FAILED: "+D;throw St(f),new Error(f)}function Bt(D,f){D||jt(f)}const et=new Map;function nt(D){Bt(D instanceof Function,"Expected a class definition");let f=et.get(D);return f?(Bt(f instanceof D,"Instance stored in cache mismatched with class"),f):(f=new D,et.set(D,f),f)}function We(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Pt(){return"http:"===Kt()||"https:"===Kt()}function Kt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Tt{constructor(f,p){this.shortDelay=f,this.longDelay=p,Bt(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,v.uI)()||(0,v.b$)()}get(){return function dn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,v.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mn(D,f){Bt(D.emulator,"Emulator should always be set here");const{url:p}=D.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class An{static initialize(f,p,S){this.fetchImpl=f,p&&(this.headersImpl=p),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void jt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void jt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void jt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hn=new Tt(3e4,6e4);function Mn(D,f){return D.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:D.tenantId}):f}function kn(D,f,p,S){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(D,f,p,S,K={}){return Kn(D,K,(0,h.Z)(function*(){let le={},at={};S&&("GET"===f?at=S:le={body:JSON.stringify(S)});const Ut=(0,v.xO)(Object.assign({key:D.config.apiKey},at)).slice(1),In=yield D._getAdditionalHeaders();return In["Content-Type"]="application/json",D.languageCode&&(In["X-Firebase-Locale"]=D.languageCode),An.fetch()(Sn(D,D.config.apiHost,p,Ut),Object.assign({method:f,headers:In,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Kn(D,f,p){return ur.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(D,f,p){D._canInitEmulator=!1;const S=Object.assign(Object.assign({},sn),f);try{const K=new rr(D),le=yield Promise.race([p(),K.promise]);K.clearNetworkTimeout();const at=yield le.json();if("needConfirmation"in at)throw cr(D,"account-exists-with-different-credential",at);if(le.ok&&!("errorMessage"in at))return at;{const Ut=le.ok?at.errorMessage:at.error.message,[In,wn]=Ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===In)throw cr(D,"credential-already-in-use",at);if("EMAIL_EXISTS"===In)throw cr(D,"email-already-in-use",at);const Sr=S[In]||In.toLowerCase().replace(/[_\s]+/g,"-");if(wn)throw be(D,Sr,wn);Ye(D,Sr)}}catch(K){if(K instanceof v.ZR)throw K;Ye(D,"network-request-failed")}})).apply(this,arguments)}function lr(D,f,p,S){return gr.apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(D,f,p,S,K={}){const le=yield kn(D,f,p,S,K);return"mfaPendingCredential"in le&&Ye(D,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function Sn(D,f,p,S){const K=`${f}${p}?${S}`;return D.config.emulator?mn(D.config,K):`${D.config.apiScheme}://${K}`}class rr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,S)=>{this.timer=setTimeout(()=>S(je(this.auth,"network-request-failed")),hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cr(D,f,p){const S={appName:D.name};p.email&&(S.email=p.email),p.phoneNumber&&(S.phoneNumber=p.phoneNumber);const K=je(D,f,S);return K.customData._tokenResponse=p,K}function an(){return(an=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Wn(D,f){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Zn(D,f){return kr.apply(this,arguments)}function kr(){return(kr=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function zr(D){if(D)try{const f=new Date(Number(D));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function mt(){return(mt=(0,h.Z)(function*(D,f=!1){const p=(0,v.m9)(D),S=yield p.getIdToken(f),K=it(S);Fe(K&&K.exp&&K.auth_time&&K.iat,p.auth,"internal-error");const le="object"==typeof K.firebase?K.firebase:void 0,at=null==le?void 0:le.sign_in_provider;return{claims:K,token:S,authTime:zr(ve(K.auth_time)),issuedAtTime:zr(ve(K.iat)),expirationTime:zr(ve(K.exp)),signInProvider:at||null,signInSecondFactor:(null==le?void 0:le.sign_in_second_factor)||null}})).apply(this,arguments)}function ve(D){return 1e3*Number(D)}function it(D){const[f,p,S]=D.split(".");if(void 0===f||void 0===p||void 0===S)return St("JWT malformed, contained fewer than 3 sections"),null;try{const K=(0,v.tV)(p);return K?JSON.parse(K):(St("Failed to decode base64 JWT payload"),null)}catch(K){return St("Caught error parsing JWT payload as JSON",K),null}}function vt(D,f){return xn.apply(this,arguments)}function xn(){return(xn=(0,h.Z)(function*(D,f,p=!1){if(p)return f;try{return yield f}catch(S){throw S instanceof v.ZR&&dr(S)&&D.auth.currentUser===D&&(yield D.auth.signOut()),S}})).apply(this,arguments)}function dr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class En{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const K=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const S=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield p.iteration()}),S)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&f.schedule(!0))}f.schedule()})()}}class _r{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=zr(this.lastLoginAt),this.creationTime=zr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $n(D){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,h.Z)(function*(D){var f;const p=D.auth,S=yield D.getIdToken(),K=yield vt(D,Zn(p,{idToken:S}));Fe(null==K?void 0:K.users.length,p,"internal-error");const le=K.users[0];D._notifyReloadListener(le);const at=(null===(f=le.providerUserInfo)||void 0===f?void 0:f.length)?ee(le.providerUserInfo):[],Ut=ct(D.providerData,at),Sr=!!D.isAnonymous&&!(D.email&&le.passwordHash||(null==Ut?void 0:Ut.length)),Hr={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:Ut,metadata:new _r(le.createdAt,le.lastLoginAt),isAnonymous:Sr};Object.assign(D,Hr)})).apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(D){const f=(0,v.m9)(D);yield $n(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ct(D,f){return[...D.filter(S=>!f.some(K=>K.providerId===S.providerId)),...f]}function ee(D){return D.map(f=>{var{providerId:p}=f,S=(0,pe._T)(f,["providerId"]);return{providerId:p,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function q(){return(q=(0,h.Z)(function*(D,f){const p=yield Kn(D,{},(0,h.Z)(function*(){const S=(0,v.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:K,apiKey:le}=D.config,at=Sn(D,K,"/v1/token",`key=${le}`),Ut=yield D._getAdditionalHeaders();return Ut["Content-Type"]="application/x-www-form-urlencoded",An.fetch()(at,{method:"POST",headers:Ut,body:S})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Fe(f.idToken,"internal-error"),Fe(void 0!==f.idToken,"internal-error"),Fe(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function ht(D){const f=it(D);return Fe(f,"internal-error"),Fe(void 0!==f.exp,"internal-error"),Fe(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var S=this;return(0,h.Z)(function*(){return Fe(!S.accessToken||S.refreshToken,f,"user-token-expired"),p||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(f,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var S=this;return(0,h.Z)(function*(){const{accessToken:K,refreshToken:le,expiresIn:at}=yield function H(D,f){return q.apply(this,arguments)}(f,p);S.updateTokensAndExpiration(K,le,Number(at))})()}updateTokensAndExpiration(f,p,S){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(f,p){const{refreshToken:S,accessToken:K,expirationTime:le}=p,at=new Ce;return S&&(Fe("string"==typeof S,"internal-error",{appName:f}),at.refreshToken=S),K&&(Fe("string"==typeof K,"internal-error",{appName:f}),at.accessToken=K),le&&(Fe("number"==typeof le,"internal-error",{appName:f}),at.expirationTime=le),at}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ce,this.toJSON())}_performRefresh(){return jt("not implemented")}}function Qe(D,f){Fe("string"==typeof D||void 0===D,"internal-error",{appName:f})}class At{constructor(f){var{uid:p,auth:S,stsTokenManager:K}=f,le=(0,pe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=S,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new _r(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,h.Z)(function*(){const S=yield vt(p,p.stsTokenManager.getToken(p.auth,f));return Fe(S,p.auth,"internal-error"),p.accessToken!==S&&(p.accessToken=S,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),S})()}getIdTokenResult(f){return function Ot(D){return mt.apply(this,arguments)}(this,f)}reload(){return function pn(D){return Lr.apply(this,arguments)}(this)}_assign(f){this!==f&&(Fe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new At(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var S=this;return(0,h.Z)(function*(){let K=!1;f.idToken&&f.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(f),K=!0),p&&(yield $n(S)),yield S.auth._persistUserIfCurrent(S),K&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var f=this;return(0,h.Z)(function*(){const p=yield f.getIdToken();return yield vt(f,function ti(D,f){return an.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var S,K,le,at,Ut,In,wn,Sr;const Hr=null!==(S=p.displayName)&&void 0!==S?S:void 0,si=null!==(K=p.email)&&void 0!==K?K:void 0,cl=null!==(le=p.phoneNumber)&&void 0!==le?le:void 0,da=null!==(at=p.photoURL)&&void 0!==at?at:void 0,Gu=null!==(Ut=p.tenantId)&&void 0!==Ut?Ut:void 0,fo=null!==(In=p._redirectEventId)&&void 0!==In?In:void 0,Xd=null!==(wn=p.createdAt)&&void 0!==wn?wn:void 0,Tc=null!==(Sr=p.lastLoginAt)&&void 0!==Sr?Sr:void 0,{uid:dl,emailVerified:id,isAnonymous:sd,providerData:li,stsTokenManager:Sc}=p;Fe(dl&&Sc,f,"internal-error");const zl=Ce.fromJSON(this.name,Sc);Fe("string"==typeof dl,f,"internal-error"),Qe(Hr,f.name),Qe(si,f.name),Fe("boolean"==typeof id,f,"internal-error"),Fe("boolean"==typeof sd,f,"internal-error"),Qe(cl,f.name),Qe(da,f.name),Qe(Gu,f.name),Qe(fo,f.name),Qe(Xd,f.name),Qe(Tc,f.name);const Ca=new At({uid:dl,auth:f,email:si,emailVerified:id,displayName:Hr,isAnonymous:sd,photoURL:da,phoneNumber:cl,tenantId:Gu,stsTokenManager:zl,createdAt:Xd,lastLoginAt:Tc});return li&&Array.isArray(li)&&(Ca.providerData=li.map(ha=>Object.assign({},ha))),fo&&(Ca._redirectEventId=fo),Ca}static _fromIdTokenResponse(f,p,S=!1){return(0,h.Z)(function*(){const K=new Ce;K.updateFromServerResponse(p);const le=new At({uid:p.localId,auth:f,stsTokenManager:K,isAnonymous:S});return yield $n(le),le})()}}const me=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(p,S){var K=this;return(0,h.Z)(function*(){K.storage[p]=S})()}_get(p){var S=this;return(0,h.Z)(function*(){const K=S.storage[p];return void 0===K?null:K})()}_remove(p){var S=this;return(0,h.Z)(function*(){delete S.storage[p]})()}_addListener(p,S){}_removeListener(p,S){}}return D.type="NONE",D})();function Se(D,f,p){return`firebase:${D}:${f}:${p}`}class Ze{constructor(f,p,S){this.persistence=f,this.auth=p,this.userKey=S;const{config:K,name:le}=this.auth;this.fullUserKey=Se(this.userKey,K.apiKey,le),this.fullPersistenceKey=Se("persistence",K.apiKey,le),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?At._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,h.Z)(function*(){if(p.persistence===f)return;const S=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,S?p.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,S="authUser"){return(0,h.Z)(function*(){if(!p.length)return new Ze(nt(me),f,S);const K=(yield Promise.all(p.map(function(){var wn=(0,h.Z)(function*(Sr){if(yield Sr._isAvailable())return Sr});return function(Sr){return wn.apply(this,arguments)}}()))).filter(wn=>wn);let le=K[0]||nt(me);const at=Se(S,f.config.apiKey,f.name);let Ut=null;for(const wn of p)try{const Sr=yield wn._get(at);if(Sr){const Hr=At._fromJSON(f,Sr);wn!==le&&(Ut=Hr),le=wn;break}}catch(Sr){}const In=K.filter(wn=>wn._shouldAllowMigration);return le._shouldAllowMigration&&In.length?(le=In[0],Ut&&(yield le._set(at,Ut.toJSON())),yield Promise.all(p.map(function(){var wn=(0,h.Z)(function*(Sr){if(Sr!==le)try{yield Sr._remove(at)}catch(Hr){}});return function(Sr){return wn.apply(this,arguments)}}())),new Ze(le,f,S)):new Ze(le,f,S)})()}}function $e(D){const f=D.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ge(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Gt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(bt(f))return"Blackberry";if(Wt(f))return"Webos";if(Ne(f))return"Safari";if((f.includes("chrome/")||ye(f))&&!f.includes("edge/"))return"Chrome";if(Ve(f))return"Android";{const S=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function Gt(D=(0,v.z$)()){return/firefox\//i.test(D)}function Ne(D=(0,v.z$)()){const f=D.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ye(D=(0,v.z$)()){return/crios\//i.test(D)}function ge(D=(0,v.z$)()){return/iemobile/i.test(D)}function Ve(D=(0,v.z$)()){return/android/i.test(D)}function bt(D=(0,v.z$)()){return/blackberry/i.test(D)}function Wt(D=(0,v.z$)()){return/webos/i.test(D)}function gn(D=(0,v.z$)()){return/iphone|ipad|ipod/i.test(D)}function Ar(D=(0,v.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Mr(D=(0,v.z$)()){return gn(D)||Ve(D)||Wt(D)||bt(D)||/windows phone/i.test(D)||ge(D)}function Vr(D,f=[]){let p;switch(D){case"Browser":p=$e((0,v.z$)());break;case"Worker":p=`${$e((0,v.z$)())}-${D}`;break;default:p=D}const S=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${oe.SDK_VERSION}/${S}`}class Li{constructor(f,p,S){this.app=f,this.heartbeatServiceProvider=p,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new en(this),this.idTokenSubscription=new en(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(f,p){var S=this;return p&&(this._popupRedirectResolver=nt(p)),this._initializationPromise=this.queue((0,h.Z)(function*(){var K,le;if(!S._deleted&&(S.persistenceManager=yield Ze.create(S,f),!S._deleted)){if(null===(K=S._popupRedirectResolver)||void 0===K?void 0:K._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch(at){}yield S.initializeCurrentUser(p),S.lastNotifiedUid=(null===(le=S.currentUser)||void 0===le?void 0:le.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p)}})()}initializeCurrentUser(f){var p=this;return(0,h.Z)(function*(){var S;let K=yield p.assertedPersistence.getCurrentUser();if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const le=null===(S=p.redirectUser)||void 0===S?void 0:S._redirectEventId,at=null==K?void 0:K._redirectEventId,Ut=yield p.tryRedirectSignIn(f);(!le||le===at)&&(null==Ut?void 0:Ut.user)&&(K=Ut.user)}return K?K._redirectEventId?(Fe(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===K._redirectEventId?p.directlySetCurrentUser(K):p.reloadAndSetCurrentUserOrClear(K)):p.reloadAndSetCurrentUserOrClear(K):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var p=this;return(0,h.Z)(function*(){let S=null;try{S=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(K){yield p._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,h.Z)(function*(){try{yield $n(f)}catch(S){if("auth/network-request-failed"!==S.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function vn(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,h.Z)(function*(){const S=f?(0,v.m9)(f):null;return S&&Fe(S.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(S&&S._clone(p))})()}_updateCurrentUser(f){var p=this;return(0,h.Z)(function*(){if(!p._deleted)return f&&Fe(p.tenantId===f.tenantId,p,"tenant-id-mismatch"),p.queue((0,h.Z)(function*(){yield p.directlySetCurrentUser(f),p.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var p=this;return this.queue((0,h.Z)(function*(){yield p.assertedPersistence.setPersistence(nt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new v.LL("auth","Firebase",f())}onAuthStateChanged(f,p,S){return this.registerStateListener(this.authStateSubscription,f,p,S)}onIdTokenChanged(f,p,S){return this.registerStateListener(this.idTokenSubscription,f,p,S)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var S=this;return(0,h.Z)(function*(){const K=yield S.getOrInitRedirectPersistenceManager(p);return null===f?K.removeCurrentUser():K.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,h.Z)(function*(){if(!p.redirectPersistenceManager){const S=f&&nt(f)||p._popupRedirectResolver;Fe(S,p,"argument-error"),p.redirectPersistenceManager=yield Ze.create(p,[nt(S._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,h.Z)(function*(){var S,K;return p._isInitialized&&(yield p.queue((0,h.Z)(function*(){}))),(null===(S=p._currentUser)||void 0===S?void 0:S._redirectEventId)===f?p._currentUser:(null===(K=p.redirectUser)||void 0===K?void 0:K._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,h.Z)(function*(){if(f===p.currentUser)return p.queue((0,h.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,S,K){if(this._deleted)return()=>{};const le="function"==typeof p?p:p.next.bind(p),at=this._isInitialized?Promise.resolve():this._initializationPromise;return Fe(at,this,"internal-error"),at.then(()=>le(this.currentUser)),"function"==typeof p?f.addObserver(p,S,K):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,h.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Vr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var p;const S={"X-Client-Version":f.clientVersion};f.app.options.appId&&(S["X-Firebase-gmpid"]=f.app.options.appId);const K=yield null===(p=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return K&&(S["X-Firebase-Client"]=K),S})()}}function wr(D){return(0,v.m9)(D)}class en{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,v.ne)(p=>this.observer=p)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ln(D,f,p){const S=wr(D);Fe(S._canInitEmulator,S,"emulator-config-failed"),Fe(/^https?:\/\//.test(f),S,"invalid-emulator-scheme");const K=!!(null==p?void 0:p.disableWarnings),le=vr(f),{host:at,port:Ut}=function Ci(D){const f=vr(D),p=/(\/\/)?([^?#/]+)/.exec(D.substr(f.length));if(!p)return{host:"",port:null};const S=p[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(S);if(K){const le=K[1];return{host:le,port:di(S.substr(le.length+1))}}{const[le,at]=S.split(":");return{host:le,port:di(at)}}}(f);S.config.emulator={url:`${le}//${at}${null===Ut?"":`:${Ut}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:at,port:Ut,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Jr(){function D(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function vr(D){const f=D.indexOf(":");return f<0?"":D.substr(0,f+1)}function di(D){if(!D)return null;const f=Number(D);return isNaN(f)?null:f}class hr{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return jt("not implemented")}_getIdTokenResponse(f){return jt("not implemented")}_linkToIdToken(f,p){return jt("not implemented")}_getReauthenticationResolver(f){return jt("not implemented")}}function xr(D,f){return br.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:resetPassword",Mn(D,f))})).apply(this,arguments)}function Ti(D,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Si(D,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:update",Mn(D,f))})).apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(D,f){return lr(D,"POST","/v1/accounts:signInWithPassword",Mn(D,f))})).apply(this,arguments)}function Dr(D,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:sendOobCode",Mn(D,f))})).apply(this,arguments)}function Gr(D,f){return He.apply(this,arguments)}function He(){return(He=(0,h.Z)(function*(D,f){return Dr(D,f)})).apply(this,arguments)}function xe(D,f){return rt.apply(this,arguments)}function rt(){return(rt=(0,h.Z)(function*(D,f){return Dr(D,f)})).apply(this,arguments)}function Mt(D,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(D,f){return Dr(D,f)})).apply(this,arguments)}function nn(D,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,h.Z)(function*(D,f){return Dr(D,f)})).apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(D,f){return lr(D,"POST","/v1/accounts:signInWithEmailLink",Mn(D,f))})).apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(D,f){return lr(D,"POST","/v1/accounts:signInWithEmailLink",Mn(D,f))})).apply(this,arguments)}class zi extends hr{constructor(f,p,S,K=null){super("password",S),this._email=f,this._password=p,this._tenantId=K}static _fromEmailAndPassword(f,p){return new zi(f,p,"password")}static _fromEmailAndCode(f,p,S=null){return new zi(f,p,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,h.Z)(function*(){switch(p.signInMethod){case"password":return function ss(D,f){return hi.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Cr(D,f){return tr.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:Ye(f,"internal-error")}})()}_linkToIdToken(f,p){var S=this;return(0,h.Z)(function*(){switch(S.signInMethod){case"password":return Ti(f,{idToken:p,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function ni(D,f){return ps.apply(this,arguments)}(f,{idToken:p,email:S._email,oobCode:S._password});default:Ye(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Vi(D,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,h.Z)(function*(D,f){return lr(D,"POST","/v1/accounts:signInWithIdp",Mn(D,f))})).apply(this,arguments)}class Bi extends hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new Bi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):Ye("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:S,signInMethod:K}=p,le=(0,pe._T)(p,["providerId","signInMethod"]);if(!S||!K)return null;const at=new Bi(S,K);return at.idToken=le.idToken||void 0,at.accessToken=le.accessToken||void 0,at.secret=le.secret,at.nonce=le.nonce,at.pendingToken=le.pendingToken||null,at}_getIdTokenResponse(f){return Vi(f,this.buildRequest())}_linkToIdToken(f,p){const S=this.buildRequest();return S.idToken=p,Vi(f,S)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Vi(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,v.xO)(p)}return f}}function Us(D,f){return os.apply(this,arguments)}function os(){return(os=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:sendVerificationCode",Mn(D,f))})).apply(this,arguments)}function As(){return(As=(0,h.Z)(function*(D,f){return lr(D,"POST","/v1/accounts:signInWithPhoneNumber",Mn(D,f))})).apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(D,f){const p=yield lr(D,"POST","/v1/accounts:signInWithPhoneNumber",Mn(D,f));if(p.temporaryProof)throw cr(D,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ms={USER_NOT_FOUND:"user-not-found"};function Ws(){return(Ws=(0,h.Z)(function*(D,f){return lr(D,"POST","/v1/accounts:signInWithPhoneNumber",Mn(D,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ms)})).apply(this,arguments)}class Cs extends hr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Cs({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Cs({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function Eo(D,f){return As.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function Ds(D,f){return ma.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ma(D,f){return Ws.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:S,verificationCode:K}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:S,code:K}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:S,phoneNumber:K,temporaryProof:le}=f;return S||p||K||le?new Cs({verificationId:p,verificationCode:S,phoneNumber:K,temporaryProof:le}):null}}class Is{constructor(f){var p,S,K,le,at,Ut;const In=(0,v.zd)((0,v.pd)(f)),wn=null!==(p=In.apiKey)&&void 0!==p?p:null,Sr=null!==(S=In.oobCode)&&void 0!==S?S:null,Hr=function Ms(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=In.mode)&&void 0!==K?K:null);Fe(wn&&Sr&&Hr,"argument-error"),this.apiKey=wn,this.operation=Hr,this.code=Sr,this.continueUrl=null!==(le=In.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(at=In.languageCode)&&void 0!==at?at:null,this.tenantId=null!==(Ut=In.tenantId)&&void 0!==Ut?Ut:null}static parseLink(f){const p=function io(D){const f=(0,v.zd)((0,v.pd)(D)).link,p=f?(0,v.zd)((0,v.pd)(f)).deep_link_id:null,S=(0,v.zd)((0,v.pd)(D)).deep_link_id;return(S?(0,v.zd)((0,v.pd)(S)).link:null)||S||p||f||D}(f);try{return new Is(p)}catch(S){return null}}}let Rs=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(p,S){return zi._fromEmailAndPassword(p,S)}static credentialWithLink(p,S){const K=Is.parseLink(S);return Fe(K,"argument-error"),zi._fromEmailAndCode(p,K.code,K.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Qi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class as extends Qi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ui extends as{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Fe("providerId"in p&&"signInMethod"in p,"argument-error"),Bi._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Fe(f.idToken||f.accessToken,"argument-error"),Bi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ui.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ui.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:S,oauthTokenSecret:K,pendingToken:le,nonce:at,providerId:Ut}=f;if(!S&&!K&&!p&&!le||!Ut)return null;try{return new Ui(Ut)._credential({idToken:p,accessToken:S,nonce:at,pendingToken:le})}catch(In){return null}}}let ga=(()=>{class D extends as{constructor(){super("facebook.com")}static credential(p){return Bi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return D.credentialFromTaggedObject(p)}static credentialFromError(p){return D.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return D.credential(p.oauthAccessToken)}catch(S){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Xi=(()=>{class D extends as{constructor(){super("google.com"),this.addScope("profile")}static credential(p,S){return Bi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:S})}static credentialFromResult(p){return D.credentialFromTaggedObject(p)}static credentialFromError(p){return D.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:S,oauthAccessToken:K}=p;if(!S&&!K)return null;try{return D.credential(S,K)}catch(le){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ji=(()=>{class D extends as{constructor(){super("github.com")}static credential(p){return Bi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return D.credentialFromTaggedObject(p)}static credentialFromError(p){return D.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return D.credential(p.oauthAccessToken)}catch(S){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class js extends hr{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return Vi(f,this.buildRequest())}_linkToIdToken(f,p){const S=this.buildRequest();return S.idToken=p,Vi(f,S)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,Vi(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:S,signInMethod:K,pendingToken:le}=p;return S&&K&&le&&S===K?new js(S,le):null}static _create(f,p){return new js(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gi extends Qi{constructor(f){Fe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Gi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Gi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=js.fromJSON(f);return Fe(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:S}=f;if(!p||!S)return null;try{return js._create(S,p)}catch(K){return null}}}let Rr=(()=>{class D extends as{constructor(){super("twitter.com")}static credential(p,S){return Bi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:S})}static credentialFromResult(p){return D.credentialFromTaggedObject(p)}static credentialFromError(p){return D.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:S,oauthTokenSecret:K}=p;if(!S||!K)return null;try{return D.credential(S,K)}catch(le){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Ks(D,f){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(D,f){return lr(D,"POST","/v1/accounts:signUp",Mn(D,f))})).apply(this,arguments)}class Or{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,S,K=!1){return(0,h.Z)(function*(){const le=yield At._fromIdTokenResponse(f,S,K),at=Wi(S);return new Or({user:le,providerId:at,_tokenResponse:S,operationType:p})})()}static _forOperation(f,p,S){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(S,!0);const K=Wi(S);return new Or({user:f,providerId:K,_tokenResponse:S,operationType:p})})()}}function Wi(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function wo(D){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(D){var f;const p=wr(D);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new Or({user:p.currentUser,providerId:null,operationType:"signIn"});const S=yield Ks(p,{returnSecureToken:!0}),K=yield Or._fromIdTokenResponse(p,"signIn",S,!0);return yield p._updateCurrentUser(K.user),K})).apply(this,arguments)}class Os extends v.ZR{constructor(f,p,S,K){var le;super(p.code,p.message),this.operationType=S,this.user=K,Object.setPrototypeOf(this,Os.prototype),this.customData={appName:f.name,tenantId:null!==(le=f.tenantId)&&void 0!==le?le:void 0,_serverResponse:p.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(f,p,S,K){return new Os(f,p,S,K)}}function oo(D,f,p,S){return("reauthenticate"===f?p._getReauthenticationResolver(D):p._getIdTokenResponse(D)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Os._fromErrorAndOperation(D,le,f,S):le})}function qs(D){return new Set(D.map(({providerId:f})=>f).filter(f=>!!f))}function ys(D,f){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,h.Z)(function*(D,f){const p=(0,v.m9)(D);yield V(!0,p,f);const{providerUserInfo:S}=yield Wn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),K=qs(S||[]);return p.providerData=p.providerData.filter(le=>K.has(le.providerId)),K.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ks(D,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(D,f,p=!1){const S=yield vt(D,f._linkToIdToken(D.auth,yield D.getIdToken()),p);return Or._forOperation(D,"link",S)})).apply(this,arguments)}function V(D,f,p){return te.apply(this,arguments)}function te(){return(te=(0,h.Z)(function*(D,f,p){yield $n(f);const K=!1===D?"provider-already-linked":"no-such-provider";Fe(qs(f.providerData).has(p)===D,f.auth,K)})).apply(this,arguments)}function B(D,f){return ie.apply(this,arguments)}function ie(){return(ie=(0,h.Z)(function*(D,f,p=!1){const{auth:S}=D,K="reauthenticate";try{const le=yield vt(D,oo(S,K,f,D),p);Fe(le.idToken,S,"internal-error");const at=it(le.idToken);Fe(at,S,"internal-error");const{sub:Ut}=at;return Fe(D.uid===Ut,S,"user-mismatch"),Or._forOperation(D,K,le)}catch(le){throw"auth/user-not-found"===(null==le?void 0:le.code)&&Ye(S,"user-mismatch"),le}})).apply(this,arguments)}function Pe(D,f){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(D,f,p=!1){const S="signIn",K=yield oo(D,S,f),le=yield Or._fromIdTokenResponse(D,S,K);return p||(yield D._updateCurrentUser(le.user)),le})).apply(this,arguments)}function It(D,f){return tn.apply(this,arguments)}function tn(){return(tn=(0,h.Z)(function*(D,f){return Pe(wr(D),f)})).apply(this,arguments)}function jr(D,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,h.Z)(function*(D,f){const p=(0,v.m9)(D);return yield V(!1,p,f.providerId),ks(p,f)})).apply(this,arguments)}function Xn(D,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,h.Z)(function*(D,f){return B((0,v.m9)(D),f)})).apply(this,arguments)}function ei(D,f){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(D,f){return lr(D,"POST","/v1/accounts:signInWithCustomToken",Mn(D,f))})).apply(this,arguments)}function Ur(D,f){return j.apply(this,arguments)}function j(){return(j=(0,h.Z)(function*(D,f){const p=wr(D),S=yield ei(p,{token:f,returnSecureToken:!0}),K=yield Or._fromIdTokenResponse(p,"signIn",S);return yield p._updateCurrentUser(K.user),K})).apply(this,arguments)}class F{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?x._fromServerResponse(f,p):Ye(f,"internal-error")}}class x extends F{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new x(p)}}function re(D,f,p){var S;Fe((null===(S=p.url)||void 0===S?void 0:S.length)>0,D,"invalid-continue-uri"),Fe(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Fe(p.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Fe(p.android.packageName.length>0,D,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function Dt(D,f,p){return yn.apply(this,arguments)}function yn(){return(yn=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D),K={requestType:"PASSWORD_RESET",email:f};p&&re(S,K,p),yield xe(S,K)})).apply(this,arguments)}function ri(D,f,p){return us.apply(this,arguments)}function us(){return(us=(0,h.Z)(function*(D,f,p){yield xr((0,v.m9)(D),{oobCode:f,newPassword:p})})).apply(this,arguments)}function Zs(D,f){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,h.Z)(function*(D,f){yield Si((0,v.m9)(D),{oobCode:f})})).apply(this,arguments)}function Lt(D,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(D,f){const p=(0,v.m9)(D),S=yield xr(p,{oobCode:f}),K=S.requestType;switch(Fe(K,p,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Fe(S.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Fe(S.mfaInfo,p,"internal-error");default:Fe(S.email,p,"internal-error")}let le=null;return S.mfaInfo&&(le=F._fromServerResponse(wr(p),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:le},operation:K}})).apply(this,arguments)}function na(D,f){return bi.apply(this,arguments)}function bi(){return(bi=(0,h.Z)(function*(D,f){const{data:p}=yield Lt((0,v.m9)(D),f);return p.email})).apply(this,arguments)}function ra(D,f,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(D,f,p){const S=wr(D),K=yield Ks(S,{returnSecureToken:!0,email:f,password:p}),le=yield Or._fromIdTokenResponse(S,"signIn",K);return yield S._updateCurrentUser(le.user),le})).apply(this,arguments)}function ao(D,f,p){return It((0,v.m9)(D),Rs.credential(f,p))}function Mo(D,f,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D),K={requestType:"EMAIL_SIGNIN",email:f};Fe(p.handleCodeInApp,S,"argument-error"),p&&re(S,K,p),yield Mt(S,K)})).apply(this,arguments)}function El(D,f){const p=Is.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}function Vo(D,f,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D),K=Rs.credentialWithLink(f,p||We());return Fe(K._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),It(S,K)})).apply(this,arguments)}function _s(D,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:createAuthUri",Mn(D,f))})).apply(this,arguments)}function lo(D,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,h.Z)(function*(D,f){const S={identifier:f,continueUri:Pt()?We():"http://localhost"},{signinMethods:K}=yield _s((0,v.m9)(D),S);return K||[]})).apply(this,arguments)}function W(D,f){return g.apply(this,arguments)}function g(){return(g=(0,h.Z)(function*(D,f){const p=(0,v.m9)(D),K={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};f&&re(p.auth,K,f);const{email:le}=yield Gr(p.auth,K);le!==D.email&&(yield D.reload())})).apply(this,arguments)}function w(D,f,p){return N.apply(this,arguments)}function N(){return(N=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:f};p&&re(S.auth,le,p);const{email:at}=yield nn(S.auth,le);at!==D.email&&(yield D.reload())})).apply(this,arguments)}function Z(D,f){return ce.apply(this,arguments)}function ce(){return(ce=(0,h.Z)(function*(D,f){return kn(D,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Me(D,f){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*(D,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const S=(0,v.m9)(D),le={idToken:yield S.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},at=yield vt(S,Z(S.auth,le));S.displayName=at.displayName||null,S.photoURL=at.photoUrl||null;const Ut=S.providerData.find(({providerId:In})=>"password"===In);Ut&&(Ut.displayName=S.displayName,Ut.photoURL=S.photoURL),yield S._updateTokensIfNecessary(at)})).apply(this,arguments)}function st(D,f){return cn((0,v.m9)(D),f,null)}function Ct(D,f){return cn((0,v.m9)(D),null,f)}function cn(D,f,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(D,f,p){const{auth:S}=D,le={idToken:yield D.getIdToken(),returnSecureToken:!0};f&&(le.email=f),p&&(le.password=p);const at=yield vt(D,Ti(S,le));yield D._updateTokensIfNecessary(at,!0)})).apply(this,arguments)}class Jn{constructor(f,p,S={}){this.isNewUser=f,this.providerId=p,this.profile=S}}class Vn extends Jn{constructor(f,p,S,K){super(f,p,S),this.username=K}}class er extends Jn{constructor(f,p){super(f,"facebook.com",p)}}class Wr extends Vn{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class oi extends Jn{constructor(f,p){super(f,"google.com",p)}}class Ei extends Vn{constructor(f,p,S){super(f,"twitter.com",p,S)}}function Ni(D){const{user:f,_tokenResponse:p}=D;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Hn(D){var f,p;if(!D)return null;const{providerId:S}=D,K=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},le=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!S&&(null==D?void 0:D.idToken)){const at=null===(p=null===(f=it(D.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(at)return new Jn(le,"anonymous"!==at&&"custom"!==at?at:null)}if(!S)return null;switch(S){case"facebook.com":return new er(le,K);case"github.com":return new Wr(le,K);case"google.com":return new oi(le,K);case"twitter.com":return new Ei(le,K,D.screenName||null);case"custom":case"anonymous":return new Jn(le,null);default:return new Jn(le,S,K)}}(p)}class Ys{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new Ys("enroll",f)}static _fromMfaPendingCredential(f){return new Ys("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,S;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Ys._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(S=f.multiFactorSession)||void 0===S?void 0:S.idToken)return Ys._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ps{constructor(f,p,S){this.session=f,this.hints=p,this.signInResolver=S}static _fromError(f,p){const S=wr(f),K=p.customData._serverResponse,le=(K.mfaInfo||[]).map(Ut=>F._fromServerResponse(S,Ut));Fe(K.mfaPendingCredential,S,"internal-error");const at=Ys._fromMfaPendingCredential(K.mfaPendingCredential);return new Ps(at,le,function(){var Ut=(0,h.Z)(function*(In){const wn=yield In._process(S,at);delete K.mfaInfo,delete K.mfaPendingCredential;const Sr=Object.assign(Object.assign({},K),{idToken:wn.idToken,refreshToken:wn.refreshToken});switch(p.operationType){case"signIn":const Hr=yield Or._fromIdTokenResponse(S,p.operationType,Sr);return yield S._updateCurrentUser(Hr.user),Hr;case"reauthenticate":return Fe(p.user,S,"internal-error"),Or._forOperation(p.user,p.operationType,Sr);default:Ye(S,"internal-error")}});return function(In){return Ut.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,h.Z)(function*(){return p.signInResolver(f)})()}}function Uo(D,f){var p;const S=(0,v.m9)(D),K=f;return Fe(f.customData.operationType,S,"argument-error"),Fe(null===(p=K.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,S,"argument-error"),Ps._fromError(S,K)}function sa(D,f){return kn(D,"POST","/v2/accounts/mfaEnrollment:start",Mn(D,f))}class Bn{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(S=>F._fromServerResponse(f.auth,S)))})}static _fromUser(f){return new Bn(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Ys._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var S=this;return(0,h.Z)(function*(){const K=f,le=yield S.getSession(),at=yield vt(S.user,K._process(S.user.auth,le,p));return yield S.user._updateTokensIfNecessary(at),S.user.reload()})()}unenroll(f){var p=this;return(0,h.Z)(function*(){const S="string"==typeof f?f:f.uid,K=yield p.user.getIdToken(),le=yield vt(p.user,function Pn(D,f){return kn(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Mn(D,f))}(p.user.auth,{idToken:K,mfaEnrollmentId:S}));p.enrolledFactors=p.enrolledFactors.filter(({uid:at})=>at!==S),yield p.user._updateTokensIfNecessary(le);try{yield p.user.reload()}catch(at){if("auth/user-token-expired"!==at.code)throw at}})()}}const zn=new WeakMap;function ii(D){const f=(0,v.m9)(D);return zn.has(f)||zn.set(f,Bn._fromUser(f)),zn.get(f)}const Mi="__sak";class qr{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Mi,"1"),this.storage.removeItem(Mi),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vt=(()=>{class D extends qr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,S)=>this.onStorageEvent(p,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fr(){const D=(0,v.z$)();return Ne(D)||gn(D)}()&&function yi(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Mr(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const S of Object.keys(this.listeners)){const K=this.storage.getItem(S),le=this.localCache[S];K!==le&&p(S,le,K)}}onStorageEvent(p,S=!1){if(!p.key)return void this.forAllChangedKeys((Ut,In,wn)=>{this.notifyListeners(Ut,wn)});const K=p.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ut=this.storage.getItem(K);if(p.newValue!==Ut)null!==p.newValue?this.storage.setItem(K,p.newValue):this.storage.removeItem(K);else if(this.localCache[K]===p.newValue&&!S)return}const le=()=>{const Ut=this.storage.getItem(K);!S&&this.localCache[K]===Ut||this.notifyListeners(K,Ut)},at=this.storage.getItem(K);!function xi(){return(0,v.w1)()&&10===document.documentMode}()||at===p.newValue||p.newValue===p.oldValue?le():setTimeout(le,10)}notifyListeners(p,S){this.localCache[p]=S;const K=this.listeners[p];if(K)for(const le of Array.from(K))le(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,S,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:S,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(S)}_removeListener(p,S){this.listeners[p]&&(this.listeners[p].delete(S),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,S){var K=()=>super._set,le=this;return(0,h.Z)(function*(){yield K().call(le,p,S),le.localCache[p]=JSON.stringify(S)})()}_get(p){var S=()=>super._get,K=this;return(0,h.Z)(function*(){const le=yield S().call(K,p);return K.localCache[p]=JSON.stringify(le),le})()}_remove(p){var S=()=>super._remove,K=this;return(0,h.Z)(function*(){yield S().call(K,p),delete K.localCache[p]})()}}return D.type="LOCAL",D})(),es=(()=>{class D extends qr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,S){}_removeListener(p,S){}}return D.type="SESSION",D})();let _n=(()=>{class D{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const S=this.receivers.find(le=>le.isListeningto(p));if(S)return S;const K=new D(p);return this.receivers.push(K),K}isListeningto(p){return this.eventTarget===p}handleEvent(p){var S=this;return(0,h.Z)(function*(){const K=p,{eventId:le,eventType:at,data:Ut}=K.data,In=S.handlersMap[at];if(!(null==In?void 0:In.size))return;K.ports[0].postMessage({status:"ack",eventId:le,eventType:at});const wn=Array.from(In).map(function(){var Hr=(0,h.Z)(function*(si){return si(K.origin,Ut)});return function(si){return Hr.apply(this,arguments)}}()),Sr=yield function ts(D){return Promise.all(D.map(function(){var f=(0,h.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(S){return{fulfilled:!1,reason:S}}});return function(p){return f.apply(this,arguments)}}()))}(wn);K.ports[0].postMessage({status:"done",eventId:le,eventType:at,response:Sr})})()}_subscribe(p,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(S)}_unsubscribe(p,S){this.handlersMap[p]&&S&&this.handlersMap[p].delete(S),(!S||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Nn(D="",f=10){let p="";for(let S=0;S<f;S++)p+=Math.floor(10*Math.random());return D+p}class wl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,S=50){var K=this;return(0,h.Z)(function*(){const le="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let at,Ut;return new Promise((In,wn)=>{const Sr=Nn("",20);le.port1.start();const Hr=setTimeout(()=>{wn(new Error("unsupported_event"))},S);Ut={messageChannel:le,onMessage(si){const cl=si;if(cl.data.eventId===Sr)switch(cl.data.status){case"ack":clearTimeout(Hr),at=setTimeout(()=>{wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(at),In(cl.data.response);break;default:clearTimeout(Hr),clearTimeout(at),wn(new Error("invalid_response"))}}},K.handlers.add(Ut),le.port1.addEventListener("message",Ut.onMessage),K.target.postMessage({eventType:f,eventId:Sr,data:p},[le.port2])}).finally(()=>{Ut&&K.removeMessageHandler(Ut)})})()}}function Jt(){return window}function Ht(){return void 0!==Jt().WorkerGlobalScope&&"function"==typeof Jt().importScripts}function Ho(){return(Ho=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const tl="firebaseLocalStorageDb",Go="firebaseLocalStorage",qi="fbase_key";class Co{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function oa(D,f){return D.transaction([Go],f?"readwrite":"readonly").objectStore(Go)}function A(){const D=indexedDB.open(tl,1);return new Promise((f,p)=>{D.addEventListener("error",()=>{p(D.error)}),D.addEventListener("upgradeneeded",()=>{const S=D.result;try{S.createObjectStore(Go,{keyPath:qi})}catch(K){p(K)}}),D.addEventListener("success",(0,h.Z)(function*(){const S=D.result;S.objectStoreNames.contains(Go)?f(S):(S.close(),yield function Ns(){const D=indexedDB.deleteDatabase(tl);return new Co(D).toPromise()}(),f(yield A()))}))})}function C(D,f,p){return b.apply(this,arguments)}function b(){return(b=(0,h.Z)(function*(D,f,p){const S=oa(D,!0).put({[qi]:f,value:p});return new Co(S).toPromise()})).apply(this,arguments)}function $(){return($=(0,h.Z)(function*(D,f){const p=oa(D,!1).get(f),S=yield new Co(p).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function J(D,f){const p=oa(D,!0).delete(f);return new Co(p).toPromise()}const on=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,h.Z)(function*(){return p.db||(p.db=yield A()),p.db})()}_withRetries(p){var S=this;return(0,h.Z)(function*(){let K=0;for(;;)try{const le=yield S._openDb();return yield p(le)}catch(le){if(K++>3)throw le;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,h.Z)(function*(){return Ht()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,h.Z)(function*(){p.receiver=_n._getInstance(function Ll(){return Ht()?self:null}()),p.receiver._subscribe("keyChanged",function(){var S=(0,h.Z)(function*(K,le){return{keyProcessed:(yield p._poll()).includes(le.key)}});return function(K,le){return S.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var S=(0,h.Z)(function*(K,le){return["keyChanged"]});return function(K,le){return S.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,h.Z)(function*(){var S,K;if(p.activeServiceWorker=yield function wi(){return Ho.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new wl(p.activeServiceWorker);const le=yield p.sender._send("ping",{},800);!le||(null===(S=le[0])||void 0===S?void 0:S.fulfilled)&&(null===(K=le[0])||void 0===K?void 0:K.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var S=this;return(0,h.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function $o(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:p},S.serviceWorkerReceiverAvailable?800:50)}catch(K){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const p=yield A();return yield C(p,Mi,"1"),yield J(p,Mi),!0}catch(p){}return!1})()}_withPendingWrite(p){var S=this;return(0,h.Z)(function*(){S.pendingWrites++;try{yield p()}finally{S.pendingWrites--}})()}_set(p,S){var K=this;return(0,h.Z)(function*(){return K._withPendingWrite((0,h.Z)(function*(){return yield K._withRetries(le=>C(le,p,S)),K.localCache[p]=S,K.notifyServiceWorker(p)}))})()}_get(p){var S=this;return(0,h.Z)(function*(){const K=yield S._withRetries(le=>function L(D,f){return $.apply(this,arguments)}(le,p));return S.localCache[p]=K,K})()}_remove(p){var S=this;return(0,h.Z)(function*(){return S._withPendingWrite((0,h.Z)(function*(){return yield S._withRetries(K=>J(K,p)),delete S.localCache[p],S.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,h.Z)(function*(){const S=yield p._withRetries(at=>{const Ut=oa(at,!1).getAll();return new Co(Ut).toPromise()});if(!S)return[];if(0!==p.pendingWrites)return[];const K=[],le=new Set;for(const{fbase_key:at,value:Ut}of S)le.add(at),JSON.stringify(p.localCache[at])!==JSON.stringify(Ut)&&(p.notifyListeners(at,Ut),K.push(at));for(const at of Object.keys(p.localCache))p.localCache[at]&&!le.has(at)&&(p.notifyListeners(at,null),K.push(at));return K})()}notifyListeners(p,S){this.localCache[p]=S;const K=this.listeners[p];if(K)for(const le of Array.from(K))le(S)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(S)}_removeListener(p,S){this.listeners[p]&&(this.listeners[p].delete(S),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Yn(D,f){return kn(D,"POST","/v2/accounts/mfaSignIn:start",Mn(D,f))}function Gn(){return(Gn=(0,h.Z)(function*(D){return(yield kn(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oo(D){return new Promise((f,p)=>{const S=document.createElement("script");S.setAttribute("src",D),S.onload=f,S.onerror=K=>{const le=je("internal-error");le.customData=K,p(le)},S.type="text/javascript",S.charset="UTF-8",function Oi(){var D,f;return null!==(f=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==f?f:document}().appendChild(S)})}function pi(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Xr=1e12;class Qs{constructor(f){this.auth=f,this.counter=Xr,this._widgets=new Map}render(f,p){const S=this.counter;return this._widgets.set(S,new uo(f,this.auth.name,p||{})),this.counter++,S}reset(f){var p;const S=f||Xr;null===(p=this._widgets.get(S))||void 0===p||p.delete(),this._widgets.delete(S)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Xr))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,h.Z)(function*(){var S;return null===(S=p._widgets.get(f||Xr))||void 0===S||S.execute(),""})()}}class uo{constructor(f,p,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof f?document.getElementById(f):f;Fe(K,"argument-error",{appName:p}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ha(D){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<D;S++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}(50);const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const co=pi("rcb"),Vl=new Tt(3e4,6e4);class mi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Jt().grecaptcha}load(f,p=""){return Fe(function nl(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(p),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Jt().grecaptcha):new Promise((S,K)=>{const le=Jt().setTimeout(()=>{K(je(f,"network-request-failed"))},Vl.get());Jt()[co]=()=>{Jt().clearTimeout(le),delete Jt()[co];const Ut=Jt().grecaptcha;if(!Ut)return void K(je(f,"internal-error"));const In=Ut.render;Ut.render=(wn,Sr)=>{const Hr=In(wn,Sr);return this.counter++,Hr},this.hostLanguage=p,S(Ut)},Oo(`https://www.google.com/recaptcha/api.js??${(0,v.xO)({onload:co,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(le),K(je(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Jt().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bc{load(f){return(0,h.Z)(function*(){return new Qs(f)})()}clearedOneInstance(){}}const un="recaptcha",ou={theme:"light",type:"image"};class Wo{constructor(f,p=Object.assign({},ou),S){this.parameters=p,this.type=un,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wr(S),this.isInvisible="invisible"===this.parameters.size,Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof f?document.getElementById(f):f;Fe(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bc:new mi,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),S=f.getAssertedRecaptcha();return S.getResponse(p)||new Promise(le=>{const at=Ut=>{!Ut||(f.tokenChangeListeners.delete(at),le(Ut))};f.tokenChangeListeners.add(at),f.isInvisible&&S.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(S=>S(p)),"function"==typeof f)f(p);else if("string"==typeof f){const S=Jt()[f];"function"==typeof S&&S(p)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const S=document.createElement("div");p.appendChild(S),p=S}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){Fe(Pt()&&!Ht(),f.auth,"internal-error"),yield function _a(){let D=null;return new Promise(f=>{"complete"!==document.readyState?(D=()=>f(),window.addEventListener("load",D)):f()}).catch(f=>{throw D&&window.removeEventListener("load",D),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function Zr(D){return Gn.apply(this,arguments)}(f.auth);Fe(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ko{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Cs._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function aa(D,f,p){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,h.Z)(function*(D,f,p){const S=wr(D),K=yield Po(S,f,(0,v.m9)(p));return new ko(K,le=>It(S,le))})).apply(this,arguments)}function ns(D,f,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D);yield V(!1,S,"phone");const K=yield Po(S.auth,f,(0,v.m9)(p));return new ko(K,le=>jr(S,le))})).apply(this,arguments)}function la(D,f,p){return va.apply(this,arguments)}function va(){return(va=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D),K=yield Po(S.auth,f,(0,v.m9)(p));return new ko(K,le=>Xn(S,le))})).apply(this,arguments)}function Po(D,f,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(D,f,p){var S;const K=yield p.verify();try{let le;if(Fe("string"==typeof K,D,"argument-error"),Fe(p.type===un,D,"argument-error"),le="string"==typeof f?{phoneNumber:f}:f,"session"in le){const at=le.session;if("phoneNumber"in le)return Fe("enroll"===at.type,D,"internal-error"),(yield sa(D,{idToken:at.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Fe("signin"===at.type,D,"internal-error");const Ut=(null===(S=le.multiFactorHint)||void 0===S?void 0:S.uid)||le.multiFactorUid;return Fe(Ut,D,"missing-multi-factor-info"),(yield Yn(D,{mfaPendingCredential:at.credential,mfaEnrollmentId:Ut,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:at}=yield Us(D,{phoneNumber:le.phoneNumber,recaptchaToken:K});return at}}finally{p._reset()}})).apply(this,arguments)}function Io(D,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,h.Z)(function*(D,f){yield ks((0,v.m9)(D),f)})).apply(this,arguments)}let Ra=(()=>{class D{constructor(p){this.providerId=D.PROVIDER_ID,this.auth=wr(p)}verifyPhoneNumber(p,S){return Po(this.auth,p,(0,v.m9)(S))}static credential(p,S){return Cs._fromVerification(p,S)}static credentialFromResult(p){return D.credentialFromTaggedObject(p)}static credentialFromError(p){return D.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:S,temporaryProof:K}=p;return S&&K?Cs._fromTokenResponse(S,K):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function cs(D,f){return f?nt(f):(Fe(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class ba extends hr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Vi(f,this._buildIdpRequest())}_linkToIdToken(f,p){return Vi(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return Vi(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function Dl(D){return Pe(D.auth,new ba(D),D.bypassAuthState)}function Bl(D){const{auth:f,user:p}=D;return Fe(p,f,"internal-error"),B(p,new ba(D),D.bypassAuthState)}function Ul(D){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(D){const{auth:f,user:p}=D;return Fe(p,f,"internal-error"),ks(p,new ba(D),D.bypassAuthState)})).apply(this,arguments)}class ai{constructor(f,p,S,K,le=!1){this.auth=f,this.resolver=S,this.user=K,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,h.Z)(function*(S,K){f.pendingPromise={resolve:S,reject:K};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(le){f.reject(le)}});return function(S,K){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,h.Z)(function*(){const{urlResponse:S,sessionId:K,postBody:le,tenantId:at,error:Ut,type:In}=f;if(Ut)return void p.reject(Ut);const wn={auth:p.auth,requestUri:S,sessionId:K,tenantId:at||void 0,postBody:le||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(In)(wn))}catch(Sr){p.reject(Sr)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Dl;case"linkViaPopup":case"linkViaRedirect":return Ul;case"reauthViaPopup":case"reauthViaRedirect":return Bl;default:Ye(this.auth,"internal-error")}}resolve(f){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fs=new Tt(2e3,1e4);function Ii(D,f,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,h.Z)(function*(D,f,p){const S=wr(D);qe(D,f,Qi);const K=cs(S,p);return new rl(S,"signInViaPopup",f,K).executeNotNull()})).apply(this,arguments)}function Oa(D,f,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D);qe(S.auth,f,Qi);const K=cs(S.auth,p);return new rl(S.auth,"reauthViaPopup",f,K,S).executeNotNull()})).apply(this,arguments)}function Zo(D,f,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D);qe(S.auth,f,Qi);const K=cs(S.auth,p);return new rl(S.auth,"linkViaPopup",f,K,S).executeNotNull()})).apply(this,arguments)}let rl=(()=>{class D extends ai{constructor(p,S,K,le,at){super(p,S,le,at),this.provider=K,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var p=this;return(0,h.Z)(function*(){const S=yield p.execute();return Fe(S,p.auth,"internal-error"),S})()}onExecution(){var p=this;return(0,h.Z)(function*(){Bt(1===p.filter.length,"Popup operations only handle one event");const S=Nn();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],S),p.authWindow.associatedEvent=S,p.resolver._originValidation(p.auth).catch(K=>{p.reject(K)}),p.resolver._isIframeWebStorageSupported(p.auth,K=>{K||p.reject(je(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const p=()=>{var S,K;this.pollId=(null===(K=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===K?void 0:K.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Fs.get())};p()}}return D.currentPopupAction=null,D})();const bs=new Map;class au extends ai{constructor(f,p,S=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,S),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,h.Z)(function*(){let S=bs.get(p.auth._key());if(!S){try{const le=(yield function ua(D,f){return ka.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;S=()=>Promise.resolve(le)}catch(K){S=()=>Promise.reject(K)}bs.set(p.auth._key(),S)}return p.bypassAuthState||bs.set(p.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,S=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(S,f);if("unknown"!==f.type){if(f.eventId){const K=yield S.auth._redirectUserForId(f.eventId);if(K)return S.user=K,p().call(S,f);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ka(){return(ka=(0,h.Z)(function*(D,f){const p=il(f),S=Da(D);if(!(yield S._isAvailable()))return!1;const K="true"===(yield S._get(p));return yield S._remove(p),K})).apply(this,arguments)}function wa(D,f){return No.apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(D,f){return Da(D)._set(il(f),"true")})).apply(this,arguments)}function ca(){bs.clear()}function Da(D){return nt(D._redirectPersistence)}function il(D){return Se("pendingRedirect",D.config.apiKey,D.name)}function P(D,f,p){return function U(D,f,p){return Q.apply(this,arguments)}(D,f,p)}function Q(){return(Q=(0,h.Z)(function*(D,f,p){const S=wr(D);qe(D,f,Qi);const K=cs(S,p);return yield wa(K,S),K._openRedirect(S,f,"signInViaRedirect")})).apply(this,arguments)}function Ee(D,f,p){return function tt(D,f,p){return ft.apply(this,arguments)}(D,f,p)}function ft(){return(ft=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D);qe(S.auth,f,Qi);const K=cs(S.auth,p);yield wa(K,S.auth);const le=yield Es(S);return K._openRedirect(S.auth,f,"reauthViaRedirect",le)})).apply(this,arguments)}function qt(D,f,p){return function ln(D,f,p){return sr.apply(this,arguments)}(D,f,p)}function sr(){return(sr=(0,h.Z)(function*(D,f,p){const S=(0,v.m9)(D);qe(S.auth,f,Qi);const K=cs(S.auth,p);yield V(!1,S,f.providerId),yield wa(K,S.auth);const le=yield Es(S);return K._openRedirect(S.auth,f,"linkViaRedirect",le)})).apply(this,arguments)}function or(D,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(D,f){return yield wr(D)._initializationPromise,jn(D,f,!1)})).apply(this,arguments)}function jn(D,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(D,f,p=!1){const S=wr(D),K=cs(S,f),at=yield new au(S,K,p).execute();return at&&!p&&(delete at.user._redirectEventId,yield S._persistUserIfCurrent(at.user),yield S._setRedirectUser(null,f)),at})).apply(this,arguments)}function Es(D){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,h.Z)(function*(D){const f=Nn(`${D.uid}:::`);return D._redirectEventId=f,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),f})).apply(this,arguments)}class Pi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(f,S)&&(p=!0,this.sendToConsumer(f,S),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function $a(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ls(D);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var S;if(f.error&&!Ls(f)){const K=(null===(S=f.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";p.onError(je(this.auth,K))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const S=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&S}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yo(f))}saveEventToCache(f){this.cachedEventUids.add(Yo(f)),this.lastProcessedEventTime=Date.now()}}function Yo(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(f=>f).join("-")}function Ls({type:D,error:f}){return"unknown"===D&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Cl(D){return sl.apply(this,arguments)}function sl(){return(sl=(0,h.Z)(function*(D,f={}){return kn(D,"GET","/v1/projects",f)})).apply(this,arguments)}const Il=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jl=/^https?/;function ho(){return(ho=(0,h.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:f}=yield Cl(D);for(const p of f)try{if(ol(p))return}catch(S){}Ye(D,"unauthorized-domain")})).apply(this,arguments)}function ol(D){const f=We(),{protocol:p,hostname:S}=new URL(f);if(D.startsWith("chrome-extension://")){const at=new URL(D);return""===at.hostname&&""===S?"chrome-extension:"===p&&D.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&at.hostname===S}if(!jl.test(p))return!1;if(Il.test(D))return S===D;const K=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(S)}const Fa=new Tt(3e4,6e4);function Bu(){const D=Jt().___jsl;if(null==D?void 0:D.H)for(const f of Object.keys(D.H))if(D.H[f].r=D.H[f].r||[],D.H[f].L=D.H[f].L||[],D.H[f].r=[...D.H[f].L],D.CP)for(let p=0;p<D.CP.length;p++)D.CP[p]=null}let Ga=null;function wc(D){return Ga=Ga||function Ec(D){return new Promise((f,p)=>{var S,K,le;function at(){Bu(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Bu(),p(je(D,"network-request-failed"))},timeout:Fa.get()})}if(null===(K=null===(S=Jt().gapi)||void 0===S?void 0:S.iframes)||void 0===K?void 0:K.Iframe)f(gapi.iframes.getContext());else{if(!(null===(le=Jt().gapi)||void 0===le?void 0:le.load)){const Ut=pi("iframefcb");return Jt()[Ut]=()=>{gapi.load?at():p(je(D,"network-request-failed"))},Oo(`https://apis.google.com/js/api.js?onload=${Ut}`).catch(In=>p(In))}at()}}).catch(f=>{throw Ga=null,f})}(D),Ga}const Jc=new Tt(5e3,15e3),Uu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wa(D){const f=D.config;Fe(f.authDomain,D,"auth-domain-config-required");const p=f.emulator?mn(f,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,S={apiKey:f.apiKey,appName:D.name,v:oe.SDK_VERSION},K=Hl.get(D.config.apiHost);K&&(S.eid=K);const le=D._getFrameworks();return le.length&&(S.fw=le.join(",")),`${p}?${(0,v.xO)(S).slice(1)}`}function lu(){return lu=(0,h.Z)(function*(D){const f=yield wc(D),p=Jt().gapi;return Fe(p,D,"internal-error"),f.open({where:document.body,url:Wa(D),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uu,dontclear:!0},S=>new Promise(function(){var K=(0,h.Z)(function*(le,at){yield S.restyle({setHideOnLeave:!1});const Ut=je(D,"network-request-failed"),In=Jt().setTimeout(()=>{at(Ut)},Jc.get());function wn(){Jt().clearTimeout(In),le(S)}S.ping(wn).then(wn,()=>{at(Ut)})});return function(le,at){return K.apply(this,arguments)}}()))}),lu.apply(this,arguments)}const ju={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $u{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Ic(D,f,p,S,K,le){Fe(D.config.authDomain,D,"auth-domain-config-required"),Fe(D.config.apiKey,D,"invalid-api-key");const at={apiKey:D.config.apiKey,appName:D.name,authType:p,redirectUrl:S,v:oe.SDK_VERSION,eventId:K};if(f instanceof Qi){f.setDefaultLanguage(D.languageCode),at.providerId=f.providerId||"",(0,v.xb)(f.getCustomParameters())||(at.customParameters=JSON.stringify(f.getCustomParameters()));for(const[In,wn]of Object.entries(le||{}))at[In]=wn}if(f instanceof as){const In=f.getScopes().filter(wn=>""!==wn);In.length>0&&(at.scopes=In.join(","))}D.tenantId&&(at.tid=D.tenantId);const Ut=at;for(const In of Object.keys(Ut))void 0===Ut[In]&&delete Ut[In];return`${function Qd({config:D}){return D.emulator?mn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,v.xO)(Ut).slice(1)}`}const hs="webStorageSupport",Va=class Qo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=es,this._completeRedirectFn=jn}_openPopup(f,p,S,K){var le=this;return(0,h.Z)(function*(){var at;Bt(null===(at=le.eventManagers[f._key()])||void 0===at?void 0:at.manager,"_initialize() not called before _openPopup()");const Ut=Ic(f,p,S,We(),K);return function Tl(D,f,p,S=500,K=600){const le=Math.max((window.screen.availHeight-K)/2,0).toString(),at=Math.max((window.screen.availWidth-S)/2,0).toString();let Ut="";const In=Object.assign(Object.assign({},ju),{width:S.toString(),height:K.toString(),top:le,left:at}),wn=(0,v.z$)().toLowerCase();p&&(Ut=ye(wn)?"_blank":p),Gt(wn)&&(f=f||"http://localhost",In.scrollbars="yes");const Sr=Object.entries(In).reduce((si,[cl,da])=>`${si}${cl}=${da},`,"");if(function $r(D=(0,v.z$)()){var f;return gn(D)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(wn)&&"_self"!==Ut)return function ul(D,f){const p=document.createElement("a");p.href=D,p.target=f;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(S)}(f||"",Ut),new $u(null);const Hr=window.open(f||"",Ut,Sr);Fe(Hr,D,"popup-blocked");try{Hr.focus()}catch(si){}return new $u(Hr)}(f,Ut,Nn())})()}_openRedirect(f,p,S,K){var le=this;return(0,h.Z)(function*(){return yield le._originValidation(f),function pt(D){Jt().location.href=D}(Ic(f,p,S,We(),K)),new Promise(()=>{})})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:K,promise:le}=this.eventManagers[p];return K?Promise.resolve(K):(Bt(le,"If manager is not set, promise should be"),le)}const S=this.initAndGetManager(f);return this.eventManagers[p]={promise:S},S.catch(()=>{delete this.eventManagers[p]}),S}initAndGetManager(f){var p=this;return(0,h.Z)(function*(){const S=yield function al(D){return lu.apply(this,arguments)}(f),K=new Pi(f);return S.register("authEvent",le=>(Fe(null==le?void 0:le.authEvent,f,"invalid-auth-event"),{status:K.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:K},p.iframes[f._key()]=S,K})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send(hs,{type:hs},K=>{var le;const at=null===(le=null==K?void 0:K[0])||void 0===le?void 0:le[hs];void 0!==at&&p(!!at),Ye(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function za(D){return ho.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Mr()||Ne()||gn()}};class du extends class td{constructor(f){this.factorId=f}_process(f,p,S){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,S);case"signin":return this._finalizeSignIn(f,p.credential);default:return jt("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new du(f)}_finalizeEnroll(f,p,S){return function Xt(D,f){return kn(D,"POST","/v2/accounts/mfaEnrollment:finalize",Mn(D,f))}(f,{idToken:p,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function Qt(D,f){return kn(D,"POST","/v2/accounts/mfaSignIn:finalize",Mn(D,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let nd=(()=>{class D{constructor(){}static assertion(p){return du._fromCredential(p)}}return D.FACTOR_ID="phone",D})();var zu="@firebase/auth",$l="0.19.12";class Sl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,h.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(S=>{var K;f((null===(K=S)||void 0===K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hu(D=(0,oe.getApp)()){const f=(0,oe._getProvider)(D,"auth");return f.isInitialized()?f.getImmediate():function ut(D,f){const p=(0,oe._getProvider)(D,"auth");if(p.isInitialized()){const K=p.getImmediate(),le=p.getOptions();if((0,v.vZ)(le,null!=f?f:{}))return K;Ye(K,"already-initialized")}return p.initialize({options:f})}(D,{popupRedirectResolver:Va,persistence:[on,Vt,es]})}!function rd(D){(0,oe._registerComponent)(new Ae.wA("auth",(f,{options:p})=>{const S=f.getProvider("app").getImmediate(),K=f.getProvider("heartbeat"),{apiKey:le,authDomain:at}=S.options;return((Ut,In)=>{Fe(le&&!le.includes(":"),"invalid-api-key",{appName:Ut.name}),Fe(!(null==at?void 0:at.includes(":")),"argument-error",{appName:Ut.name});const wn={apiKey:le,authDomain:at,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vr(D)},Sr=new Li(Ut,In,wn);return function gt(D,f){const p=(null==f?void 0:f.persistence)||[],S=(Array.isArray(p)?p:[p]).map(nt);(null==f?void 0:f.errorMap)&&D._updateErrorMap(f.errorMap),D._initializeWithPersistence(S,null==f?void 0:f.popupRedirectResolver)}(Sr,p),Sr})(S,K)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,S)=>{f.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new Ae.wA("auth-internal",f=>{const p=wr(f.getProvider("auth").getImmediate());return new Sl(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(zu,$l,function Ka(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,oe.registerVersion)(zu,$l,"esm2017")}("Browser")},5525:(Yt,ze,k)=>{k.d(ze,{u7:()=>Ja,Jj:()=>ru,IX:()=>Zm,my:()=>Gs,xU:()=>ku,Lz:()=>yc,WA:()=>Ht,F8:()=>Gc,$q:()=>Zc,W:()=>Pu,EK:()=>J,PU:()=>_l,l7:()=>ya,Ky:()=>un,Xb:()=>Gn,Cf:()=>gi,K9:()=>wl,Me:()=>Oo,yq:()=>es,Wi:()=>Gm,ET:()=>pg,Ab:()=>_g,vr:()=>Qh,Fc:()=>Jm,hJ:()=>yy,B$:()=>qm,at:()=>gy,oe:()=>Uy,AK:()=>yg,TF:()=>tg,JU:()=>_y,ST:()=>wy,fH:()=>Dy,Ix:()=>eg,Wu:()=>ky,Lx:()=>hg,qY:()=>eo,GL:()=>vc,QT:()=>vl,kl:()=>fg,Xk:()=>Fy,PL:()=>Ly,UQ:()=>Vy,zN:()=>By,ad:()=>Ym,nP:()=>vg,b9:()=>Ry,vh:()=>cg,Pb:()=>J_,L$:()=>dp,cf:()=>jy,sc:()=>mg,Xo:()=>xy,IO:()=>Ay,iE:()=>gc,Eo:()=>vy,i3:()=>gg,Bt:()=>Cp,pl:()=>Dp,Ub:()=>el,qK:()=>Sy,TQ:()=>Oy,e0:()=>Qc,r7:()=>Wd,Mx:()=>Cy,ar:()=>ug});var ae,h=k(5861),v=k(9681),oe=k(4859),pe=k(1877),de=k(2090),Ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Re={},Te=Te||{},se=Ae||self;function he(){}function De(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ot(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ke="closure_uid_"+(1e9*Math.random()>>>0),dt=0;function Ue(i,e,n){return i.call.apply(i.bind,arguments)}function Xe(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function St(i,e,n){return(St=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ue:Xe).apply(null,arguments)}function Ye(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function je(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,l,d){for(var _=Array(arguments.length-2),R=2;R<arguments.length;R++)_[R-2]=arguments[R];return e.prototype[l].apply(o,_)}}function be(){this.s=this.s,this.o=this.o}var kt={};be.prototype.s=!1,be.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ge(i){return Object.prototype.hasOwnProperty.call(i,Ke)&&i[Ke]||(i[Ke]=++dt)}(this);delete kt[i]}},be.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},jt=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,l="string"==typeof i?i.split(""):i;for(let d=0;d<o;d++)d in l&&e.call(n,l[d],d,i)};function et(i){return Array.prototype.concat.apply([],arguments)}function nt(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function ut(i){return/^[\s\xa0]*$/.test(i)}var Kt,gt=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function We(i,e){return-1!=i.indexOf(e)}function Pt(i,e){return i<e?-1:i>e?1:0}e:{var dn=se.navigator;if(dn){var vn=dn.userAgent;if(vn){Kt=vn;break e}}Kt=""}function Tt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function mn(i){const e={};for(const n in i)e[n]=i[n];return e}var An="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sn(i,e){let n,o;for(let l=1;l<arguments.length;l++){for(n in o=arguments[l],o)i[n]=o[n];for(let d=0;d<An.length;d++)n=An[d],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function hn(i){return hn[" "](i),i}hn[" "]=he;var rr,i,kn=We(Kt,"Opera"),Dn=We(Kt,"Trident")||We(Kt,"MSIE"),Kn=We(Kt,"Edge"),ur=Kn||Dn,lr=We(Kt,"Gecko")&&!(We(Kt.toLowerCase(),"webkit")&&!We(Kt,"Edge"))&&!(We(Kt,"Trident")||We(Kt,"MSIE"))&&!We(Kt,"Edge"),gr=We(Kt.toLowerCase(),"webkit")&&!We(Kt,"Edge");function Sn(){var i=se.document;return i?i.documentMode:void 0}e:{var cr="",ti=(i=Kt,lr?/rv:([^\);]+)(\)|;)/.exec(i):Kn?/Edge\/([\d\.]+)/.exec(i):Dn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):gr?/WebKit\/(\S+)/.exec(i):kn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ti&&(cr=ti?ti[1]:""),Dn){var an=Sn();if(null!=an&&an>parseFloat(cr)){rr=String(an);break e}}rr=cr}var Wn={};var zr=se.document&&Dn&&(Sn()||parseInt(rr,10))||void 0,yr=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{se.addEventListener("test",he,e),se.removeEventListener("test",he,e)}catch(n){}return i}();function Ot(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function mt(i,e){if(Ot.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(lr){e:{try{hn(e.nodeName);var l=!0;break e}catch(d){}l=!1}l||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ve[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&mt.Z.h.call(this)}}Ot.prototype.h=function(){this.defaultPrevented=!0},je(mt,Ot);var ve={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),ht=0;function vt(i,e,n,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=l,this.key=++ht,this.ca=this.fa=!1}function xn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function dr(i){this.src=i,this.g={},this.h=0}function En(i,e){var n=e.type;if(n in i.g){var d,o=i.g[n],l=Fe(o,e);(d=0<=l)&&Array.prototype.splice.call(o,l,1),d&&(xn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function _r(i,e,n,o){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ca&&d.listener==e&&d.capture==!!n&&d.ia==o)return l}return-1}dr.prototype.add=function(i,e,n,o,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var _=_r(i,e,o,l);return-1<_?(e=i[_],n||(e.fa=!1)):((e=new vt(e,this.src,d,!!o,l)).fa=n,i.push(e)),e};var $n="closure_lm_"+(1e6*Math.random()|0),Pr={};function pn(i,e,n,o,l){if(o&&o.once)return ee(i,e,n,o,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)pn(i,e[d],n,o,l);return null}return n=me(n),i&&i[it]?i.N(e,n,ot(o)?!!o.capture:!!o,l):Lr(i,e,n,!1,o,l)}function Lr(i,e,n,o,l,d){if(!e)throw Error("Invalid event type");var _=ot(l)?!!l.capture:!!l,R=At(i);if(R||(i[$n]=R=new dr(i)),(n=R.add(e,n,o,_,d)).proxy)return n;if(o=function ct(){var e=Qe;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)yr||(l=_),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(Ce(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function ee(i,e,n,o,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)ee(i,e[d],n,o,l);return null}return n=me(n),i&&i[it]?i.O(e,n,ot(o)?!!o.capture:!!o,l):Lr(i,e,n,!0,o,l)}function H(i,e,n,o,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)H(i,e[d],n,o,l);else o=ot(o)?!!o.capture:!!o,n=me(n),i&&i[it]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=_r(d=i.g[e],n,o,l))&&(xn(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=At(i))&&(e=i.g[e.toString()],i=-1,e&&(i=_r(e,n,o,l)),(n=-1<i?e[i]:null)&&q(n))}function q(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[it])En(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Ce(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=At(e))?(En(n,i),0==n.h&&(n.src=null,e[$n]=null)):xn(i)}}}function Ce(i){return i in Pr?Pr[i]:Pr[i]="on"+i}function Qe(i,e){if(i.ca)i=!0;else{e=new mt(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&q(i),i=n.call(o,e)}return i}function At(i){return(i=i[$n])instanceof dr?i:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(i){return"function"==typeof i?i:(i[we]||(i[we]=function(e){return i.handleEvent(e)}),i[we])}function Se(){be.call(this),this.i=new dr(this),this.P=this,this.I=null}function Ze(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ot(e,i);else if(e instanceof Ot)e.target=e.target||i;else{var l=e;sn(e=new Ot(o,i),l)}if(l=!0,n)for(var d=n.length-1;0<=d;d--){var _=e.g=n[d];l=$e(_,o,!0,e)&&l}if(l=$e(_=e.g=i,o,!0,e)&&l,l=$e(_,o,!1,e)&&l,n)for(d=0;d<n.length;d++)l=$e(_=e.g=n[d],o,!1,e)&&l}function $e(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var _=e[d];if(_&&!_.ca&&_.capture==n){var R=_.listener,G=_.ia||_.src;_.fa&&En(i.i,_),l=!1!==R.call(G,o)&&l}}return l&&!o.defaultPrevented}je(Se,be),Se.prototype[it]=!0,Se.prototype.removeEventListener=function(i,e,n,o){H(this,i,e,n,o)},Se.prototype.M=function(){if(Se.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)xn(n[o]);delete i.g[e],i.h--}}this.I=null},Se.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Se.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var Gt=se.JSON.stringify;function Ne(){var i=xi;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var gn,ge=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ve,i=>i.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bt(i){se.setTimeout(()=>{throw i},0)}function Wt(i,e){gn||function Ar(){var i=se.Promise.resolve(void 0);gn=function(){i.then(Mr)}}(),$r||(gn(),$r=!0),xi.add(i,e)}var $r=!1,xi=new class ye{constructor(){this.h=this.g=null}add(e,n){const o=ge.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function Mr(){for(var i;i=Ne();){try{i.h.call(i.g)}catch(n){bt(n)}var e=ge;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}$r=!1}function yi(i,e){Se.call(this),this.h=i||1,this.g=e||se,this.j=St(this.kb,this),this.l=Date.now()}function Vr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Li(i,e,n){if("function"==typeof i)n&&(i=St(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=St(i.handleEvent,i)}return 2147483647<Number(e)?-1:se.setTimeout(i,e||0)}function wr(i){i.g=Li(()=>{i.g=null,i.i&&(i.i=!1,wr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}je(yi,Se),(ae=yi.prototype).da=!1,ae.S=null,ae.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ze(this,"tick"),this.da&&(Vr(this),this.start()))}},ae.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ae.M=function(){yi.Z.M.call(this),Vr(this),delete this.g};class en extends be{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wr(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ln(i){be.call(this),this.h=i,this.g={}}je(Ln,be);var vr=[];function Ci(i,e,n,o){Array.isArray(n)||(n&&(vr[0]=n.toString()),n=vr);for(var l=0;l<n.length;l++){var d=pn(e,n[l],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function di(i){Tt(i.g,function(e,n){this.g.hasOwnProperty(n)&&q(e)},i),i.g={}}function Jr(){this.g=!0}function br(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Un(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var _=1;_<l.length;_++)l[_]=""}}}return Gt(n)}catch(R){return e}}(i,n)+(o?" "+o:"")})}Ln.prototype.M=function(){Ln.Z.M.call(this),di(this)},Ln.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jr.prototype.Aa=function(){this.g=!1},Jr.prototype.info=function(){};var Si={},_i=null;function ss(){return _i=_i||new Se}function hi(i){Ot.call(this,Si.Ma,i)}function Dr(i){const e=ss();Ze(e,new hi(e,i))}function vi(i,e){Ot.call(this,Si.STAT_EVENT,i),this.stat=e}function Gr(i){const e=ss();Ze(e,new vi(e,i))}function He(i,e){Ot.call(this,Si.Na,i),this.size=e}function xe(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){i()},e)}Si.Ma="serverreachability",je(hi,Ot),Si.STAT_EVENT="statevent",je(vi,Ot),Si.Na="timingevent",je(He,Ot);var rt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Mt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Nt(){}function Er(){}Nt.prototype.h=null;var ps,Cr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tr(){Ot.call(this,"d")}function ni(){Ot.call(this,"c")}function zi(){}function Vi(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new Ln(this),this.P=Aa,this.W=new yi(i=ur?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ri}function Ri(){this.i=null,this.g="",this.h=!1}je(tr,Ot),je(ni,Ot),je(zi,Nt),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},ps=new zi;var Aa=45e3,Bi={},Us={};function os(i,e,n){i.K=1,i.v=Ks(ji(e)),i.s=n,i.U=!0,Eo(i,null)}function Eo(i,e){i.F=Date.now(),ms(i),i.A=ji(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),B(n.h,"t",o),i.C=0,n=i.l.H,i.h=new Ri,i.g=$s(i.l,n?e:null,!i.s),0<i.O&&(i.L=new en(St(i.Ia,i,i.g),i.O)),Ci(i.V,i.g,"readystatechange",i.gb),e=i.H?mn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Dr(1),function hr(i,e,n,o,l,d){i.info(function(){if(i.g)if(d)for(var _="",R=d.split("&"),G=0;G<R.length;G++){var ne=R[G].split("=");if(1<ne.length){var Ie=ne[0];ne=ne[1];var Be=Ie.split("_");_=2<=Be.length&&"type"==Be[1]?_+(Ie+"=")+ne+"&":_+(Ie+"=redacted&")}}else _=null;else _=d;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+n+"\n"+_})}(i.j,i.u,i.A,i.m,i.X,i.s)}function As(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Ds(i,e,n){let l,o=!0;for(;!i.I&&i.C<n.length;){if(l=ma(i,n),l==Us){4==e&&(i.o=4,Gr(14),o=!1),br(i.j,i.m,null,"[Incomplete Response]");break}if(l==Bi){i.o=4,Gr(15),br(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}br(i.j,i.m,l,null),io(i,l)}As(i)&&l!=Us&&l!=Bi&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Gr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jn(e),e.L=!0,Gr(11))):(br(i.j,i.m,n,"[Invalid Chunked Response]"),Ms(i),Cs(i))}function ma(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Us:(n=Number(e.substring(n,o)),isNaN(n)?Bi:(o+=1)+n>e.length?Us:(e=e.substr(o,n),i.C=o+n,e))}function ms(i){i.Y=Date.now()+i.P,Ma(i,i.P)}function Ma(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=xe(St(i.eb,i),e)}function Ws(i){i.B&&(se.clearTimeout(i.B),i.B=null)}function Cs(i){0==i.l.G||i.I||Wr(i.l,i)}function Ms(i){Ws(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Vr(i.W),di(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function io(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Xn(n.i,i)))if(n.I=i.N,!i.J&&Xn(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch(ne){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(n.u)n.ta=l[1],0<n.ta-n.U&&37500>l[2]&&n.N&&0==n.A&&!n.v&&(n.v=xe(St(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;er(n),N(n)}Hn(n),Gr(18)}if(1>=ir(n.i)&&n.ka){try{n.ka()}catch(ne){}n.ka=void 0}}else Ei(n,11)}else if((i.J||n.g==i)&&er(n),!ut(e))for(l=n.Ca.g.parse(e),e=0;e<l.length;e++){let ne=l[e];if(n.U=ne[0],ne=ne[1],2==n.G)if("c"==ne[0]){n.J=ne[1],n.la=ne[2];const Ie=ne[3];null!=Ie&&(n.ma=Ie,n.h.info("VER="+n.ma));const Be=ne[4];null!=Be&&(n.za=Be,n.h.info("SVER="+n.za));const _t=ne[5];null!=_t&&"number"==typeof _t&&0<_t&&(n.K=o=1.5*_t,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const $t=i.g;if($t){const Zt=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zt){var d=o.i;!d.g&&(We(Zt,"spdy")||We(Zt,"quic")||We(Zt,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(qn(d,d.h),d.h=null))}if(o.D){const On=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;On&&(o.sa=On,Rr(o.F,o.D,On))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var _=i;if((o=n).oa=Kr(o,o.H?o.la:null,o.W),_.J){ei(o.i,_);var R=_,G=o.K;G&&R.setTimeout(G),R.B&&(Ws(R),ms(R)),o.g=_}else Cn(o);0<n.l.length&&Me(n)}else"stop"!=ne[0]&&"close"!=ne[0]||Ei(n,7);else 3==n.G&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?Ei(n,7):w(n):"noop"!=ne[0]&&n.j&&n.j.wa(ne),n.A=0)}Dr(4)}catch(ne){}}function xs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(De(i)||"string"==typeof i)jt(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(De(i)||"string"==typeof i){n=[];for(var o=i.length,l=0;l<o;l++)n.push(l)}else for(l in n=[],o=0,i)n[o++]=l;o=function Is(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(De(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),l=o.length;for(var d=0;d<l;d++)e.call(void 0,o[d],n&&n[d],i)}}function Rs(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Rs)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function Qi(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];as(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var l={};for(n=e=0;e<i.g.length;)as(l,o=i.g[e])||(i.g[n++]=o,l[o]=1),e++;i.g.length=n}}function as(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ae=Vi.prototype).setTimeout=function(i){this.P=i},ae.gb=function(i){i=i.target;const e=this.L;e&&3==_s(i)?e.l():this.Ia(i)},ae.Ia=function(i){try{if(i==this.g)e:{const Ie=_s(this.g);var e=this.g.Da();const Be=this.g.ba();if(!(3>Ie)&&(3!=Ie||ur||this.g&&(this.h.h||this.g.ga()||Ki(this.g)))){this.I||4!=Ie||7==e||Dr(8==e||0>=Be?3:2),Ws(this);var n=this.g.ba();this.N=n;t:if(As(this)){var o=Ki(this.g);i="";var l=o.length,d=4==_s(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ms(this),Cs(this);var _="";break t}this.h.i=new se.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==n,function xr(i,e,n,o,l,d,_){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+n+"\n"+d+" "+_})}(this.j,this.u,this.A,this.m,this.X,Ie,n),this.i){if(this.$&&!this.J){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(R)){var ne=R;break t}}ne=null}if(!(n=ne)){this.i=!1,this.o=3,Gr(12),Ms(this),Cs(this);break e}br(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,io(this,n)}this.U?(Ds(this,Ie,_),ur&&this.i&&3==Ie&&(Ci(this.V,this.W,"tick",this.fb),this.W.start())):(br(this.j,this.m,_,null),io(this,_)),4==Ie&&Ms(this),this.i&&!this.I&&(4==Ie?Wr(this.l,this):(this.i=!1,ms(this)))}else 400==n&&0<_.indexOf("Unknown SID")?(this.o=3,Gr(12)):(this.o=0,Gr(13)),Ms(this),Cs(this)}}}catch(Ie){}},ae.fb=function(){if(this.g){var i=_s(this.g),e=this.g.ga();this.C<e.length&&(Ws(this),Ds(this,i,e),this.i&&4!=i&&ms(this))}},ae.cancel=function(){this.I=!0,Ms(this)},ae.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Ti(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Dr(3),Gr(17)),Ms(this),this.o=2,Cs(this)):Ma(this,this.Y-i)},(ae=Rs.prototype).R=function(){Qi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ae.T=function(){return Qi(this),this.g.concat()},ae.get=function(i,e){return as(this.h,i)?this.h[i]:e},ae.set=function(i,e){as(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ae.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var l=n[o],d=this.get(l);i.call(e,d,l,this)}};var Ui=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Xi){this.g=void 0!==e?e:i.g,gs(this,i.j),this.s=i.s,js(this,i.i),ls(this,i.m),this.l=i.l,e=i.h;var n=new ks;n.i=e.i,e.g&&(n.g=new Rs(e.g),n.h=e.h),Gi(this,n),this.o=i.o}else i&&(n=String(i).match(Ui))?(this.g=!!e,gs(this,n[1]||"",!0),this.s=Wi(n[2]||""),js(this,n[3]||"",!0),ls(this,n[4]),this.l=Wi(n[5]||"",!0),Gi(this,n[6]||"",!0),this.o=Wi(n[7]||"")):(this.g=!!e,this.h=new ks(null,this.g))}function ji(i){return new Xi(i)}function gs(i,e,n){i.j=n?Wi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function js(i,e,n){i.i=n?Wi(e,!0):e}function ls(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Gi(i,e,n){e instanceof ks?(i.h=e,function Pe(i,e){e&&!i.j&&(Ir(i),i.i=null,i.g.forEach(function(n,o){var l=o.toLowerCase();o!=l&&(V(this,o),B(this,l,n))},i)),i.j=e}(i.h,i.g)):(n||(e=wo(e,ys)),i.h=new ks(e,i.g))}function Rr(i,e,n){i.h.set(e,n)}function Ks(i){return Rr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Wi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function wo(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,fi),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function fi(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Xi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(wo(e,Os,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(wo(e,Os,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(wo(n,"/"==n.charAt(0)?qs:oo,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",wo(n,Hs)),i.join("")};var Os=/[#\/\?@]/g,oo=/[#\?:]/g,qs=/[#\?]/g,ys=/[#\?@]/g,Hs=/#/g;function ks(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ir(i){i.g||(i.g=new Rs,i.h=0,i.i&&function ga(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),l=null;if(0<=o){var d=i[n].substring(0,o);l=i[n].substring(o+1)}else d=i[n];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function V(i,e){Ir(i),e=ie(i,e),as(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,as((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Qi(i)))}function te(i,e){return Ir(i),e=ie(i,e),as(i.g.h,e)}function B(i,e,n){V(i,e),0<n.length&&(i.i=null,i.g.set(ie(i,e),nt(n)),i.h+=n.length)}function ie(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function It(i){this.l=i||tn,i=se.PerformanceNavigationTiming?0<(i=se.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ae=ks.prototype).add=function(i,e){Ir(this),this.i=null,i=ie(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ae.forEach=function(i,e){Ir(this),this.g.forEach(function(n,o){jt(n,function(l){i.call(e,l,o,this)},this)},this)},ae.T=function(){Ir(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var l=i[o],d=0;d<l.length;d++)n.push(e[o]);return n},ae.R=function(i){Ir(this);var e=[];if("string"==typeof i)te(this,i)&&(e=et(e,this.g.get(ie(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=et(e,i[n])}return e},ae.set=function(i,e){return Ir(this),this.i=null,te(this,i=ie(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ae.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],l=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var _=l;""!==o[d]&&(_+="="+encodeURIComponent(String(o[d]))),i.push(_)}}return this.i=i.join("&")};var tn=10;function jr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ir(i){return i.h?1:i.g?i.g.size:0}function Xn(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function qn(i,e){i.g?i.g.add(e):i.h=e}function ei(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Nr(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return nt(i.i)}function Ur(){}function j(){this.g=new Ur}function F(i,e,n){const o=n||"";try{xs(i,function(l,d){let _=l;ot(l)&&(_=Gt(l)),e.push(o+d+"="+encodeURIComponent(_))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function re(i,e,n,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(d){}}function Dt(i){this.l=i.$b||null,this.j=i.ib||!1}function yn(i,e){Se.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ri,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}It.prototype.cancel=function(){if(this.i=Nr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ur.prototype.stringify=function(i){return se.JSON.stringify(i,void 0)},Ur.prototype.parse=function(i){return se.JSON.parse(i,void 0)},je(Dt,Nt),Dt.prototype.g=function(){return new yn(this.l,this.j)},Dt.prototype.i=function(i){return function(){return i}}({}),je(yn,Se);var ri=0;function us(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Zs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ji(i)}function Ji(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ae=yn.prototype).open=function(i,e){if(this.readyState!=ri)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ji(this)},ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zs(this)),this.readyState=ri},ae.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ji(this)),this.g&&(this.readyState=3,Ji(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==se.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;us(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ae.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Zs(this):Ji(this),3==this.readyState&&us(this)}},ae.Ua=function(i){this.g&&(this.response=this.responseText=i,Zs(this))},ae.Ta=function(i){this.g&&(this.response=i,Zs(this))},ae.ha=function(){this.g&&Zs(this)},ae.setRequestHeader=function(i,e){this.v.append(i,e)},ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ae.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Lt=se.JSON.parse;function Rn(i){Se.call(this),this.headers=new Rs,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=na,this.K=this.L=!1}je(Rn,Se);var na="",bi=/^https?$/i,ra=["POST","PUT"];function ao(i){return"content-type"==i.toLowerCase()}function Mo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ia(i),Vo(i)}function ia(i){i.D||(i.D=!0,Ze(i,"complete"),Ze(i,"error"))}function El(i){if(i.h&&void 0!==Te&&(!i.C[1]||4!=_s(i)||2!=i.ba()))if(i.v&&4==_s(i))Li(i.Fa,0,i);else if(Ze(i,"readystatechange"),4==_s(i)){i.h=!1;try{const R=i.ba();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===R){var l=String(i.H).match(Ui)[1]||null;if(!l&&se.self&&se.self.location){var d=se.self.location.protocol;l=d.substr(0,d.length-1)}o=!bi.test(l?l.toLowerCase():"")}n=o}if(n)Ze(i,"complete"),Ze(i,"success");else{i.m=6;try{var _=2<_s(i)?i.g.statusText:""}catch(G){_=""}i.j=_+" ["+i.ba()+"]",ia(i)}}finally{Vo(i)}}}function Vo(i,e){if(i.g){xo(i);const n=i.g,o=i.C[0]?he:null;i.g=null,i.C=null,e||Ze(i,"ready");try{n.onreadystatechange=o}catch(l){}}}function xo(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(se.clearTimeout(i.A),i.A=null)}function _s(i){return i.g?i.g.readyState:0}function Ki(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case na:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Bo(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function lo(i){let e="";return Tt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Rr(i,e,n))}function W(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function g(i){this.za=0,this.l=[],this.h=new Jr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=W("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=W("baseRetryDelayMs",5e3,i),this.$a=W("retryDelaySeedMs",1e4,i),this.Ya=W("forwardChannelMaxRetries",2,i),this.ra=W("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new It(i&&i.concurrentRequestLimit),this.Ca=new j,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function w(i){if(Z(i),3==i.G){var e=i.V++,n=ji(i.F);Rr(n,"SID",i.J),Rr(n,"RID",e),Rr(n,"TYPE","terminate"),Ct(i,n),(e=new Vi(i,i.h,e,void 0)).K=2,e.v=Ks(ji(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(e.v.toString(),"")),!n&&se.Image&&((new Image).src=e.v,n=!0),n||(e.g=$s(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ms(e)}Ni(i)}function N(i){i.g&&(Jn(i),i.g.cancel(),i.g=null)}function Z(i){N(i),i.u&&(se.clearTimeout(i.u),i.u=null),er(i),i.i.cancel(),i.m&&("number"==typeof i.m&&se.clearTimeout(i.m),i.m=null)}function ce(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Me(i)}function Me(i){jr(i.i)||i.m||(i.m=!0,Wt(i.Ha,i),i.C=0)}function st(i,e){var n;n=e?e.m:i.V++;const o=ji(i.F);Rr(o,"SID",i.J),Rr(o,"RID",n),Rr(o,"AID",i.U),Ct(i,o),i.o&&i.s&&Bo(o,i.o,i.s),n=new Vi(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=cn(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),qn(i.i,n),os(n,o,e)}function Ct(i,e){i.j&&xs({},function(n,o){Rr(e,o,n)})}function cn(i,e,n){n=Math.min(i.l.length,n);var o=i.j?St(i.j.Oa,i.j,i):null;e:{var l=i.l;let d=-1;for(;;){const _=["count="+n];-1==d?0<n?(d=l[0].h,_.push("ofs="+d)):d=0:_.push("ofs="+d);let R=!0;for(let G=0;G<n;G++){let ne=l[G].h;const Ie=l[G].g;if(ne-=d,0>ne)d=Math.max(0,l[G].h-100),R=!1;else try{F(Ie,_,"req"+ne+"_")}catch(Be){o&&o(Ie)}}if(R){o=_.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function Cn(i){i.g||i.u||(i.Y=1,Wt(i.Ga,i),i.A=0)}function Hn(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=xe(St(i.Ga,i),oi(i,i.A)),i.A++,0))}function Jn(i){null!=i.B&&(se.clearTimeout(i.B),i.B=null)}function Vn(i){i.g=new Vi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=ji(i.oa);Rr(e,"RID","rpc"),Rr(e,"SID",i.J),Rr(e,"CI",i.N?"0":"1"),Rr(e,"AID",i.U),Ct(i,e),Rr(e,"TYPE","xmlhttp"),i.o&&i.s&&Bo(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=Ks(ji(e)),n.s=null,n.U=!0,Eo(n,i)}function er(i){null!=i.v&&(se.clearTimeout(i.v),i.v=null)}function Wr(i,e){var n=null;if(i.g==e){er(i),Jn(i),i.g=null;var o=2}else{if(!Xn(i.i,e))return;n=e.D,ei(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;Ze(o=ss(),new He(o,n,e,l)),Me(i)}else Cn(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function Oe(i,e){return!(ir(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=xe(St(i.Ha,i,e),oi(i,i.C)),i.C++,0)))}(i,e)||2==o&&Hn(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),l){case 1:Ei(i,5);break;case 4:Ei(i,10);break;case 3:Ei(i,6);break;default:Ei(i,2)}}function oi(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Ei(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=St(i.jb,i);n||(n=new Xi("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||gs(n,"https"),Ks(n)),function x(i,e){const n=new Jr;if(se.Image){const o=new Image;o.onload=Ye(re,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Ye(re,n,o,"TestLoadImage: error",!1,e),o.onabort=Ye(re,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ye(re,n,o,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Gr(2);i.G=0,i.j&&i.j.va(e),Ni(i),Z(i)}function Ni(i){i.G=0,i.I=-1,i.j&&((0!=Nr(i.i).length||0!=i.l.length)&&(i.i.i.length=0,nt(i.l),i.l.length=0),i.j.ua())}function Kr(i,e,n){let o=function so(i){return i instanceof Xi?ji(i):new Xi(i,void 0)}(n);if(""!=o.i)e&&js(o,e+"."+o.i),ls(o,o.m);else{const l=se.location;o=function Or(i,e,n,o){var l=new Xi(null,void 0);return i&&gs(l,i),e&&js(l,e),n&&ls(l,n),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,n)}return i.aa&&Tt(i.aa,function(l,d){Rr(o,d,l)}),n=i.sa,(e=i.D)&&n&&Rr(o,e,n),Rr(o,"VER",i.ma),Ct(i,o),o}function $s(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rn(n&&i.Ba&&!i.qa?new Dt({ib:!0}):i.qa)).L=i.H,e}function Yr(){}function Ai(){if(Dn&&!(10<=Number(zr)))throw Error("Environmental error: no available transport.")}function Fi(i,e){Se.call(this),this.g=new g(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!ut(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ut(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Do(this)}function Ro(i){tr.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function zs(){ni.call(this),this.status=1}function Do(i){this.g=i}(ae=Rn.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ps.g(),this.C=function nn(i){return i.h||(i.h=i.i())}(this.u?this.u:ps),this.g.onreadystatechange=St(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Mo(this,d)}i=n||"";const l=new Rs(this.headers);o&&xs(o,function(d,_){l.set(_,d)}),o=function Bt(i){e:{var e=ao;const n=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<n;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),n=se.FormData&&i instanceof se.FormData,!(0<=Fe(ra,e))||o||n||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,_){this.g.setRequestHeader(_,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xo(this),0<this.B&&((this.K=function Ao(i){return Dn&&function Qn(){return function Mn(i){var e=Wn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=gt(String(rr)).split("."),n=gt("9").split("."),o=Math.max(e.length,n.length);for(let _=0;0==i&&_<o;_++){var l=e[_]||"",d=n[_]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=Pt(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||Pt(0==l[2].length,0==d[2].length)||Pt(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.pa,this)):this.A=Li(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Mo(this,d)}},ae.pa=function(){void 0!==Te&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))},ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ze(this,"complete"),Ze(this,"abort"),Vo(this))},ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vo(this,!0)),Rn.Z.M.call(this)},ae.Fa=function(){this.s||(this.F||this.v||this.l?El(this):this.cb())},ae.cb=function(){El(this)},ae.ba=function(){try{return 2<_s(this)?this.g.status:-1}catch(i){return-1}},ae.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ae.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Lt(e)}},ae.Da=function(){return this.m},ae.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ae=g.prototype).ma=8,ae.G=1,ae.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ae.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new Vi(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=mn(d),sn(d,this.P)):d=this.P),null===this.o&&(l.H=d),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=cn(this,l,e),Rr(n=ji(this.F),"RID",i),Rr(n,"CVER",22),this.D&&Rr(n,"X-HTTP-Session-Id",this.D),Ct(this,n),this.o&&d&&Bo(n,this.o,d),qn(this.i,l),this.Ra&&Rr(n,"TYPE","init"),this.ja?(Rr(n,"$req",e),Rr(n,"SID","null"),l.$=!0,os(l,n,null)):os(l,n,e),this.G=2}}else 3==this.G&&(i?st(this,i):0==this.l.length||jr(this.i)||st(this))},ae.Ga=function(){if(this.u=null,Vn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=xe(St(this.bb,this),i)}},ae.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gr(10),N(this),Vn(this))},ae.ab=function(){null!=this.v&&(this.v=null,N(this),Hn(this),Gr(19))},ae.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Gr(2)):(this.h.info("Failed to ping google.com"),Gr(1))},(ae=Yr.prototype).xa=function(){},ae.wa=function(){},ae.va=function(){},ae.ua=function(){},ae.Oa=function(){},Ai.prototype.g=function(i,e){return new Fi(i,e)},je(Fi,Se),Fi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Wt(St(i.hb,i,e))),Gr(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=Kr(i,null,i.W),Me(i)},Fi.prototype.close=function(){w(this.g)},Fi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,ce(this.g,e)}else this.v?((e={}).__data__=Gt(i),ce(this.g,e)):ce(this.g,i)},Fi.prototype.M=function(){this.g.j=null,delete this.j,w(this.g),delete this.g,Fi.Z.M.call(this)},je(Ro,tr),je(zs,ni),je(Do,Yr),Do.prototype.xa=function(){Ze(this.g,"a")},Do.prototype.wa=function(i){Ze(this.g,new Ro(i))},Do.prototype.va=function(i){Ze(this.g,new zs(i))},Do.prototype.ua=function(){Ze(this.g,"b")},Ai.prototype.createWebChannel=Ai.prototype.g,Fi.prototype.send=Fi.prototype.u,Fi.prototype.open=Fi.prototype.m,Fi.prototype.close=Fi.prototype.close,rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,Mt.COMPLETE="complete",Er.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",Se.prototype.listen=Se.prototype.N,Rn.prototype.listenOnce=Rn.prototype.O,Rn.prototype.getLastError=Rn.prototype.La,Rn.prototype.getLastErrorCode=Rn.prototype.Da,Rn.prototype.getStatus=Rn.prototype.ba,Rn.prototype.getResponseJson=Rn.prototype.Qa,Rn.prototype.getResponseText=Rn.prototype.ga,Rn.prototype.send=Rn.prototype.ea;var Ys=Re.createWebChannelTransport=function(){return new Ai},Ps=Re.getStatEventTarget=function(){return ss()},Uo=Re.ErrorCode=rt,sa=Re.EventType=Mt,Xt=Re.Event=Si,Pn=Re.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Bn=Re.FetchXmlHttpFactory=Dt,zn=Re.WebChannel=Er,ii=Re.XhrIo=Rn;const Mi="@firebase/firestore";class qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");let fr="9.6.11";const Fr=new pe.Yd("@firebase/firestore");function jo(){return Fr.logLevel}function el(i){Fr.setLogLevel(i)}function Vt(i,...e){if(Fr.logLevel<=pe.in.DEBUG){const n=e.map(ts);Fr.debug(`Firestore (${fr}): ${i}`,...n)}}function Tr(i,...e){if(Fr.logLevel<=pe.in.ERROR){const n=e.map(ts);Fr.error(`Firestore (${fr}): ${i}`,...n)}}function es(i,...e){if(Fr.logLevel<=pe.in.WARN){const n=e.map(ts);Fr.warn(`Firestore (${fr}): ${i}`,...n)}}function ts(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function _n(i="Unexpected state"){const e=`FIRESTORE (${fr}) INTERNAL ASSERTION FAILED: `+i;throw Tr(e),new Error(e)}function Nn(i,e){i||_n()}function wl(i,e){i||_n()}function Jt(i,e){return i}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends de.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ho{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $o{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qr.UNAUTHENTICATED))}shutdown(){}}class Ll{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tl{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let l=this.i;const d=ne=>this.i!==l?(l=this.i,n(ne)):Promise.resolve();let _=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new wi,e.enqueueRetryable(()=>d(this.currentUser))};const R=()=>{const ne=_;e.enqueueRetryable((0,h.Z)(function*(){yield ne.promise,yield d(o.currentUser)}))},G=ne=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.auth.addAuthTokenListener(this.o),R()};this.t.onInit(ne=>G(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?G(ne):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new wi)}},0),R()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Nn("string"==typeof o.accessToken),new Ho(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nn(null===e||"string"==typeof e),new qr(e)}}class zo{constructor(e,n,o){this.type="FirstParty",this.user=qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Go{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new zo(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Co{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=d=>{null!=d.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const _=d.token!==this.p;return this.p=d.token,Vt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const l=d=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?l(d):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nn("string"==typeof n.token),this.p=n.token,new qi(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ns{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.I(o),this.T=o=>n.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function A(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}Ns.A=-1;class C{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=A(40);for(let d=0;d<l.length;++d)o.length<20&&l[d]<n&&(o+=e.charAt(l[d]%e.length))}return o}}function b(i,e){return i<e?-1:i>e?1:0}function L(i,e,n){return i.length===e.length&&i.every((o,l)=>n(o,e[l]))}function $(i){return i+"\0"}class J{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ht(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ht(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ht(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ht(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return J.fromMillis(Date.now())}static fromDate(e){return J.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new J(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?b(this.nanoseconds,e.nanoseconds):b(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new J(0,0))}static max(){return new ue(new J(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ke(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Et(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function on(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Yn{constructor(e,n,o){void 0===n?n=0:n>e.length&&_n(),void 0===o?o=e.length-n:o>e.length-n&&_n(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Yn.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yn?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const d=e.get(l),_=n.get(l);if(d<_)return-1;if(d>_)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qt extends Yn{construct(e,n,o){return new Qt(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ht(pt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new Qt(n)}static emptyPath(){return new Qt([])}}const Zr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Yn{construct(e,n,o){return new Gn(e,n,o)}static isValidIdentifier(e){return Zr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const n=[];let o="",l=0;const d=()=>{if(0===o.length)throw new Ht(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let _=!1;for(;l<e.length;){const R=e[l];if("\\"===R){if(l+1===e.length)throw new Ht(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[l+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new Ht(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,l+=2}else"`"===R?(_=!_,l++):"."!==R||_?(o+=R,l++):(d(),l++)}if(d(),_)throw new Ht(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}class Oi{constructor(e){this.fields=e,e.sort(Gn.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return L(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Oo(){return"undefined"!=typeof atob}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new pi(n)}static fromUint8Array(e){const n=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new pi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return b(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pi.EMPTY_BYTE_STRING=new pi("");const ja=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(i){if(Nn(!!i),"string"==typeof i){let e=0;const n=ja.exec(i);if(Nn(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Xr(i.seconds),nanos:Xr(i.nanos)}}function Xr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Qs(i){return"string"==typeof i?pi.fromBase64String(i):pi.fromUint8Array(i)}function uo(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ha(i){const e=i.mapValue.fields.__previous_value__;return uo(e)?Ha(e):e}function co(i){const e=Zi(i.mapValue.fields.__local_write_time__.timestampValue);return new J(e.seconds,e.nanos)}class Vl{constructor(e,n,o,l,d,_,R,G){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=d,this.forceLongPolling=_,this.autoDetectLongPolling=R,this.useFetchStreams=G}}class ya{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ya("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ya&&e.projectId===this.projectId&&e.database===this.database}}function mi(i){return null==i}function nl(i){return 0===i&&1/i==-1/0}function bc(i){return"number"==typeof i&&Number.isInteger(i)&&!nl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class un{constructor(e){this.path=e}static fromPath(e){return new un(Qt.fromString(e))}static fromName(e){return new un(Qt.fromString(e).popFirst(5))}static empty(){return new un(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new un(new Qt(e.slice()))}}const ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wo={nullValue:"NULL_VALUE"};function _a(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?uo(i)?4:ba(i)?9:10:_n()}function ko(i,e){if(i===e)return!0;const n=_a(i);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return co(i).isEqual(co(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Zi(o.timestampValue),_=Zi(l.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Qs(i.bytesValue).isEqual(Qs(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Xr(o.geoPointValue.latitude)===Xr(l.geoPointValue.latitude)&&Xr(o.geoPointValue.longitude)===Xr(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Xr(o.integerValue)===Xr(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=Xr(o.doubleValue),_=Xr(l.doubleValue);return d===_?nl(d)===nl(_):isNaN(d)&&isNaN(_)}return!1}(i,e);case 9:return L(i.arrayValue.values||[],e.arrayValue.values||[],ko);case 10:return function(o,l){const d=o.mapValue.fields||{},_=l.mapValue.fields||{};if(ke(d)!==ke(_))return!1;for(const R in d)if(d.hasOwnProperty(R)&&(void 0===_[R]||!ko(d[R],_[R])))return!1;return!0}(i,e);default:return _n()}var l}function aa(i,e){return void 0!==(i.values||[]).find(n=>ko(n,e))}function Ko(i,e){if(i===e)return 0;const n=_a(i),o=_a(e);if(n!==o)return b(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return b(i.booleanValue,e.booleanValue);case 2:return function(l,d){const _=Xr(l.integerValue||l.doubleValue),R=Xr(d.integerValue||d.doubleValue);return _<R?-1:_>R?1:_===R?0:isNaN(_)?isNaN(R)?0:-1:1}(i,e);case 3:return ns(i.timestampValue,e.timestampValue);case 4:return ns(co(i),co(e));case 5:return b(i.stringValue,e.stringValue);case 6:return function(l,d){const _=Qs(l),R=Qs(d);return _.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const _=l.split("/"),R=d.split("/");for(let G=0;G<_.length&&G<R.length;G++){const ne=b(_[G],R[G]);if(0!==ne)return ne}return b(_.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const _=b(Xr(l.latitude),Xr(d.latitude));return 0!==_?_:b(Xr(l.longitude),Xr(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,d){const _=l.values||[],R=d.values||[];for(let G=0;G<_.length&&G<R.length;++G){const ne=Ko(_[G],R[G]);if(ne)return ne}return b(_.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,d){const _=l.fields||{},R=Object.keys(_),G=d.fields||{},ne=Object.keys(G);R.sort(),ne.sort();for(let Ie=0;Ie<R.length&&Ie<ne.length;++Ie){const Be=b(R[Ie],ne[Ie]);if(0!==Be)return Be;const _t=Ko(_[R[Ie]],G[ne[Ie]]);if(0!==_t)return _t}return b(R.length,ne.length)}(i.mapValue,e.mapValue);default:throw _n()}}function ns(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return b(i,e);const n=Zi(i),o=Zi(e),l=b(n.seconds,o.seconds);return 0!==l?l:b(n.nanos,o.nanos)}function ki(i){return la(i)}function la(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Zi(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Qs(i.bytesValue).toBase64():"referenceValue"in i?un.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",d=!0;for(const _ of o.values||[])d?d=!1:l+=",",l+=la(_);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let d="{",_=!0;for(const R of l)_?_=!1:d+=",",d+=`${R}:${la(o.fields[R])}`;return d+"}"}(i.mapValue):_n();var e}function va(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Po(i){return!!i&&"integerValue"in i}function vs(i){return!!i&&"arrayValue"in i}function Io(i){return!!i&&"nullValue"in i}function xa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ra(i){return!!i&&"mapValue"in i}function cs(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Et(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=cs(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cs(i.arrayValue.values[n]);return e}return Object.assign({},i)}function ba(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Dl(i){return"nullValue"in i?Wo:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?va(ya.empty(),un.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:_n()}function Bl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?va(ya.empty(),un.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ou:_n()}function Ul(i,e){return void 0===i?e:void 0===e||Ko(i,e)>0?i:e}function Xs(i,e){return void 0===i?e:void 0===e||Ko(i,e)<0?i:e}class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Ra(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cs(n)}setAll(e){let n=Gn.emptyPath(),o={},l=[];e.forEach((_,R)=>{if(!n.isImmediateParentOf(R)){const G=this.getFieldsMap(n);this.applyChanges(G,o,l),o={},l=[],n=R.popLast()}_?o[R.lastSegment()]=cs(_):l.push(R.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,o,l)}delete(e){const n=this.field(e.popLast());Ra(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ko(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];Ra(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){Et(n,(l,d)=>e[l]=d);for(const l of o)delete e[l]}clone(){return new ai(cs(this.value))}}function Fs(i){const e=[];return Et(i.fields,(n,o)=>{const l=new Gn([n]);if(Ra(o)){const d=Fs(o.mapValue).fields;if(0===d.length)e.push(l);else for(const _ of d)e.push(l.child(_))}else e.push(l)}),new Oi(e)}class Ii{constructor(e,n,o,l,d,_){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Ii(e,0,ue.min(),ue.min(),ai.empty(),0)}static newFoundDocument(e,n,o){return new Ii(e,1,n,ue.min(),o,0)}static newNoDocument(e,n){return new Ii(e,2,n,ue.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new Ii(e,3,n,ue.min(),ai.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ii&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ii(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qo{constructor(e,n,o,l){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=l}}function Oa(i){return i.fields.find(e=>2===e.kind)}function Js(i){return i.fields.filter(e=>2!==e.kind)}qo.UNKNOWN_ID=-1;class Zo{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ea{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ea(0,bs.min())}}function rl(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=ue.fromTimestamp(1e9===o?new J(n+1,0):new J(n,o));return new bs(l,un.empty(),e)}function Vu(i){return new bs(i.readTime,i.key,-1)}class bs{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new bs(ue.min(),un.empty(),-1)}static max(){return new bs(ue.max(),un.empty(),-1)}}function au(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=un.comparator(i.documentKey,e.documentKey),0!==n?n:b(i.largestBatchId,e.largestBatchId))}class ua{constructor(e,n=null,o=[],l=[],d=null,_=null,R=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=d,this.startAt=_,this.endAt=R,this.P=null}}function ka(i,e=null,n=[],o=[],l=null,d=null,_=null){return new ua(i,e,n,o,l,d,_)}function wa(i){const e=Jt(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+ki(l.value);var l}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),mi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>ki(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>ki(o)).join(",")),e.P=n}return e.P}function ca(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Es(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((n=i.filters[l]).op!==(o=e.filters[l]).op||!n.field.isEqual(o.field)||!ko(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Na(i.startAt,e.startAt)&&Na(i.endAt,e.endAt)}function Da(i){return un.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function il(i,e){return i.filters.filter(n=>n instanceof Q&&n.field.isEqual(e))}function P(i,e,n){let o,l=!0;for(const d of il(i,e)){let _,R=!0;switch(d.op){case"<":case"<=":_=Dl(d.value);break;case"==":case"in":case">=":_=d.value;break;case">":_=d.value,R=!1;break;case"!=":case"not-in":_=Wo}Ul(o,_)===_&&(o=_,l=R)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const _=n.position[d];Ul(o,_)===_&&(o=_,l=n.inclusive);break}return{value:o,inclusive:l}}function U(i,e,n){let o,l=!0;for(const d of il(i,e)){let _,R=!0;switch(d.op){case">=":case">":_=Bl(d.value),R=!1;break;case"==":case"in":case"<=":_=d.value;break;case"<":_=d.value,R=!1;break;case"!=":case"not-in":_=ou}Xs(o,_)===_&&(o=_,l=R)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const _=n.position[d];Xs(o,_)===_&&(o=_,l=n.inclusive);break}return{value:o,inclusive:l}}class Q extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,o):new Ee(e,n,o):"array-contains"===n?new ln(e,o):"in"===n?new sr(e,o):"not-in"===n?new or(e,o):"array-contains-any"===n?new ar(e,o):new Q(e,n,o)}static V(e,n,o){return"in"===n?new tt(e,o):new ft(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Ko(n,this.value)):null!==n&&_a(this.value)===_a(n)&&this.v(Ko(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _n()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ee extends Q{constructor(e,n,o){super(e,n,o),this.key=un.fromName(o.referenceValue)}matches(e){const n=un.comparator(e.key,this.key);return this.v(n)}}class tt extends Q{constructor(e,n){super(e,"in",n),this.keys=qt(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ft extends Q{constructor(e,n){super(e,"not-in",n),this.keys=qt(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qt(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>un.fromName(o.referenceValue))}class ln extends Q{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vs(n)&&aa(n.arrayValue,this.value)}}class sr extends Q{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&aa(this.value.arrayValue,n)}}class or extends Q{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!aa(this.value.arrayValue,n)}}class ar extends Q{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vs(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>aa(this.value.arrayValue,o))}}class jn{constructor(e,n){this.position=e,this.inclusive=n}}class ds{constructor(e,n="asc"){this.field=e,this.dir=n}}function Es(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Pa(i,e,n){let o=0;for(let l=0;l<i.position.length;l++){const d=e[l],_=i.position[l];if(o=d.field.isKeyField()?un.comparator(un.fromName(_.referenceValue),n.key):Ko(_,n.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Na(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ko(i.position[n],e.position[n]))return!1;return!0}class Pi{constructor(e,n=null,o=[],l=[],d=null,_="F",R=null,G=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=d,this.limitType=_,this.startAt=R,this.endAt=G,this.D=null,this.C=null}}function Yo(i,e,n,o,l,d,_,R){return new Pi(i,e,n,o,l,d,_,R)}function Ls(i){return new Pi(i)}function $a(i){return!mi(i.limit)&&"F"===i.limitType}function Cl(i){return!mi(i.limit)&&"L"===i.limitType}function sl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Il(i){for(const e of i.filters)if(e.S())return e.field;return null}function jl(i){return null!==i.collectionGroup}function za(i){const e=Jt(i);if(null===e.D){e.D=[];const n=Il(e),o=sl(e);if(null!==n&&null===o)n.isKeyField()||e.D.push(new ds(n)),e.D.push(new ds(Gn.keyField(),"asc"));else{let l=!1;for(const d of e.explicitOrderBy)e.D.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ds(Gn.keyField(),d))}}}return e.D}function ho(i){const e=Jt(i);if(!e.C)if("F"===e.limitType)e.C=ka(e.path,e.collectionGroup,za(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const d of za(e))n.push(new ds(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new jn(e.endAt.position,!e.endAt.inclusive):null,l=e.startAt?new jn(e.startAt.position,!e.startAt.inclusive):null;e.C=ka(e.path,e.collectionGroup,n,e.filters,e.limit,o,l)}return e.C}function ol(i,e,n){return new Pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Fa(i,e){return ca(ho(i),ho(e))&&i.limitType===e.limitType}function Bu(i){return`${wa(ho(i))}|lt:${i.limitType}`}function Ec(i){return`Query(target=${function No(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${ki(o.value)}`;var o}).join(", ")}]`),mi(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>ki(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>ki(n)).join(",")),`Target(${e})`}(ho(i))}; limitType=${i.limitType})`}function Ga(i,e){return e.isFoundDocument()&&function(n,o){const l=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):un.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(i,e)&&function(n,o){for(const l of n.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(l,d,_){const R=Pa(l,d,_);return l.inclusive?R<=0:R<0}(n.startAt,za(n),o)||n.endAt&&!function(l,d,_){const R=Pa(l,d,_);return l.inclusive?R>=0:R>0}(n.endAt,za(n),o)));var n,o}function wc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Jc(i){return(e,n)=>{let o=!1;for(const l of za(i)){const d=Dc(l,e,n);if(0!==d)return d;o=o||l.field.isKeyField()}return 0}}function Dc(i,e,n){const o=i.field.isKeyField()?un.comparator(e.key,n.key):function(l,d,_){const R=d.data.field(l),G=_.data.field(l);return null!==R&&null!==G?Ko(R,G):_n()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return _n()}}function Cc(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nl(e)?"-0":e}}function Uu(i){return{integerValue:""+i}}function Hl(i,e){return bc(e)?Uu(e):Cc(i,e)}class Wa{constructor(){this._=void 0}}function al(i,e,n){return i instanceof uu?function(o,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(n,e):i instanceof La?Hu(i,e):i instanceof ll?$u(i,e):function(o,l){const d=ju(o,l),_=ul(d)+ul(o.k);return Po(d)&&Po(o.k)?Uu(_):Cc(o.M,_)}(i,e)}function lu(i,e,n){return i instanceof La?Hu(i,e):i instanceof ll?$u(i,e):n}function ju(i,e){return i instanceof Tl?Po(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class uu extends Wa{}class La extends Wa{constructor(e){super(),this.elements=e}}function Hu(i,e){const n=ed(e);for(const o of i.elements)n.some(l=>ko(l,o))||n.push(o);return{arrayValue:{values:n}}}class ll extends Wa{constructor(e){super(),this.elements=e}}function $u(i,e){let n=ed(e);for(const o of i.elements)n=n.filter(l=>!ko(l,o));return{arrayValue:{values:n}}}class Tl extends Wa{constructor(e,n){super(),this.M=e,this.k=n}}function ul(i){return Xr(i.integerValue||i.doubleValue)}function ed(i){return vs(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class cu{constructor(e,n){this.field=e,this.transform=n}}class Qd{constructor(e,n){this.version=e,this.transformResults=n}}class hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qo(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Va{}function td(i,e,n){i instanceof Sl?function(o,l,d){const _=o.value.clone(),R=hu(o.fieldTransforms,l,d.transformResults);_.setAll(R),l.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(i,e,n):i instanceof Ka?function(o,l,d){if(!Qo(o.precondition,l))return void l.convertToUnknownDocument(d.version);const _=hu(o.fieldTransforms,l,d.transformResults),R=l.data;R.setAll(rd(o)),R.setAll(_),l.convertToFoundDocument(d.version,R).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function du(i,e,n){var l;i instanceof Sl?function(o,l,d){if(!Qo(o.precondition,l))return;const _=o.value.clone(),R=D(o.fieldTransforms,d,l);_.setAll(R),l.convertToFoundDocument($l(l),_).setHasLocalMutations()}(i,e,n):i instanceof Ka?function(o,l,d){if(!Qo(o.precondition,l))return;const _=D(o.fieldTransforms,d,l),R=l.data;R.setAll(rd(o)),R.setAll(_),l.convertToFoundDocument($l(l),R).setHasLocalMutations()}(i,e,n):Qo(i.precondition,l=e)&&l.convertToNoDocument(ue.min())}function nd(i,e){let n=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),d=ju(o.transform,l||null);null!=d&&(null==n&&(n=ai.empty()),n.set(o.field,d))}return n||null}function zu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&L(n,o,(l,d)=>function Ic(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof La&&o instanceof La||n instanceof ll&&o instanceof ll?L(n.elements,o.elements,ko):n instanceof Tl&&o instanceof Tl?ko(n.k,o.k):n instanceof uu&&o instanceof uu);var n,o}(l,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}function $l(i){return i.isFoundDocument()?i.version:ue.min()}class Sl extends Va{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}}class Ka extends Va{constructor(e,n,o,l,d=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=d,this.type=1}}function rd(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function hu(i,e,n){const o=new Map;Nn(i.length===n.length);for(let l=0;l<n.length;l++){const d=i[l],_=d.transform,R=e.data.field(d.field);o.set(d.field,lu(_,R,n[l]))}return o}function D(i,e,n){const o=new Map;for(const l of i){const d=l.transform,_=n.data.field(l.field);o.set(l.field,al(d,_,e))}return o}class f extends Va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class p extends Va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class S{constructor(e){this.count=e}}var K,le;function at(i){switch(i){default:return _n();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function Ut(i){if(void 0===i)return Tr("GRPC error has no .code"),pt.UNKNOWN;switch(i){case K.OK:return pt.OK;case K.CANCELLED:return pt.CANCELLED;case K.UNKNOWN:return pt.UNKNOWN;case K.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case K.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case K.INTERNAL:return pt.INTERNAL;case K.UNAVAILABLE:return pt.UNAVAILABLE;case K.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case K.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case K.NOT_FOUND:return pt.NOT_FOUND;case K.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case K.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case K.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case K.ABORTED:return pt.ABORTED;case K.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case K.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case K.DATA_LOSS:return pt.DATA_LOSS;default:return _n()}}(le=K||(K={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";class In{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[l,d]of o)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,n]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Et(this.inner,(n,o)=>{for(const[l,d]of o)e(l,d)})}isEmpty(){return on(this.inner)}size(){return this.innerSize}}class wn{constructor(e,n){this.comparator=e,this.root=n||Hr.EMPTY}insert(e,n){return new wn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sr(this.root,e,this.comparator,!0)}}class Sr{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?o(e.key,n):1,n&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,n,o,l,d){this.key=e,this.value=n,this.color=null!=o?o:Hr.RED,this.left=null!=l?l:Hr.EMPTY,this.right=null!=d?d:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,d){return new Hr(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const d=o(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,n,o),null):0===d?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(e,l.key)){if(l.right.isEmpty())return Hr.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _n();const e=this.left.check();if(e!==this.right.check())throw _n();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw _n()}get value(){throw _n()}get color(){throw _n()}get left(){throw _n()}get right(){throw _n()}copy(i,e,n,o,l){return this}insert(i,e,n){return new Hr(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class si{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cl(this.data.getIterator())}getIteratorFrom(e){return new cl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=o.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new si(this.comparator);return n.data=e,n}}class cl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function da(i){return i.hasNext()?i.getNext():void 0}const Gu=new wn(un.comparator);function fo(){return Gu}const Xd=new wn(un.comparator);function Tc(){return Xd}function dl(){return new In(i=>i.toString(),(i,e)=>i.isEqual(e))}const id=new wn(un.comparator),sd=new si(un.comparator);function li(...i){let e=sd;for(const n of i)e=e.add(n);return e}const Sc=new si(b);function zl(){return Sc}class Ca{constructor(e,n,o,l,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,ha.createSynthesizedTargetChangeForCurrentChange(e,n)),new Ca(ue.min(),o,zl(),fo(),li())}}class ha{constructor(e,n,o,l,d){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ha(pi.EMPTY_BYTE_STRING,n,li(),li(),li())}}class fu{constructor(e,n,o,l){this.O=e,this.removedTargetIds=n,this.key=o,this.F=l}}class Jd{constructor(e,n){this.targetId=e,this.$=n}}class rs{constructor(e,n,o=pi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class eh{constructor(){this.B=0,this.L=od(),this.U=pi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=li(),n=li(),o=li();return this.L.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:_n()}}),new ha(this.U,this.q,e,n,o)}J(){this.K=!1,this.L=od()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sf{constructor(e){this.nt=e,this.st=new Map,this.it=fo(),this.rt=Ac(),this.ot=new si(b)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const o=this.lt(n);switch(e.state){case 0:this.ft(n)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(n);break;case 3:this.ft(n)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),o.W(e.resumeToken));break;default:_n()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((o,l)=>{this.ft(l)&&n(l)})}_t(e){const n=e.targetId,o=e.$.count,l=this.wt(n);if(l){const d=l.target;if(Da(d))if(0===o){const _=new un(d.path);this.ct(n,_,Ii.newNoDocument(_,ue.min()))}else Nn(1===o);else this.gt(n)!==o&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((d,_)=>{const R=this.wt(_);if(R){if(d.current&&Da(R.target)){const G=new un(R.target.path);null!==this.it.get(G)||this.It(_,G)||this.ct(_,G,Ii.newNoDocument(G,e))}d.j&&(n.set(_,d.H()),d.J())}});let o=li();this.rt.forEach((d,_)=>{let R=!0;_.forEachWhile(G=>{const ne=this.wt(G);return!ne||2===ne.purpose||(R=!1,!1)}),R&&(o=o.add(d))}),this.it.forEach((d,_)=>_.setReadTime(e));const l=new Ca(e,n,this.ot,this.it,o);return this.it=fo(),this.rt=Ac(),this.ot=new si(b),l}at(e,n){if(!this.ft(e))return;const o=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,o),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,o){if(!this.ft(e))return;const l=this.lt(e);this.It(e,n)?l.Y(n,1):l.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),o&&(this.it=this.it.insert(n,o))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new eh,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new si(b),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||Vt("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new eh),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function Ac(){return new wn(un.comparator)}function od(){return new wn(un.comparator)}const af={asc:"ASCENDING",desc:"DESCENDING"},Fp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Al{constructor(e,n){this.databaseId=e,this.N=n}}function Wu(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function th(i,e){return i.N?e.toBase64():e.toUint8Array()}function Lp(i,e){return Wu(i,e.toTimestamp())}function po(i){return Nn(!!i),ue.fromTimestamp(function(e){const n=Zi(e);return new J(n.seconds,n.nanos)}(i))}function Ml(i,e){return(n=i,new Qt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function mo(i){const e=Qt.fromString(i);return Nn(df(e)),e}function Xo(i,e){return Ml(i.databaseId,e.path)}function qa(i,e){const n=mo(e);if(n.get(1)!==i.databaseId.projectId)throw new Ht(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ht(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new un(Ku(n))}function Mc(i,e){return Ml(i.databaseId,e)}function go(i){const e=mo(i);return 4===e.length?Qt.emptyPath():Ku(e)}function Za(i){return new Qt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ku(i){return Nn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ad(i,e,n){return{name:Xo(i,e),fields:n.value.mapValue.fields}}function nh(i,e,n){const o=qa(i,e.name),l=po(e.updateTime),d=new ai({mapValue:{fields:e.fields}}),_=Ii.newFoundDocument(o,l,d);return n&&_.setHasCommittedMutations(),n?_.setHasCommittedMutations():_}function mu(i,e){let n;if(e instanceof Sl)n={update:ad(i,e.key,e.value)};else if(e instanceof f)n={delete:Xo(i,e.key)};else if(e instanceof Ka)n={update:ad(i,e.key,e.data),updateMask:jp(e.fieldMask)};else{if(!(e instanceof p))return _n();n={verify:Xo(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(l,d){const _=d.transform;if(_ instanceof uu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof La)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Tl)return{fieldPath:d.field.canonicalString(),increment:_.k};throw _n()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Lp(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:_n()),n;var l}function xc(i,e){const n=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?hs.updateTime(po(l.updateTime)):void 0!==l.exists?hs.exists(l.exists):hs.none():hs.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(d,_){let R=null;"setToServerValue"in _?(Nn("REQUEST_TIME"===_.setToServerValue),R=new uu):"appendMissingElements"in _?R=new La(_.appendMissingElements.values||[]):"removeAllFromArray"in _?R=new ll(_.removeAllFromArray.values||[]):"increment"in _?R=new Tl(d,_.increment):_n();const G=Gn.fromServerFormat(_.fieldPath);return new cu(G,R)}(i,l)):[];var l;if(e.update){const l=qa(i,e.update.name),d=new ai({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new Oi((e.updateMask.fieldPaths||[]).map(ne=>Gn.fromServerFormat(ne)));return new Ka(l,d,_,n,o)}return new Sl(l,d,n,o)}if(e.delete){const l=qa(i,e.delete);return new f(l,n)}if(e.verify){const l=qa(i,e.verify);return new p(l,n)}return _n()}function lf(i,e){return{documents:[Mc(i,e.path)]}}function Oc(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Mc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Mc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(G){if(0===G.length)return;const ne=G.map(Ie=>function(Be){if("=="===Be.op){if(xa(Be.value))return{unaryFilter:{field:Zu(Be.field),op:"IS_NAN"}};if(Io(Be.value))return{unaryFilter:{field:Zu(Be.field),op:"IS_NULL"}}}else if("!="===Be.op){if(xa(Be.value))return{unaryFilter:{field:Zu(Be.field),op:"IS_NOT_NAN"}};if(Io(Be.value))return{unaryFilter:{field:Zu(Be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zu(Be.field),op:Vp(Be.op),value:Be.value}}}(Ie));return 1===ne.length?ne[0]:{compositeFilter:{op:"AND",filters:ne}}}(e.filters);l&&(n.structuredQuery.where=l);const d=function(G){if(0!==G.length)return G.map(ne=>{return{field:Zu((Ie=ne).field),direction:rh(Ie.dir)};var Ie})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const _=(ne=e.limit,i.N||mi(ne)?ne:{value:ne});var ne,R,G;return null!==_&&(n.structuredQuery.limit=_),e.startAt&&(n.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(n.structuredQuery.endAt={before:!(G=e.endAt).inclusive,values:G.position}),n}function qu(i){let e=go(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){Nn(1===o);const Ie=n.from[0];Ie.allDescendants?l=Ie.collectionId:e=e.child(Ie.collectionId)}let d=[];n.where&&(d=cf(n.where));let _=[];n.orderBy&&(_=n.orderBy.map(Ie=>{return new ds(xl((Be=Ie).field),function(_t){switch(_t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Be.direction));var Be}));let R=null;n.limit&&(R=function(Ie){let Be;return Be="object"==typeof Ie?Ie.value:Ie,mi(Be)?null:Be}(n.limit));let G=null;var Ie;n.startAt&&(G=new jn((Ie=n.startAt).values||[],!!Ie.before));let ne=null;return n.endAt&&(ne=function(Ie){return new jn(Ie.values||[],!Ie.before)}(n.endAt)),Yo(e,l,_,d,R,"F",G,ne)}function cf(i){return i?void 0!==i.unaryFilter?[Up(i)]:void 0!==i.fieldFilter?[Bp(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>cf(e)).reduce((e,n)=>e.concat(n)):_n():[]}function rh(i){return af[i]}function Vp(i){return Fp[i]}function Zu(i){return{fieldPath:i.canonicalString()}}function xl(i){return Gn.fromServerFormat(i.fieldPath)}function Bp(i){return Q.create(xl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _n()}}(i.fieldFilter.op),i.fieldFilter.value)}function Up(i){switch(i.unaryFilter.op){case"IS_NAN":const e=xl(i.unaryFilter.field);return Q.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=xl(i.unaryFilter.field);return Q.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xl(i.unaryFilter.field);return Q.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=xl(i.unaryFilter.field);return Q.create(l,"!=",{nullValue:"NULL_VALUE"});default:return _n()}}function jp(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function df(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Jo(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=ff(e)),e=hf(i.get(n),e);return ff(e)}function hf(i,e){let n=e;const o=i.length;for(let l=0;l<o;l++){const d=i.charAt(l);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function ff(i){return i+"\x01\x01"}function hl(i){const e=i.length;if(Nn(e>=2),2===e)return Nn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Qt.emptyPath();const n=e-2,o=[];let l="";for(let d=0;d<e;){const _=i.indexOf("\x01",d);switch((_<0||_>n)&&_n(),i.charAt(_+1)){case"\x01":const R=i.substring(d,_);let G;0===l.length?G=R:(l+=R,G=l,l=""),o.push(G);break;case"\x10":l+=i.substring(d,_),l+="\0";break;case"\x11":l+=i.substring(d,_+1);break;default:_n()}d=_+2}return new Qt(o)}const pf=["userId","batchId"];function ld(i,e){return[i,Jo(e)]}function mf(i,e,n){return[i,Jo(e),n]}const Hp={},$p=["prefixPath","collectionGroup","readTime","documentId"],zp=["prefixPath","collectionGroup","documentId"],Yu=["collectionGroup","readTime","prefixPath","documentId"],fl=["canonicalId","targetId"],Ng=["targetId","path"],Fg=["path","targetId"],gf=["collectionId","parent"],Lg=["indexId","uid"],pl=["uid","sequenceNumber"],gu=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ud=["indexId","uid","orderedDocumentKey"],Qu=["userId","collectionPath","documentId"],cd=["userId","collectionPath","largestBatchId"],Xu=["userId","collectionGroup","largestBatchId"],kc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dd=[...kc,"documentOverlays"],Ya=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ju=[...Ya,"indexConfiguration","indexState","indexEntries"],hd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class wt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_n(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new wt((o,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,l)},this.catchCallback=d=>{this.wrapFailure(n,d).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof wt?n:wt.resolve(n)}catch(n){return wt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):wt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):wt.reject(n)}static resolve(e){return new wt((n,o)=>{n(e)})}static reject(e){return new wt((n,o)=>{o(e)})}static waitFor(e){return new wt((n,o)=>{let l=0,d=0,_=!1;e.forEach(R=>{++l,R.next(()=>{++d,_&&d===l&&n()},G=>o(G))}),_=!0,d===l&&n()})}static or(e){let n=wt.resolve(!1);for(const o of e)n=n.next(l=>l?wt.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,d)=>{o.push(n.call(this,l,d))}),this.waitFor(o)}}class Gl{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new wi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new yu(e,n.error)):this.At.resolve()},this.transaction.onerror=o=>{const l=ih(o.target.error);this.At.reject(new yu(e,l))}}static open(e,n,o,l){try{return new Gl(n,e.transaction(l,o))}catch(d){throw new yu(n,d)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Kp(n)}}class Ia{constructor(e,n,o){this.name=e,this.version=n,this.bt=o,12.2===Ia.Vt((0,de.z$)())&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vt("SimpleDb","Removing database:",e),_u(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,de.hl)())return!1;if(Ia.St())return!0;const e=(0,de.z$)(),n=Ia.Vt(e),o=0<n&&n<10,l=Ia.Dt(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var n=this;return(0,h.Z)(function*(){return n.db||(Vt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,l)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=_=>{o(_.target.result)},d.onblocked=()=>{l(new yu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=_=>{const R=_.target.error;l("VersionError"===R.name?new Ht(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===R.name?new Ht(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+R):new yu(e,R))},d.onupgradeneeded=_=>{Vt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',_.oldVersion),n.bt.kt(_.target.result,d.transaction,_.oldVersion,n.version).next(()=>{Vt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=o=>n.Mt(o)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,l){var d=this;return(0,h.Z)(function*(){const _="readonly"===n;let R=0;for(;;){++R;try{d.db=yield d.Nt(e);const G=Gl.open(d.db,e,_?"readonly":"readwrite",o),ne=l(G).next(Ie=>(G.Pt(),Ie)).catch(Ie=>(G.abort(Ie),wt.reject(Ie))).toPromise();return ne.catch(()=>{}),yield G.Rt,ne}catch(G){const ne="FirebaseError"!==G.name&&R<3;if(Vt("SimpleDb","Transaction failed with error:",G.message,"Retrying:",ne),d.close(),!ne)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wp{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return _u(this.Ft.delete())}}class yu extends Ht{constructor(e,n){super(pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Wl(i){return"IndexedDbTransactionError"===i.name}class Kp{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Vt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),_u(o)}add(e){return Vt("SimpleDb","ADD",this.store.name,e,e),_u(this.store.add(e))}get(e){return _u(this.store.get(e)).next(n=>(void 0===n&&(n=null),Vt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Vt("SimpleDb","DELETE",this.store.name,e),_u(this.store.delete(e))}count(){return Vt("SimpleDb","COUNT",this.store.name),_u(this.store.count())}qt(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),d=[];return this.Kt(l,(_,R)=>{d.push(R)}).next(()=>d)}{const l=this.store.getAll(o.range);return new wt((d,_)=>{l.onerror=R=>{_(R.target.error)},l.onsuccess=R=>{d(R.target.result)}})}}Gt(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new wt((l,d)=>{o.onerror=_=>{d(_.target.error)},o.onsuccess=_=>{l(_.target.result)}})}Qt(e,n){Vt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.jt=!1;const l=this.cursor(o);return this.Kt(l,(d,_,R)=>R.delete())}Wt(e,n){let o;n?o=e:(o={},n=e);const l=this.cursor(o);return this.Kt(l,n)}zt(e){const n=this.cursor({});return new wt((o,l)=>{n.onerror=d=>{const _=ih(d.target.error);l(_)},n.onsuccess=d=>{const _=d.target.result;_?e(_.primaryKey,_.value).next(R=>{R?_.continue():o()}):o()}})}Kt(e,n){const o=[];return new wt((l,d)=>{e.onerror=_=>{d(_.target.error)},e.onsuccess=_=>{const R=_.target.result;if(!R)return void l();const G=new Wp(R),ne=n(R.primaryKey,R.value,G);if(ne instanceof wt){const Ie=ne.catch(Be=>(G.done(),wt.reject(Be)));o.push(Ie)}G.isDone?l():null===G.Lt?R.continue():R.continue(G.Lt)}}).next(()=>wt.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function _u(i){return new wt((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=ih(o.target.error);n(l)}})}let yf=!1;function ih(i){const e=Ia.Vt((0,de.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new Ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yf||(yf=!0,setTimeout(()=>{throw o},0)),o}}return i}class sh extends Gp{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function Vs(i,e){const n=Jt(i);return Ia.xt(n.Ht,e)}class ec{constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&td(d,e,o[l])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&du(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&du(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const o=e.get(n.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(ue.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),li())}isEqual(e){return this.batchId===e.batchId&&L(this.mutations,e.mutations,(n,o)=>zu(n,o))&&L(this.baseMutations,e.baseMutations,(n,o)=>zu(n,o))}}class I{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){Nn(e.mutations.length===o.length);let l=id;const d=e.mutations;for(let _=0;_<d.length;_++)l=l.insert(d[_].key,o[_].version);return new I(e,n,o,l)}}class E{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class m{constructor(e,n,o,l,d=ue.min(),_=ue.min(),R=pi.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=R}withSequenceNumber(e){return new m(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new m(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new m(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class M{constructor(e){this.Jt=e}}function fe(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Je(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Xo(l=i.Jt,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Wu(l,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Ft(e.version)};else{if(!e.isUnknownDocument())return _n();o.unknownDocument={path:n.path.toArray(),version:Ft(e.version)}}var l,d;return o}function Je(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Ft(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xt(i){const e=new J(i.seconds,i.nanoseconds);return ue.fromTimestamp(e)}function Tn(i,e){const n=(e.baseMutations||[]).map(d=>xc(i.Jt,d));for(let d=0;d<e.mutations.length-1;++d){const _=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(_.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>xc(i.Jt,d)),l=J.fromMillis(e.localWriteTimeMs);return new ec(e.batchId,l,n,o)}function fn(i){const e=xt(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?xt(i.lastLimboFreeSnapshotVersion):ue.min();let o;var l;return void 0!==i.query.documents?(Nn(1===(l=i.query).documents.length),o=ho(Ls(go(l.documents[0])))):o=ho(qu(i.query)),new m(o,i.targetId,0,i.lastListenSequenceNumber,e,n,pi.fromBase64String(i.resumeToken))}function Qr(i,e){const n=Ft(e.snapshotVersion),o=Ft(e.lastLimboFreeSnapshotVersion);let l;l=Da(e.target)?lf(i.Jt,e.target):Oc(i.Jt,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wa(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function ui(i){const e=qu({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ol(e,e.limit,"L"):e}function Di(i,e){return new E(e.largestBatchId,xc(i.Jt,e.overlayMutation))}function is(i,e){const n=e.path.lastSegment();return[i,Jo(e.path.popLast()),n]}class _o{getBundleMetadata(e,n){return fs(e).get(n).next(o=>{if(o)return{id:(l=o).bundleId,createTime:xt(l.createTime),version:l.version};var l})}saveBundleMetadata(e,n){return fs(e).put({bundleId:(o=n).id,createTime:Ft(po(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return ea(e).get(n).next(o=>{if(o)return{name:(l=o).name,query:ui(l.bundledQuery),readTime:xt(l.readTime)};var l})}saveNamedQuery(e,n){return ea(e).put({name:(o=n).name,readTime:Ft(po(o.readTime)),bundledQuery:o.bundledQuery});var o}}function fs(i){return Vs(i,"bundles")}function ea(i){return Vs(i,"namedQueries")}class Fo{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new Fo(e,n.uid||"")}getOverlay(e,n){return ws(e).get(is(this.userId,n)).next(o=>o?Di(this.M,o):null)}saveOverlays(e,n,o){const l=[];return o.forEach((d,_)=>{const R=new E(n,_);l.push(this.Xt(e,R))}),wt.waitFor(l)}removeOverlaysForBatchId(e,n,o){const l=new Set;n.forEach(_=>l.add(Jo(_.getCollectionPath())));const d=[];return l.forEach(_=>{const R=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);d.push(ws(e).Qt("collectionPathOverlayIndex",R))}),wt.waitFor(d)}getOverlaysForCollection(e,n,o){const l=dl(),d=Jo(n),_=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return ws(e).qt("collectionPathOverlayIndex",_).next(R=>{for(const G of R){const ne=Di(this.M,G);l.set(ne.getKey(),ne)}return l})}getOverlaysForCollectionGroup(e,n,o,l){const d=dl();let _;const R=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ws(e).Wt({index:"collectionGroupOverlayIndex",range:R},(G,ne,Ie)=>{const Be=Di(this.M,ne);d.size()<l||Be.largestBatchId===_?(d.set(Be.getKey(),Be),_=Be.largestBatchId):Ie.done()}).next(()=>d)}Xt(e,n){return ws(e).put(function(o,l,d){const[_,R,G]=is(l,d.mutation.key);return{userId:l,collectionPath:R,documentId:G,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:mu(o.Jt,d.mutation)}}(this.M,this.userId,n))}}function ws(i){return Vs(i,"documentOverlays")}class Hi{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Xr(e.integerValue));else if("doubleValue"in e){const o=Xr(e.doubleValue);isNaN(o)?this.ne(n,13):(this.ne(n,15),nl(o)?n.se(0):n.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(n,20),"string"==typeof o?n.ie(o):(n.ie(`${o.seconds||""}`),n.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(Qs(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(n,45),n.se(o.latitude||0),n.se(o.longitude||0)}else"mapValue"in e?ba(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):_n()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const o=e.fields||{};this.ne(n,55);for(const l of Object.keys(o))this.re(l,n),this.te(o[l],n)}he(e,n){const o=e.values||[];this.ne(n,50);for(const l of o)this.te(l,n)}ae(e,n){this.ne(n,37),un.fromName(e).path.forEach(o=>{this.ne(n,60),this.le(o,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Kl(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function ml(i){const e=64-function(n){let o=0;for(let l=0;l<8;++l){const d=Kl(255&n[l]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}Hi.fe=new Hi;class ql{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this._e(o.value),o=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.ge(o.value),o=n.next();this.ye()}pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(n<"\ud800"||"\udbff"<n)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const l=n.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const l=n.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const n=this.Ee(e),o=ml(n);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=255&n[l]}Re(e){const n=this.Ee(e),o=ml(n);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let l=n.length-o;l<n.length;++l)this.buffer[this.position++]=~(255&n[l])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let l=1;l<n.length;++l)n[l]^=o?255:0;return n}_e(e){const n=255&e;0===n?(this.be(0),this.be(255)):255===n?(this.be(255),this.be(0)):this.be(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class tc{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Pc{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class fd{constructor(){this.De=new ql,this.Ce=new tc(this.De),this.xe=new Pc(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class vu{constructor(e,n,o,l){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=l}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new vu(this.indexId,this.documentKey,this.arrayValue,o)}}function bu(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=oh(i.arrayValue,e.arrayValue),0!==n?n:(n=oh(i.directionalValue,e.directionalValue),0!==n?n:un.comparator(i.documentKey,e.documentKey)))}function oh(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class qp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const o=n;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const n=Oa(e);if(void 0!==n&&!this.Be(n))return!1;const o=Js(e);let l=0,d=0;for(;l<o.length&&this.Be(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Fe){const _=o[l];if(!this.Le(this.Fe,_)||!this.Ue(this.Me[d++],_))return!1;++l}for(;l<o.length;++l){const _=o[l];if(d>=this.Me.length||!this.Ue(this.Me[d++],_))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class U_{constructor(){this.qe=new ah}addToCollectionParentIndex(e,n){return this.qe.add(n),wt.resolve()}getCollectionParents(e,n){return wt.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return wt.resolve()}deleteFieldIndex(e,n){return wt.resolve()}getDocumentsMatchingTarget(e,n){return wt.resolve(null)}getFieldIndex(e,n){return wt.resolve(null)}getFieldIndexes(e,n){return wt.resolve([])}getNextCollectionGroupToUpdate(e){return wt.resolve(null)}updateCollectionGroup(e,n,o){return wt.resolve()}updateIndexEntries(e,n){return wt.resolve()}}class ah{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new si(Qt.comparator),d=!l.has(o);return this.index[n]=l.add(o),d}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new si(Qt.comparator)).toArray()}}const Nc=new Uint8Array(0);class Zp{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new ah,this.Ge=new In(o=>wa(o),(o,l)=>ca(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const o=n.lastSegment(),l=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const d={collectionId:o,parent:Jo(l)};return Yp(e).put(d)}return wt.resolve()}getCollectionParents(e,n){const o=[],l=IDBKeyRange.bound([n,""],[$(n),""],!1,!0);return Yp(e).qt(l).next(d=>{for(const _ of d){if(_.collectionId!==n)break;o.push(hl(_.parent))}return o})}addFieldIndex(e,n){const o=Ta(e),l={indexId:(d=n).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(_=>[_.fieldPath.canonicalString(),_.kind])};var d;return delete l.indexId,o.add(l).next()}deleteFieldIndex(e,n){const o=Ta(e),l=lh(e),d=pd(e);return o.delete(n.indexId).next(()=>l.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=pd(e);let l=!0;const d=new Map;return wt.forEach(this.Qe(n),_=>this.getFieldIndex(e,_).next(R=>{l&&(l=!!R),d.set(_,R)})).next(()=>{if(l){let _=li();const R=[];return wt.forEach(d,(G,ne)=>{var Ie;Vt("IndexedDbIndexManager",`Using index ${Ie=G,`id=${Ie.indexId}|cg=${Ie.collectionGroup}|f=${Ie.fields.map(Ss=>`${Ss.fieldPath}:${Ss.kind}`).join(",")}`} to execute ${wa(n)}`);const Be=function(Ss,ta){const no=Oa(ta);if(void 0===no)return null;for(const Bs of il(Ss,no.fieldPath))switch(Bs.op){case"array-contains-any":return Bs.value.arrayValue.values||[];case"array-contains":return[Bs.value]}return null}(ne,G),_t=function(Ss,ta){const no=new Map;for(const Bs of Js(ta))for(const pa of il(Ss,Bs.fieldPath))switch(pa.op){case"==":case"in":no.set(Bs.fieldPath.canonicalString(),pa.value);break;case"not-in":case"!=":return no.set(Bs.fieldPath.canonicalString(),pa.value),Array.from(no.values())}return null}(ne,G),$t=function(Ss,ta){const no=[];let Bs=!0;for(const pa of Js(ta)){const Fu=0===pa.kind?P(Ss,pa.fieldPath,Ss.startAt):U(Ss,pa.fieldPath,Ss.startAt);if(!Fu.value)return null;no.push(Fu.value),Bs&&(Bs=Fu.inclusive)}return new jn(no,Bs)}(ne,G),Zt=function(Ss,ta){const no=[];let Bs=!0;for(const pa of Js(ta)){const Fu=0===pa.kind?U(Ss,pa.fieldPath,Ss.endAt):P(Ss,pa.fieldPath,Ss.endAt);if(!Fu.value)return null;no.push(Fu.value),Bs&&(Bs=Fu.inclusive)}return new jn(no,Bs)}(ne,G),On=this.je(G,ne,$t),Br=this.je(G,ne,Zt),Ts=this.We(G,ne,_t),to=this.ze(G.indexId,Be,On,!!$t&&$t.inclusive,Br,!!Zt&&Zt.inclusive,Ts);return wt.forEach(to,Ss=>o.Gt(Ss,n.limit).next(ta=>{ta.forEach(no=>{const Bs=un.fromSegments(no.documentKey);_.has(Bs)||(_=_.add(Bs),R.push(Bs))})}))}).next(()=>R)}return wt.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}ze(e,n,o,l,d,_,R){const G=(null!=n?n.length:1)*Math.max(null!=o?o.length:1,null!=d?d.length:1),ne=G/(null!=n?n.length:1),Ie=[];for(let Be=0;Be<G;++Be){const _t=n?this.He(n[Be/ne]):Nc,$t=o?this.Je(e,_t,o[Be%ne],l):this.Ye(e),Zt=d?this.Xe(e,_t,d[Be%ne],_):this.Ye(e+1);Ie.push(...this.createRange($t,Zt,R.map(On=>this.Je(e,_t,On,!0))))}return Ie}Je(e,n,o,l){const d=new vu(e,un.empty(),n,o);return l?d:d.ke()}Xe(e,n,o,l){const d=new vu(e,un.empty(),n,o);return l?d.ke():d}Ye(e){return new vu(e,un.empty(),Nc,Nc)}getFieldIndex(e,n){const o=new qp(n),l=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{const _=d.filter(R=>o.$e(R));return _.sort((R,G)=>G.fields.length-R.fields.length),_.length>0?_[0]:null})}Ze(e,n){const o=new fd;for(const l of Js(e)){const d=n.data.field(l.fieldPath);if(null==d)return null;const _=o.Ne(l.kind);Hi.fe.Zt(d,_)}return o.Se()}He(e){const n=new fd;return Hi.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const o=new fd;return Hi.fe.Zt(va(this.databaseId,n),o.Ne(function(l){const d=Js(l);return 0===d.length?0:d[d.length-1].kind}(e))),o.Se()}We(e,n,o){if(null===o)return[];let l=[];l.push(new fd);let d=0;for(const _ of Js(e)){const R=o[d++];for(const G of l)if(this.en(n,_.fieldPath)&&vs(R))l=this.nn(l,_,R);else{const ne=G.Ne(_.kind);Hi.fe.Zt(R,ne)}}return this.sn(l)}je(e,n,o){return null==o?null:this.We(e,n,o.position)}sn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Se();return n}nn(e,n,o){const l=[...e],d=[];for(const _ of o.arrayValue.values||[])for(const R of l){const G=new fd;G.seed(R.Se()),Hi.fe.Zt(_,G.Ne(n.kind)),d.push(G)}return d}en(e,n){return!!e.filters.find(o=>o instanceof Q&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=Ta(e),l=lh(e);return(n?o.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.qt()).next(d=>{const _=[];return wt.forEach(d,R=>l.get([R.indexId,this.uid]).next(G=>{_.push(function(ne,Ie){const Be=Ie?new Ea(Ie.sequenceNumber,new bs(xt(Ie.readTime),new un(hl(Ie.documentKey)),Ie.largestBatchId)):Ea.empty(),_t=ne.fields.map(([$t,Zt])=>new Zo(Gn.fromServerFormat($t),Zt));return new qo(ne.indexId,ne.collectionGroup,_t,Be)}(R,G))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,l)=>{const d=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:b(o.collectionGroup,l.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const l=Ta(e),d=lh(e);return this.rn(e).next(_=>l.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(R=>wt.forEach(R,G=>{return d.put({indexId:G.indexId,uid:this.user.uid||"",sequenceNumber:_,readTime:Ft((_t=o).readTime),documentKey:Jo(_t.documentKey.path),largestBatchId:_t.largestBatchId});var _t})))}updateIndexEntries(e,n){const o=new Map;return wt.forEach(n,(l,d)=>{const _=o.get(l.collectionGroup);return(_?wt.resolve(_):this.getFieldIndexes(e,l.collectionGroup)).next(R=>(o.set(l.collectionGroup,R),wt.forEach(R,G=>this.on(e,l,G).next(ne=>{const Ie=this.un(d,G);return ne.isEqual(Ie)?wt.resolve():this.an(e,d,G,ne,Ie)}))))})}cn(e,n,o,l){return pd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.tn(o,n.key),documentKey:n.key.path.toArray()})}hn(e,n,o,l){return pd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.tn(o,n.key),n.key.path.toArray()])}on(e,n,o){const l=pd(e);let d=new si(bu);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,n)])},(_,R)=>{d=d.add(new vu(o.indexId,n,R.arrayValue,R.directionalValue))}).next(()=>d)}un(e,n){let o=new si(bu);const l=this.Ze(n,e);if(null==l)return o;const d=Oa(n);if(null!=d){const _=e.data.field(d.fieldPath);if(vs(_))for(const R of _.arrayValue.values||[])o=o.add(new vu(n.indexId,e.key,this.He(R),l))}else o=o.add(new vu(n.indexId,e.key,Nc,l));return o}an(e,n,o,l,d){Vt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const _=[];return function(R,G,ne,Ie,Be){const _t=R.getIterator(),$t=G.getIterator();let Zt=da(_t),On=da($t);for(;Zt||On;){let Br=!1,Ts=!1;if(Zt&&On){const to=ne(Zt,On);to<0?Ts=!0:to>0&&(Br=!0)}else null!=Zt?Ts=!0:Br=!0;Br?(Ie(On),On=da($t)):Ts?(Be(Zt),Zt=da(_t)):(Zt=da(_t),On=da($t))}}(l,d,bu,R=>{_.push(this.cn(e,n,o,R))},R=>{_.push(this.hn(e,n,o,R))}),wt.waitFor(_)}rn(e){let n=1;return lh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,d)=>{d.done(),n=l.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((_,R)=>bu(_,R)).filter((_,R,G)=>!R||0!==bu(_,G[R-1]));const l=[];l.push(e);for(const _ of o){const R=bu(_,e),G=bu(_,n);if(0===R)l[0]=e.ke();else if(R>0&&G<0)l.push(_),l.push(_.ke());else if(G>0)break}l.push(n);const d=[];for(let _=0;_<l.length;_+=2)d.push(IDBKeyRange.bound([l[_].indexId,this.uid,l[_].arrayValue,l[_].directionalValue,Nc,[]],[l[_+1].indexId,this.uid,l[_+1].arrayValue,l[_+1].directionalValue,Nc,[]]));return d}}function Yp(i){return Vs(i,"collectionParents")}function pd(i){return Vs(i,"indexEntries")}function Ta(i){return Vs(i,"indexConfiguration")}function lh(i){return Vs(i,"indexState")}const _f={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Sa{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Sa(e,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qp(i,e,n){const o=i.store("mutations"),l=i.store("documentMutations"),d=[],_=IDBKeyRange.only(n.batchId);let R=0;const G=o.Wt({range:_},(Ie,Be,_t)=>(R++,_t.delete()));d.push(G.next(()=>{Nn(1===R)}));const ne=[];for(const Ie of n.mutations){const Be=mf(e,Ie.key.path,n.batchId);d.push(l.delete(Be)),ne.push(Ie.key)}return wt.waitFor(d).next(()=>ne)}function uh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw _n();e=i.noDocument}return JSON.stringify(e).length}Sa.DEFAULT_COLLECTION_PERCENTILE=10,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sa.DEFAULT=new Sa(41943040,Sa.DEFAULT_COLLECTION_PERCENTILE,Sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sa.DISABLED=new Sa(-1,0,0);class vf{constructor(e,n,o,l){this.userId=e,this.M=n,this.indexManager=o,this.referenceDelegate=l,this.ln={}}static Yt(e,n,o,l){Nn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new vf(d,n,o,l)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).Wt({index:"userMutationsIndex",range:o},(l,d,_)=>{n=!1,_.done()}).next(()=>n)}addMutationBatch(e,n,o,l){const d=Fc(e),_=Eu(e);return _.add({}).next(R=>{Nn("number"==typeof R);const G=new ec(R,n,o,l),ne=function(_t,$t,Zt){const On=Zt.baseMutations.map(Ts=>mu(_t.Jt,Ts)),Br=Zt.mutations.map(Ts=>mu(_t.Jt,Ts));return{userId:$t,batchId:Zt.batchId,localWriteTimeMs:Zt.localWriteTime.toMillis(),baseMutations:On,mutations:Br}}(this.M,this.userId,G),Ie=[];let Be=new si((_t,$t)=>b(_t.canonicalString(),$t.canonicalString()));for(const _t of l){const $t=mf(this.userId,_t.key.path,R);Be=Be.add(_t.key.path.popLast()),Ie.push(_.put(ne)),Ie.push(d.put($t,Hp))}return Be.forEach(_t=>{Ie.push(this.indexManager.addToCollectionParentIndex(e,_t))}),e.addOnCommittedListener(()=>{this.ln[R]=G.keys()}),wt.waitFor(Ie).next(()=>G)})}lookupMutationBatch(e,n){return Eu(e).get(n).next(o=>o?(Nn(o.userId===this.userId),Tn(this.M,o)):null)}fn(e,n){return this.ln[n]?wt.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const l=o.keys();return this.ln[n]=l,l}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return Eu(e).Wt({index:"userMutationsIndex",range:l},(_,R,G)=>{R.userId===this.userId&&(Nn(R.batchId>=o),d=Tn(this.M,R)),G.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Eu(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(l,d,_)=>{o=d.batchId,_.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eu(e).qt("userMutationsIndex",n).next(o=>o.map(l=>Tn(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=ld(this.userId,n.path),l=IDBKeyRange.lowerBound(o),d=[];return Fc(e).Wt({range:l},(_,R,G)=>{const[ne,Ie,Be]=_,_t=hl(Ie);if(ne===this.userId&&n.path.isEqual(_t))return Eu(e).get(Be).next($t=>{if(!$t)throw _n();Nn($t.userId===this.userId),d.push(Tn(this.M,$t))});G.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new si(b);const l=[];return n.forEach(d=>{const _=ld(this.userId,d.path),R=IDBKeyRange.lowerBound(_),G=Fc(e).Wt({range:R},(ne,Ie,Be)=>{const[_t,$t,Zt]=ne,On=hl($t);_t===this.userId&&d.path.isEqual(On)?o=o.add(Zt):Be.done()});l.push(G)}),wt.waitFor(l).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1,d=ld(this.userId,o),_=IDBKeyRange.lowerBound(d);let R=new si(b);return Fc(e).Wt({range:_},(G,ne,Ie)=>{const[Be,_t,$t]=G,Zt=hl(_t);Be===this.userId&&o.isPrefixOf(Zt)?Zt.length===l&&(R=R.add($t)):Ie.done()}).next(()=>this.dn(e,R))}dn(e,n){const o=[],l=[];return n.forEach(d=>{l.push(Eu(e).get(d).next(_=>{if(null===_)throw _n();Nn(_.userId===this.userId),o.push(Tn(this.M,_))}))}),wt.waitFor(l).next(()=>o)}removeMutationBatch(e,n){return Qp(e.Ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),wt.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return wt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Fc(e).Wt({range:o},(d,_,R)=>{if(d[0]===this.userId){const G=hl(d[1]);l.push(G)}else R.done()}).next(()=>{Nn(0===l.length)})})}containsKey(e,n){return bf(e,this.userId,n)}wn(e){return Xp(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function bf(i,e,n){const o=ld(e,n.path),l=o[1],d=IDBKeyRange.lowerBound(o);let _=!1;return Fc(i).Wt({range:d,jt:!0},(R,G,ne)=>{const[Ie,Be,_t]=R;Ie===e&&Be===l&&(_=!0),ne.done()}).next(()=>_)}function Eu(i){return Vs(i,"mutations")}function Fc(i){return Vs(i,"documentMutations")}function Xp(i){return Vs(i,"mutationQueues")}class pr{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new pr(0)}static yn(){return new pr(-1)}}class Jp{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const o=new pr(n.highestTargetId);return n.highestTargetId=o.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>ue.fromTimestamp(new J(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.pn(e).next(l=>(l.highestListenSequenceNumber=n,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.In(e,l)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(n,o),this.In(e,o))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>nc(e).delete(n.targetId)).next(()=>this.pn(e)).next(o=>(Nn(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,n,o){let l=0;const d=[];return nc(e).Wt((_,R)=>{const G=fn(R);G.sequenceNumber<=n&&null===o.get(G.targetId)&&(l++,d.push(this.removeTargetData(e,G)))}).next(()=>wt.waitFor(d)).next(()=>l)}forEachTarget(e,n){return nc(e).Wt((o,l)=>{const d=fn(l);n(d)})}pn(e){return Ef(e).get("targetGlobalKey").next(n=>(Nn(null!==n),n))}In(e,n){return Ef(e).put("targetGlobalKey",n)}Tn(e,n){return nc(e).put(Qr(this.M,n))}En(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=wa(n),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return nc(e).Wt({range:l,index:"queryTargetsIndex"},(_,R,G)=>{const ne=fn(R);ca(n,ne.target)&&(d=ne,G.done())}).next(()=>d)}addMatchingKeys(e,n,o){const l=[],d=gl(e);return n.forEach(_=>{const R=Jo(_.path);l.push(d.put({targetId:o,path:R})),l.push(this.referenceDelegate.addReference(e,o,_))}),wt.waitFor(l)}removeMatchingKeys(e,n,o){const l=gl(e);return wt.forEach(n,d=>{const _=Jo(d.path);return wt.waitFor([l.delete([o,_]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,n){const o=gl(e),l=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),l=gl(e);let d=li();return l.Wt({range:o,jt:!0},(_,R,G)=>{const ne=hl(_[1]),Ie=new un(ne);d=d.add(Ie)}).next(()=>d)}containsKey(e,n){const o=Jo(n.path),l=IDBKeyRange.bound([o],[$(o)],!1,!0);let d=0;return gl(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([_,R],G,ne)=>{0!==_&&(d++,ne.done())}).next(()=>d>0)}Et(e,n){return nc(e).get(n).next(o=>o?fn(o):null)}}function nc(i){return Vs(i,"targets")}function Ef(i){return Vs(i,"targetGlobal")}function gl(i){return Vs(i,"targetDocuments")}function Lo(i){return ch.apply(this,arguments)}function ch(){return ch=(0,h.Z)(function*(i){if(i.code!==pt.FAILED_PRECONDITION||i.message!==hd)throw i;Vt("LocalStore","Unexpectedly lost primary lease")}),ch.apply(this,arguments)}function em([i,e],[n,o]){const l=b(i,n);return 0===l?b(e,o):l}class wf{constructor(e){this.An=e,this.buffer=new si(em),this.Rn=0}Pn(){return++this.Rn}bn(e){const n=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();em(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Zl{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const o=this.Vn?3e5:6e4;Vt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,h.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(l){Wl(l)?Vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Lo(l)}yield n.Sn(e)}))}}class Df{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return wt.resolve(Ns.A);const o=new wf(n);return this.Dn.forEachTarget(e,l=>o.bn(l.sequenceNumber)).next(()=>this.Dn.xn(e,l=>o.bn(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Dn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),wt.resolve(_f)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_f):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let o,l,d,_,R,G,ne;const Ie=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),l=this.params.maximumSequenceNumbersToCollect):l=Be,_=Date.now(),this.nthSequenceNumber(e,l))).next(Be=>(o=Be,R=Date.now(),this.removeTargets(e,o,n))).next(Be=>(d=Be,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(Be=>(ne=Date.now(),jo()<=pe.in.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-Ie}ms\n\tDetermined least recently used ${l} in `+(R-_)+`ms\n\tRemoved ${d} targets in `+(G-R)+`ms\n\tRemoved ${Be} documents in `+(ne-G)+`ms\nTotal Duration: ${ne-Ie}ms`),wt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:Be})))}}class tm{constructor(e,n){this.db=e,this.garbageCollector=new Df(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}kn(e){let n=0;return this.xn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(o,l)=>n(l))}addReference(e,n,o){return Lc(e,o)}removeReference(e,n,o){return Lc(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Lc(e,n)}On(e,n){return function(o,l){let d=!1;return Xp(o).zt(_=>bf(o,_,l).next(R=>(R&&(d=!0),wt.resolve(!R)))).next(()=>d)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Mn(e,(_,R)=>{if(R<=n){const G=this.On(e,_).next(ne=>{if(!ne)return d++,o.getEntry(e,_).next(()=>(o.removeEntry(_,ue.min()),gl(e).delete([0,Jo(_.path)])))});l.push(G)}}).next(()=>wt.waitFor(l)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Lc(e,n)}Mn(e,n){const o=gl(e);let l,d=Ns.A;return o.Wt({index:"documentTargetsIndex"},([_,R],{path:G,sequenceNumber:ne})=>{0===_?(d!==Ns.A&&n(new un(hl(l)),d),d=ne,l=G):d=Ns.A}).next(()=>{d!==Ns.A&&n(new un(hl(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Lc(i,e){return gl(i).put((o=i.currentSequenceNumber,{targetId:0,path:Jo(e.path),sequenceNumber:o}));var o}class Vg{constructor(){this.changes=new In(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ii.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?wt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nm{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Rl(e).put(o)}removeEntry(e,n,o){return Rl(e).delete(function(l,d){const _=l.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],Je(d),_[_.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Fn(e,o)))}getEntry(e,n){let o=Ii.newInvalidDocument(n);return Rl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(rc(n))},(l,d)=>{o=this.$n(n,d)}).next(()=>o)}Bn(e,n){let o={size:0,document:Ii.newInvalidDocument(n)};return Rl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(rc(n))},(l,d)=>{o={document:this.$n(n,d),size:uh(d)}}).next(()=>o)}getEntries(e,n){let o=fo();return this.Ln(e,n,(l,d)=>{const _=this.$n(l,d);o=o.insert(l,_)}).next(()=>o)}Un(e,n){let o=fo(),l=new wn(un.comparator);return this.Ln(e,n,(d,_)=>{const R=this.$n(d,_);o=o.insert(d,R),l=l.insert(d,uh(_))}).next(()=>({documents:o,qn:l}))}Ln(e,n,o){if(n.isEmpty())return wt.resolve();let l=new si(hh);n.forEach(G=>l=l.add(G));const d=IDBKeyRange.bound(rc(l.first()),rc(l.last())),_=l.getIterator();let R=_.getNext();return Rl(e).Wt({index:"documentKeyIndex",range:d},(G,ne,Ie)=>{const Be=un.fromSegments([...ne.prefixPath,ne.collectionGroup,ne.documentId]);for(;R&&hh(R,Be)<0;)o(R,null),R=_.getNext();R&&R.isEqual(Be)&&(o(R,ne),R=_.hasNext()?_.getNext():null),R?Ie.Ut(rc(R)):Ie.done()}).next(()=>{for(;R;)o(R,null),R=_.hasNext()?_.getNext():null})}getAllFromCollection(e,n,o){const l=[n.popLast().toArray(),n.lastSegment(),Je(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rl(e).qt(IDBKeyRange.bound(l,d,!0)).next(_=>{let R=fo();for(const G of _){const ne=this.$n(un.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);R=R.insert(ne.key,ne)}return R})}getAllFromCollectionGroup(e,n,o,l){let d=fo();const _=dh(n,o),R=dh(n,bs.max());return Rl(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,R,!0)},(G,ne,Ie)=>{const Be=this.$n(un.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);d=d.insert(Be.key,Be),d.size===l&&Ie.done()}).next(()=>d)}newChangeBuffer(e){return new j_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return md(e).get("remoteDocumentGlobalKey").next(n=>(Nn(!!n),n))}Fn(e,n){return md(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const o=function Y(i,e){let n;if(e.document)n=nh(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=un.fromSegments(e.noDocument.path),l=xt(e.noDocument.readTime);n=Ii.newNoDocument(o,l),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _n();{const o=un.fromSegments(e.unknownDocument.path),l=xt(e.unknownDocument.version);n=Ii.newUnknownDocument(o,l)}}return e.readTime&&n.setReadTime(function(o){const l=new J(o[0],o[1]);return ue.fromTimestamp(l)}(e.readTime)),n}(this.M,n);if(!o.isNoDocument()||!o.version.isEqual(ue.min()))return o}return Ii.newInvalidDocument(e)}}class j_ extends Vg{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new In(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const n=[];let o=0,l=new si((d,_)=>b(d.canonicalString(),_.canonicalString()));return this.changes.forEach((d,_)=>{const R=this.Gn.get(d);if(n.push(this.Kn.removeEntry(e,d,R.readTime)),_.isValidDocument()){const G=fe(this.Kn.M,_);l=l.add(d.path.popLast()),o+=uh(G)-R.size,n.push(this.Kn.addEntry(e,d,G))}else if(o-=R.size,this.trackRemovals){const G=fe(this.Kn.M,_.convertToNoDocument(ue.min()));n.push(this.Kn.addEntry(e,d,G))}}),l.forEach(d=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,d))}),n.push(this.Kn.updateMetadata(e,o)),wt.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(o=>(this.Gn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:o,qn:l})=>(l.forEach((d,_)=>{this.Gn.set(d,{size:_,readTime:o.get(d).readTime})}),o))}}function md(i){return Vs(i,"remoteDocumentGlobal")}function Rl(i){return Vs(i,"remoteDocumentsV14")}function rc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dh(i,e){const n=e.documentKey.path.toArray();return[i,Je(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hh(i,e){const n=i.path.toArray(),o=e.path.toArray();let l=0;for(let d=0;d<n.length-2&&d<o.length-2;++d)if(l=b(n[d],o[d]),l)return l;return l=b(n.length,o.length),l||(l=b(n[n.length-2],o[o.length-2]),l||b(n[n.length-1],o[o.length-1]))}class H_{constructor(e){this.M=e}kt(e,n,o,l){const d=new Gl("createOrUpgrade",n);var R;o<1&&l>=1&&(e.createObjectStore("owner"),(R=e).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pf,{unique:!0}),R.createObjectStore("documentMutations"),rm(e),function(R){R.createObjectStore("remoteDocuments")}(e));let _=wt.resolve();return o<3&&l>=3&&(0!==o&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(e),rm(e)),_=_.next(()=>function(R){const G=R.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ue.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",ne)}(d))),o<4&&l>=4&&(0!==o&&(_=_.next(()=>function(R,G){return G.store("mutations").qt().next(ne=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pf,{unique:!0});const Ie=G.store("mutations"),Be=ne.map(_t=>Ie.put(_t));return wt.waitFor(Be)})}(e,d))),_=_.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(_=_.next(()=>this.Qn(d))),o<6&&l>=6&&(_=_.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(e),this.jn(d)))),o<7&&l>=7&&(_=_.next(()=>this.Wn(d))),o<8&&l>=8&&(_=_.next(()=>this.zn(e,d))),o<9&&l>=9&&(_=_.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(_=_.next(()=>this.Hn(d))),o<11&&l>=11&&(_=_.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(_=_.next(()=>{!function(R){const G=R.createObjectStore("documentOverlays",{keyPath:Qu});G.createIndex("collectionPathOverlayIndex",cd,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Xu,{unique:!1})}(e)})),o<13&&l>=13&&(_=_.next(()=>function(R){const G=R.createObjectStore("remoteDocumentsV14",{keyPath:$p});G.createIndex("documentKeyIndex",zp),G.createIndex("collectionGroupIndex",Yu)}(e)).next(()=>this.Jn(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(_=_.next(()=>{!function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Lg}).createIndex("sequenceNumberIndex",pl,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:gu}).createIndex("documentKeyIndex",ud,{unique:!1})}(e)})),_}jn(e){let n=0;return e.store("remoteDocuments").Wt((o,l)=>{n+=uh(l)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.qt().next(l=>wt.forEach(l,d=>{const _=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",_).next(R=>wt.forEach(R,G=>{Nn(G.userId===d.userId);const ne=Tn(this.M,G);return Qp(e,d.userId,ne).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return o.Wt((_,R)=>{const G=new Qt(_),ne=[0,Jo(G)];d.push(n.get(ne).next(Ie=>Ie?wt.resolve():n.put({targetId:0,path:Jo(G),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>wt.waitFor(d))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:gf});const o=n.store("collectionParents"),l=new ah,d=_=>{if(l.add(_)){const R=_.lastSegment(),G=_.popLast();return o.put({collectionId:R,parent:Jo(G)})}};return n.store("remoteDocuments").Wt({jt:!0},(_,R)=>{const G=new Qt(_);return d(G.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([_,R,G],ne)=>{const Ie=hl(R);return d(Ie.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((o,l)=>{const d=fn(l),_=Qr(this.M,d);return n.put(_)})}Jn(e,n){const o=n.store("remoteDocuments"),l=[];return o.Wt((d,_)=>{const R=n.store("remoteDocumentsV14"),G=(ne=_,ne.document?new un(Qt.fromString(ne.document.name).popFirst(5)):ne.noDocument?un.fromSegments(ne.noDocument.path):ne.unknownDocument?un.fromSegments(ne.unknownDocument.path):_n()).path.toArray();var ne;const Ie={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};l.push(R.put(Ie))}).next(()=>wt.waitFor(l))}}function rm(i){i.createObjectStore("targetDocuments",{keyPath:Ng}).createIndex("documentTargetsIndex",Fg,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fl,{unique:!0}),i.createObjectStore("targetGlobal")}const Cf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class If{constructor(e,n,o,l,d,_,R,G,ne,Ie,Be=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Yn=d,this.window=_,this.document=R,this.Xn=ne,this.Zn=Ie,this.ts=Be,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=_t=>Promise.resolve(),!If.vt())throw new Ht(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tm(this,l),this.hs=n+"main",this.M=new M(G),this.ls=new Ia(this.hs,this.ts,new H_(this.M)),this.fs=new Jp(this.referenceDelegate,this.M),this.ds=new nm(this.M),this._s=new _o,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===Ie&&Tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ht(pt.FAILED_PRECONDITION,Cf);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ns(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var o=(0,h.Z)(function*(l){if(n.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,h.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,h.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.Ps(e).next(()=>!0))).catch(e=>{if(Wl(e))return Vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return gd(e).get("owner").next(n=>wt.resolve(this.bs(n)))}Vs(e){return yd(e).delete(this.clientId)}vs(){var e=this;return(0,h.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Vs(o,"clientMetadata");return l.qt().next(d=>{const _=e.Ds(d,18e5),R=d.filter(G=>-1===_.indexOf(G));return wt.forEach(R,G=>l.delete(G.clientId)).next(()=>R)})}).catch(()=>[]);if(e.ws)for(const o of n)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?wt.resolve(!0):gd(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.bs(n)&&this.networkEnabled)return!0;if(!this.bs(n)){if(!n.allowTabSynchronization)throw new Ht(pt.FAILED_PRECONDITION,Cf);return!1}}return!(!this.networkEnabled||!this.inForeground)||yd(e).qt().next(o=>void 0===this.Ds(o,5e3).find(l=>{if(this.clientId!==l.clientId){const _=!this.inForeground&&l.inForeground,R=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||_&&R)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Vt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,h.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new sh(n,Ns.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(o=>this.Ss(o.updateTimeMs,n)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>yd(e).qt().next(n=>this.Ds(n,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return vf.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Zp(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Fo.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,o){Vt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===n?"readonly":"readwrite",d=14===(_=this.ts)?Ju:13===_?Ya:12===_?dd:11===_?kc:void _n();var _;let R;return this.ls.runTransaction(e,l,d,G=>(R=new sh(G,this.es?this.es.next():Ns.A),"readwrite-primary"===n?this.Es(R).next(ne=>!!ne||this.As(R)).next(ne=>{if(!ne)throw Tr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Ht(pt.FAILED_PRECONDITION,hd);return o(R)}).next(ne=>this.Ps(R).next(()=>ne)):this.$s(R).next(()=>o(R)))).then(G=>(R.raiseOnCommittedEvent(),G))}$s(e){return gd(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.bs(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ht(pt.FAILED_PRECONDITION,Cf)})}Ps(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gd(e).put("owner",n)}static vt(){return Ia.vt()}Rs(e){const n=gd(e);return n.get("owner").next(o=>this.bs(o)?(Vt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):wt.resolve())}Ss(e,n){const o=Date.now();return!(e<o-n||e>o&&(Tr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,de.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const o=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return Vt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Tr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Tr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gd(i){return Vs(i,"owner")}function yd(i){return Vs(i,"clientMetadata")}function im(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Bg{constructor(e,n,o){this.ds=e,this.Bs=n,this.indexManager=o}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(o=>this.Us(e,n,o))}Us(e,n,o){return this.ds.getEntry(e,n).next(l=>{for(const d of o)d.applyToLocalView(l);return l})}qs(e,n){e.forEach((o,l)=>{for(const d of n)d.applyToLocalView(l)})}Ks(e,n){return this.ds.getEntries(e,n).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>this.qs(n,o))}Qs(e,n,o){return un.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.js(e,n.path):jl(n)?this.Ws(e,n,o):this.zs(e,n,o);var l}js(e,n){return this.Ls(e,new un(n)).next(o=>{let l=Tc();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}Ws(e,n,o){const l=n.collectionGroup;let d=Tc();return this.indexManager.getCollectionParents(e,l).next(_=>wt.forEach(_,R=>{const G=(ne=n,Ie=R.child(l),new Pi(Ie,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,Ie;return this.zs(e,G,o).next(ne=>{ne.forEach((Ie,Be)=>{d=d.insert(Ie,Be)})})}).next(()=>d))}zs(e,n,o){let l;return this.ds.getAllFromCollection(e,n.path,o).next(d=>(l=d,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(d=>{for(const _ of d)for(const R of _.mutations){const G=R.key;let ne=l.get(G);null==ne&&(ne=Ii.newInvalidDocument(G),l=l.insert(G,ne)),du(R,ne,_.localWriteTime),ne.isFoundDocument()||(l=l.remove(G))}}).next(()=>(l.forEach((d,_)=>{Ga(n,_)||(l=l.remove(d))}),l))}}class sm{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.Hs=o,this.Js=l}static Ys(e,n){let o=li(),l=li();for(const d of n.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new sm(e,n.fromCache,o,l)}}class Tf{Xs(e){this.Zs=e}Qs(e,n,o,l){return 0===(d=n).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||o.isEqual(ue.min())?this.ti(e,n):this.Zs.Ks(e,l).next(d=>{const _=this.ei(n,d);return($a(n)||Cl(n))&&this.ni(n.limitType,_,l,o)?this.ti(e,n):(jo()<=pe.in.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ec(n)),this.Zs.Qs(e,n,rl(o,-1)).next(R=>(_.forEach(G=>{R=R.insert(G.key,G)}),R)))});var d}ei(e,n){let o=new si(Jc(e));return n.forEach((l,d)=>{Ga(e,d)&&(o=o.add(d))}),o}ni(e,n,o,l){if(o.size!==n.size)return!0;const d="F"===e?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}ti(e,n){return jo()<=pe.in.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",Ec(n)),this.Zs.Qs(e,n,bs.min())}}class om{constructor(e,n,o,l){this.persistence=e,this.si=n,this.M=l,this.ii=new wn(b),this.ri=new In(d=>wa(d),ca),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Bg(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function am(i,e,n,o){return new om(i,e,n,o)}function fh(i,e){return lm.apply(this,arguments)}function lm(){return lm=(0,h.Z)(function*(i,e){const n=Jt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.Bs.getAllMutationBatches(o).next(d=>(l=d,n.ai(e),n.Bs.getAllMutationBatches(o))).next(d=>{const _=[],R=[];let G=li();for(const ne of l){_.push(ne.batchId);for(const Ie of ne.mutations)G=G.add(Ie.key)}for(const ne of d){R.push(ne.batchId);for(const Ie of ne.mutations)G=G.add(Ie.key)}return n.ci.Ks(o,G).next(ne=>({hi:ne,removedBatchIds:_,addedBatchIds:R}))})})}),lm.apply(this,arguments)}function $_(i,e){const n=Jt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),d=n.ui.newChangeBuffer({trackRemovals:!0});return function(_,R,G,ne){const Ie=G.batch,Be=Ie.keys();let _t=wt.resolve();return Be.forEach($t=>{_t=_t.next(()=>ne.getEntry(R,$t)).next(Zt=>{const On=G.docVersions.get($t);Nn(null!==On),Zt.version.compareTo(On)<0&&(Ie.applyToRemoteDocument(Zt,G),Zt.isValidDocument()&&(Zt.setReadTime(G.commitVersion),ne.addEntry(Zt)))})}),_t.next(()=>_.Bs.removeMutationBatch(R,Ie))}(n,o,e,d).next(()=>d.apply(o)).next(()=>n.Bs.performConsistencyCheck(o)).next(()=>n.ci.Ks(o,l))})}function Ug(i){const e=Jt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function z_(i,e){const n=Jt(i),o=e.snapshotVersion;let l=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const _=n.ui.newChangeBuffer({trackRemovals:!0});l=n.ii;const R=[];e.targetChanges.forEach((ne,Ie)=>{const Be=l.get(Ie);if(!Be)return;R.push(n.fs.removeMatchingKeys(d,ne.removedDocuments,Ie).next(()=>n.fs.addMatchingKeys(d,ne.addedDocuments,Ie)));let _t=Be.withSequenceNumber(d.currentSequenceNumber);var $t,Zt,On;e.targetMismatches.has(Ie)?_t=_t.withResumeToken(pi.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):ne.resumeToken.approximateByteSize()>0&&(_t=_t.withResumeToken(ne.resumeToken,o)),l=l.insert(Ie,_t),Zt=_t,On=ne,(0===($t=Be).resumeToken.approximateByteSize()||Zt.snapshotVersion.toMicroseconds()-$t.snapshotVersion.toMicroseconds()>=3e8||On.addedDocuments.size+On.modifiedDocuments.size+On.removedDocuments.size>0)&&R.push(n.fs.updateTargetData(d,_t))});let G=fo();if(e.documentUpdates.forEach(ne=>{e.resolvedLimboDocuments.has(ne)&&R.push(n.persistence.referenceDelegate.updateLimboDocument(d,ne))}),R.push(jg(d,_,e.documentUpdates).next(ne=>{G=ne})),!o.isEqual(ue.min())){const ne=n.fs.getLastRemoteSnapshotVersion(d).next(Ie=>n.fs.setTargetsMetadata(d,d.currentSequenceNumber,o));R.push(ne)}return wt.waitFor(R).next(()=>_.apply(d)).next(()=>n.ci.Gs(d,G)).next(()=>G)}).then(d=>(n.ii=l,d))}function jg(i,e,n){let o=li();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let d=fo();return n.forEach((_,R)=>{const G=l.get(_);R.isNoDocument()&&R.version.isEqual(ue.min())?(e.removeEntry(_,R.readTime),d=d.insert(_,R)):!G.isValidDocument()||R.version.compareTo(G.version)>0||0===R.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(R),d=d.insert(_,R)):Vt("LocalStore","Ignoring outdated watch update for ",_,". Current version:",G.version," Watch version:",R.version)}),d})}function G_(i,e){const n=Jt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(o,e)))}function _d(i,e){const n=Jt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.fs.getTargetData(o,e).next(d=>d?(l=d,wt.resolve(l)):n.fs.allocateTargetId(o).next(_=>(l=new m(e,_,0,o.currentSequenceNumber),n.fs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.ii.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.ii=n.ii.insert(o.targetId,o),n.ri.set(e,o.targetId)),o})}function vd(i,e,n){return um.apply(this,arguments)}function um(){return um=(0,h.Z)(function*(i,e,n){const o=Jt(i),l=o.ii.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",d,_=>o.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!Wl(_))throw _;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.ii=o.ii.remove(e),o.ri.delete(l.target)}),um.apply(this,arguments)}function Sf(i,e,n){const o=Jt(i);let l=ue.min(),d=li();return o.persistence.runTransaction("Execute query","readonly",_=>function(R,G,ne){const Ie=Jt(R),Be=Ie.ri.get(ne);return void 0!==Be?wt.resolve(Ie.ii.get(Be)):Ie.fs.getTargetData(G,ne)}(o,_,ho(e)).next(R=>{if(R)return l=R.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(_,R.targetId).next(G=>{d=G})}).next(()=>o.si.Qs(_,e,n?l:ue.min(),n?d:li())).next(R=>(cm(o,wc(e),R),{documents:R,li:d})))}function Yl(i,e){const n=Jt(i),o=Jt(n.fs),l=n.ii.get(e);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",d=>o.Et(d,e).next(_=>_?_.target:null))}function ph(i,e){const n=Jt(i),o=n.oi.get(e)||ue.min();return n.persistence.runTransaction("Get new document changes","readonly",l=>n.ui.getAllFromCollectionGroup(l,e,rl(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(cm(n,e,l),l))}function cm(i,e,n){let o=ue.min();n.forEach((l,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.oi.set(e,o)}function bd(){return bd=(0,h.Z)(function*(i,e,n,o){const l=Jt(i);let d=li(),_=fo();for(const ne of n){const Ie=e.fi(ne.metadata.name);ne.document&&(d=d.add(Ie));const Be=e.di(ne);Be.setReadTime(e._i(ne.metadata.readTime)),_=_.insert(Ie,Be)}const R=l.ui.newChangeBuffer({trackRemovals:!0}),G=yield _d(l,(ne=o,ho(Ls(Qt.fromString(`__bundle__/docs/${ne}`)))));var ne;return l.persistence.runTransaction("Apply bundle documents","readwrite",ne=>jg(ne,R,_).next(Ie=>(R.apply(ne),Ie)).next(Ie=>l.fs.removeMatchingKeysForTargetId(ne,G.targetId).next(()=>l.fs.addMatchingKeys(ne,d,G.targetId)).next(()=>l.ci.Gs(ne,Ie)).next(()=>Ie)))}),bd.apply(this,arguments)}function hm(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,h.Z)(function*(i,e,n=li()){const o=yield _d(i,ho(ui(e.bundledQuery))),l=Jt(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const _=po(e.readTime);if(o.snapshotVersion.compareTo(_)>=0)return l._s.saveNamedQuery(d,e);const R=o.withResumeToken(pi.EMPTY_BYTE_STRING,_);return l.ii=l.ii.insert(R.targetId,R),l.fs.updateTargetData(d,R).next(()=>l.fs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>l.fs.addMatchingKeys(d,n,o.targetId)).next(()=>l._s.saveNamedQuery(d,e))})}),Ed.apply(this,arguments)}class Hg{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return wt.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var o;return this.wi.set(n.id,{id:(o=n).id,version:o.version,createTime:po(o.createTime)}),wt.resolve()}getNamedQuery(e,n){return wt.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,{name:(o=n).name,query:ui(o.bundledQuery),readTime:po(o.readTime)}),wt.resolve();var o}}class wu{constructor(){this.overlays=new wn(un.comparator),this.gi=new Map}getOverlay(e,n){return wt.resolve(this.overlays.get(n))}saveOverlays(e,n,o){return o.forEach((l,d)=>{this.Xt(e,n,d)}),wt.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.gi.get(o);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.gi.delete(o)),wt.resolve()}getOverlaysForCollection(e,n,o){const l=dl(),d=n.length+1,_=new un(n.child("")),R=this.overlays.getIteratorFrom(_);for(;R.hasNext();){const G=R.getNext().value,ne=G.getKey();if(!n.isPrefixOf(ne.path))break;ne.path.length===d&&G.largestBatchId>o&&l.set(G.getKey(),G)}return wt.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let d=new wn((ne,Ie)=>ne-Ie);const _=this.overlays.getIterator();for(;_.hasNext();){const ne=_.getNext().value;if(ne.getKey().getCollectionGroup()===n&&ne.largestBatchId>o){let Ie=d.get(ne.largestBatchId);null===Ie&&(Ie=dl(),d=d.insert(ne.largestBatchId,Ie)),Ie.set(ne.getKey(),ne)}}const R=dl(),G=d.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((ne,Ie)=>R.set(ne,Ie)),!(R.size()>=l)););return wt.resolve(R)}Xt(e,n,o){if(null===o)return;const l=this.overlays.get(o.key);if(null!==l){const _=this.gi.get(l.largestBatchId).delete(o.key);this.gi.set(l.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new E(n,o));let d=this.gi.get(n);void 0===d&&(d=li(),this.gi.set(n,d)),this.gi.set(n,d.add(o.key))}}class mh{constructor(){this.yi=new si(To.pi),this.Ii=new si(To.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const o=new To(e,n);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Ai(new To(e,n))}Ri(e,n){e.forEach(o=>this.removeReference(o,n))}Pi(e){const n=new un(new Qt([])),o=new To(n,e),l=new To(n,e+1),d=[];return this.Ii.forEachInRange([o,l],_=>{this.Ai(_),d.push(_.key)}),d}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new un(new Qt([])),o=new To(n,e),l=new To(n,e+1);let d=li();return this.Ii.forEachInRange([o,l],_=>{d=d.add(_.key)}),d}containsKey(e){const n=new To(e,0),o=this.yi.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class To{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return un.comparator(e.key,n.key)||b(e.vi,n.vi)}static Ti(e,n){return b(e.vi,n.vi)||un.comparator(e.key,n.key)}}class Af{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new si(To.pi)}checkEmpty(e){return wt.resolve(0===this.Bs.length)}addMutationBatch(e,n,o,l){const d=this.Si;this.Si++;const _=new ec(d,n,o,l);this.Bs.push(_);for(const R of l)this.Di=this.Di.add(new To(R.key,d)),this.indexManager.addToCollectionParentIndex(e,R.key.path.popLast());return wt.resolve(_)}lookupMutationBatch(e,n){return wt.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const l=this.xi(n+1),d=l<0?0:l;return wt.resolve(this.Bs.length>d?this.Bs[d]:null)}getHighestUnacknowledgedBatchId(){return wt.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return wt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new To(n,0),l=new To(n,Number.POSITIVE_INFINITY),d=[];return this.Di.forEachInRange([o,l],_=>{const R=this.Ci(_.vi);d.push(R)}),wt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new si(b);return n.forEach(l=>{const d=new To(l,0),_=new To(l,Number.POSITIVE_INFINITY);this.Di.forEachInRange([d,_],R=>{o=o.add(R.vi)})}),wt.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let d=o;un.isDocumentKey(d)||(d=d.child(""));const _=new To(new un(d),0);let R=new si(b);return this.Di.forEachWhile(G=>{const ne=G.key.path;return!!o.isPrefixOf(ne)&&(ne.length===l&&(R=R.add(G.vi)),!0)},_),wt.resolve(this.Ni(R))}Ni(e){const n=[];return e.forEach(o=>{const l=this.Ci(o);null!==l&&n.push(l)}),n}removeMutationBatch(e,n){Nn(0===this.ki(n.batchId,"removed")),this.Bs.shift();let o=this.Di;return wt.forEach(n.mutations,l=>{const d=new To(l.key,n.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,n){const o=new To(n,0),l=this.Di.firstAfterOrEqual(o);return wt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return wt.resolve()}ki(e,n){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class $g{constructor(e){this.Mi=e,this.docs=new wn(un.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),d=l?l.size:0,_=this.Mi(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:_}),this.size+=_-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return wt.resolve(o?o.document.mutableCopy():Ii.newInvalidDocument(n))}getEntries(e,n){let o=fo();return n.forEach(l=>{const d=this.docs.get(l);o=o.insert(l,d?d.document.mutableCopy():Ii.newInvalidDocument(l))}),wt.resolve(o)}getAllFromCollection(e,n,o){let l=fo();const d=new un(n.child("")),_=this.docs.getIteratorFrom(d);for(;_.hasNext();){const{key:R,value:{document:G}}=_.getNext();if(!n.isPrefixOf(R.path))break;R.path.length>n.length+1||au(Vu(G),o)<=0||(l=l.insert(G.key,G.mutableCopy()))}return wt.resolve(l)}getAllFromCollectionGroup(e,n,o,l){_n()}Oi(e,n){return wt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new fm(this)}getSize(e){return wt.resolve(this.size)}}class fm extends Vg{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this.Kn.addEntry(e,l)):this.Kn.removeEntry(o)}),wt.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class zg{constructor(e){this.persistence=e,this.Fi=new In(n=>wa(n),ca),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.$i=0,this.Bi=new mh,this.targetCount=0,this.Li=pr.gn()}forEachTarget(e,n){return this.Fi.forEach((o,l)=>n(l)),wt.resolve()}getLastRemoteSnapshotVersion(e){return wt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wt.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),wt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.$i&&(this.$i=n),wt.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new pr(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,wt.resolve()}updateTargetData(e,n){return this.Tn(n),wt.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,wt.resolve()}removeTargets(e,n,o){let l=0;const d=[];return this.Fi.forEach((_,R)=>{R.sequenceNumber<=n&&null===o.get(R.targetId)&&(this.Fi.delete(_),d.push(this.removeMatchingKeysForTargetId(e,R.targetId)),l++)}),wt.waitFor(d).next(()=>l)}getTargetCount(e){return wt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Fi.get(n)||null;return wt.resolve(o)}addMatchingKeys(e,n,o){return this.Bi.Ei(n,o),wt.resolve()}removeMatchingKeys(e,n,o){this.Bi.Ri(n,o);const l=this.persistence.referenceDelegate,d=[];return l&&n.forEach(_=>{d.push(l.markPotentiallyOrphaned(e,_))}),wt.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),wt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Bi.Vi(n);return wt.resolve(o)}containsKey(e,n){return wt.resolve(this.Bi.containsKey(n))}}class Gg{constructor(e,n){this.Ui={},this.overlays={},this.es=new Ns(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new zg(this),this.indexManager=new U_,this.ds=new $g(o=>this.referenceDelegate.qi(o)),this.M=new M(n),this._s=new Hg(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wu,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Ui[e.toKey()];return o||(o=new Af(n,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,o){Vt("MemoryPersistence","Starting transaction:",e);const l=new wd(this.es.next());return this.referenceDelegate.Ki(),o(l).next(d=>this.referenceDelegate.Gi(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Qi(e,n){return wt.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,n)))}}class wd extends Gp{constructor(e){super(),this.currentSequenceNumber=e}}class Du{constructor(e){this.persistence=e,this.ji=new mh,this.Wi=null}static zi(e){return new Du(e)}get Hi(){if(this.Wi)return this.Wi;throw _n()}addReference(e,n,o){return this.ji.addReference(o,n),this.Hi.delete(o.toString()),wt.resolve()}removeReference(e,n,o){return this.ji.removeReference(o,n),this.Hi.add(o.toString()),wt.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),wt.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(l=>this.Hi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(d=>this.Hi.add(d.toString()))}).next(()=>o.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wt.forEach(this.Hi,o=>{const l=un.fromPath(o);return this.Ji(e,l).next(d=>{d||n.removeEntry(l,ue.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(o=>{o?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return wt.or([()=>wt.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}function gh(i,e){return`firestore_clients_${i}_${e}`}function ic(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function sc(i,e){return`firestore_targets_${i}_${e}`}class Ql{constructor(e,n,o,l){this.user=e,this.batchId=n,this.state=o,this.error=l}static Yi(e,n,o){const l=JSON.parse(o);let d,_="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return _&&l.error&&(_="string"==typeof l.error.message&&"string"==typeof l.error.code,_&&(d=new Ht(l.error.code,l.error.message))),_?new Ql(e,n,l.state,d):(Tr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Dd{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Yi(e,n){const o=JSON.parse(n);let l,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new Ht(o.error.code,o.error.message))),d?new Dd(e,o.state,l):(Tr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cd{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Yi(e,n){const o=JSON.parse(n);let l="object"==typeof o&&o.activeTargetIds instanceof Array,d=zl();for(let _=0;l&&_<o.activeTargetIds.length;++_)l=bc(o.activeTargetIds[_]),d=d.add(o.activeTargetIds[_]);return l?new Cd(e,d):(Tr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class yh{constructor(e,n){this.clientId=e,this.onlineState=n}static Yi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new yh(n.clientId,n.onlineState):(Tr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Id{constructor(){this.activeTargetIds=zl()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Td{constructor(e,n,o,l,d){this.window=e,this.Yn=n,this.persistenceKey=o,this.er=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new wn(b),this.started=!1,this.rr=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ur=gh(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Id),this.cr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,h.Z)(function*(){const n=yield e.syncEngine.Fs();for(const l of n){if(l===e.er)continue;const d=e.getItem(gh(e.persistenceKey,l));if(d){const _=Cd.Yi(l,d);_&&(e.ir=e.ir.insert(_.clientId,_))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const l=e.mr(o);l&&e.gr(l)}for(const l of e.rr)e.sr(l);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let n=!1;return this.ir.forEach((o,l)=>{l.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,n,o){this.pr(e,n,o),this.Ir(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(sc(this.persistenceKey,e));if(o){const l=Dd.Yi(e,o);l&&(n=l.state)}}return this.Tr.Zi(e),this.wr(),n}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sc(this.persistenceKey,e))}updateQueryState(e,n,o){this.Er(e,n,o)}handleUserChange(e,n,o){n.forEach(l=>{this.Ir(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Vt("SharedClientState","READ",e,n),n}setItem(e,n){Vt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Vt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void Tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,h.Z)(function*(){if(n.started){if(null!==o.key)if(n.cr.test(o.key)){if(null==o.newValue){const l=n.Pr(o.key);return n.br(l,null)}{const l=n.Vr(o.key,o.newValue);if(l)return n.br(l.clientId,l)}}else if(n.hr.test(o.key)){if(null!==o.newValue){const l=n.vr(o.key,o.newValue);if(l)return n.Sr(l)}}else if(n.lr.test(o.key)){if(null!==o.newValue){const l=n.Dr(o.key,o.newValue);if(l)return n.Cr(l)}}else if(o.key===n.dr){if(null!==o.newValue){const l=n.mr(o.newValue);if(l)return n.gr(l)}}else if(o.key===n.ar){const l=function(d){let _=Ns.A;if(null!=d)try{const R=JSON.parse(d);Nn("number"==typeof R),_=R}catch(R){Tr("SharedClientState","Failed to read sequence number from WebStorage",R)}return _}(o.newValue);l!==Ns.A&&n.sequenceNumberHandler(l)}else if(o.key===n._r){const l=n.Nr(o.newValue);yield Promise.all(l.map(d=>n.syncEngine.kr(d)))}}else n.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,n,o){const l=new Ql(this.currentUser,e,n,o),d=ic(this.persistenceKey,this.currentUser,e);this.setItem(d,l.Xi())}Ir(e){const n=ic(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,n,o){const l=sc(this.persistenceKey,e),d=new Dd(e,n,o);this.setItem(l,d.Xi())}Rr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}Pr(e){const n=this.cr.exec(e);return n?n[1]:null}Vr(e,n){const o=this.Pr(e);return Cd.Yi(o,n)}vr(e,n){const o=this.hr.exec(e),l=Number(o[1]);return Ql.Yi(new qr(void 0!==o[2]?o[2]:null),l,n)}Dr(e,n){const o=this.lr.exec(e),l=Number(o[1]);return Dd.Yi(l,n)}mr(e){return yh.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var n=this;return(0,h.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Mr(e.batchId,e.state,e.error);Vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const o=n?this.ir.insert(e,n):this.ir.remove(e),l=this.yr(this.ir),d=this.yr(o),_=[],R=[];return d.forEach(G=>{l.has(G)||_.push(G)}),l.forEach(G=>{d.has(G)||R.push(G)}),this.syncEngine.Fr(_,R).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let n=zl();return e.forEach((o,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class Mf{constructor(){this.$r=new Id,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,o){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Id,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _h{Lr(e){}shutdown(){}}class pm{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class W_{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class gm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,o,l,d){const _=this.uo(e,n);Vt("RestConnection","Sending: ",_,o);const R={};return this.ao(R,l,d),this.co(e,_,R,o).then(G=>(Vt("RestConnection","Received: ",G),G),G=>{throw es("RestConnection",`${e} failed with error: `,G,"url: ",_,"request:",o),G})}ho(e,n,o,l,d){return this.oo(e,n,o,l,d)}ao(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+fr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,d)=>e[d]=l),o&&o.headers.forEach((l,d)=>e[d]=l)}uo(e,n){return`${this.io}/v1/${n}:${mm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,o,l){return new Promise((d,_)=>{const R=new ii;R.listenOnce(sa.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case Uo.NO_ERROR:const ne=R.getResponseJson();Vt("Connection","XHR received:",JSON.stringify(ne)),d(ne);break;case Uo.TIMEOUT:Vt("Connection",'RPC "'+e+'" timed out'),_(new Ht(pt.DEADLINE_EXCEEDED,"Request time out"));break;case Uo.HTTP_ERROR:const Ie=R.getStatus();if(Vt("Connection",'RPC "'+e+'" failed with status:',Ie,"response text:",R.getResponseText()),Ie>0){const Be=R.getResponseJson().error;if(Be&&Be.status&&Be.message){const _t=function($t){const Zt=$t.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Zt)>=0?Zt:pt.UNKNOWN}(Be.status);_(new Ht(_t,Be.message))}else _(new Ht(pt.UNKNOWN,"Server responded with status "+R.getStatus()))}else _(new Ht(pt.UNAVAILABLE,"Connection failed."));break;default:_n()}}finally{Vt("Connection",'RPC "'+e+'" completed.')}});const G=JSON.stringify(l);R.send(n,"POST",G,o,15)})}lo(e,n,o){const l=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ys(),_=Ps(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(R.xmlHttpFactory=new Bn({})),this.ao(R.initMessageHeaders,n,o),(0,de.uI)()||(0,de.b$)()||(0,de.d)()||(0,de.w1)()||(0,de.Mn)()||(0,de.ru)()||(R.httpHeadersOverwriteParam="$httpHeaders");const G=l.join("");Vt("Connection","Creating WebChannel: "+G,R);const ne=d.createWebChannel(G,R);let Ie=!1,Be=!1;const _t=new W_({Wr:Zt=>{Be?Vt("Connection","Not sending because WebChannel is closed:",Zt):(Ie||(Vt("Connection","Opening WebChannel transport."),ne.open(),Ie=!0),Vt("Connection","WebChannel sending:",Zt),ne.send(Zt))},zr:()=>ne.close()}),$t=(Zt,On,Br)=>{Zt.listen(On,Ts=>{try{Br(Ts)}catch(to){setTimeout(()=>{throw to},0)}})};return $t(ne,zn.EventType.OPEN,()=>{Be||Vt("Connection","WebChannel transport opened.")}),$t(ne,zn.EventType.CLOSE,()=>{Be||(Be=!0,Vt("Connection","WebChannel transport closed"),_t.no())}),$t(ne,zn.EventType.ERROR,Zt=>{Be||(Be=!0,es("Connection","WebChannel transport errored:",Zt),_t.no(new Ht(pt.UNAVAILABLE,"The operation could not be completed")))}),$t(ne,zn.EventType.MESSAGE,Zt=>{var On;if(!Be){const Br=Zt.data[0];Nn(!!Br);const Ts=Br,to=Ts.error||(null===(On=Ts[0])||void 0===On?void 0:On.error);if(to){Vt("Connection","WebChannel received error:",to);const Ss=to.status;let ta=function(Bs){const pa=K[Bs];if(void 0!==pa)return Ut(pa)}(Ss),no=to.message;void 0===ta&&(ta=pt.INTERNAL,no="Unknown error status: "+Ss+" with message "+to.message),Be=!0,_t.no(new Ht(ta,no)),ne.close()}else Vt("Connection","WebChannel received:",Br),_t.so(Br)}}),$t(_,Xt.STAT_EVENT,Zt=>{Zt.stat===Pn.PROXY?Vt("Connection","Detected buffering proxy"):Zt.stat===Pn.NOPROXY&&Vt("Connection","Detected no buffering proxy")}),setTimeout(()=>{_t.eo()},0),_t}}function xf(){return"undefined"!=typeof window?window:null}function vh(){return"undefined"!=typeof document?document:null}function Vc(i){return new Al(i,!0)}class Rf{constructor(e,n,o=1e3,l=1.5,d=6e4){this.Yn=e,this.timerId=n,this.fo=o,this._o=l,this.wo=d,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),l=Math.max(0,n-o);l>0&&Vt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,l,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class ym{constructor(e,n,o,l,d,_,R,G){this.Yn=e,this.Ro=o,this.Po=l,this.bo=d,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=R,this.listener=G,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Rf(e,n)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,h.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,h.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,n){var o=this;return(0,h.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():n&&n.code===pt.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):n&&n.code===pt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(n)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Vo===n&&this.qo(o,l)},o=>{e(()=>{const l=new Ht(pt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(l)})})}qo(e,n){const o=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(l=>{o(()=>this.Ko(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}No(){var e=this;this.state=5,this.Do.To((0,h.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ba extends ym{constructor(e,n,o,l,d,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,_),this.M=d}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=function yo(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(G=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:_n(),l=e.targetChange.targetIds||[],d=function(G,ne){return G.N?(Nn(void 0===ne||"string"==typeof ne),pi.fromBase64String(ne||"")):(Nn(void 0===ne||ne instanceof Uint8Array),pi.fromUint8Array(ne||new Uint8Array))}(i,e.targetChange.resumeToken),_=e.targetChange.cause,R=_&&function(G){const ne=void 0===G.code?pt.UNKNOWN:Ut(G.code);return new Ht(ne,G.message||"")}(_);n=new rs(o,l,d,R||null)}else if("documentChange"in e){const o=e.documentChange,l=qa(i,o.document.name),d=po(o.document.updateTime),_=new ai({mapValue:{fields:o.document.fields}}),R=Ii.newFoundDocument(l,d,_);n=new fu(o.targetIds||[],o.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const o=e.documentDelete,l=qa(i,o.document),d=o.readTime?po(o.readTime):ue.min(),_=Ii.newNoDocument(l,d);n=new fu([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,l=qa(i,o.document);n=new fu([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return _n();{const o=e.filter,d=new S(o.count||0);n=new Jd(o.targetId,d)}}var G;return n}(this.M,e),o=function(l){if(!("targetChange"in l))return ue.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?ue.min():d.readTime?po(d.readTime):ue.min()}(e);return this.listener.Qo(n,o)}jo(e){const n={};n.database=Za(this.M),n.addTarget=function(l,d){let _;const R=d.target;return _=Da(R)?{documents:lf(l,R)}:{query:Oc(l,R)},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?_.resumeToken=th(l,d.resumeToken):d.snapshotVersion.compareTo(ue.min())>0&&(_.readTime=Wu(l,d.snapshotVersion.toTimestamp())),_}(this.M,e);const o=function uf(i,e){const n=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _n()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Fo(n)}Wo(e){const n={};n.database=Za(this.M),n.removeTarget=e,this.Fo(n)}}class Wg extends ym{constructor(e,n,o,l,d,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,_),this.M=d,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,n){return this.bo.lo("Write",e,n)}onMessage(e){if(Nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const n=function Rc(i,e){return i&&i.length>0?(Nn(void 0!==e),i.map(n=>function(o,l){let d=po(o.updateTime?o.updateTime:l);return d.isEqual(ue.min())&&(d=po(l)),new Qd(d,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=po(e.commitTime);return this.listener.Yo(o,n)}return Nn(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Za(this.M),this.Fo(e)}Jo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>mu(this.M,o))};this.Fo(n)}}class Kg extends class{}{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=o,this.M=l,this.tu=!1}eu(){if(this.tu)throw new Ht(pt.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.bo.oo(e,n,o,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ht(pt.UNKNOWN,l.toString())})}ho(e,n,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.bo.ho(e,n,o,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ht(pt.UNKNOWN,l.toString())})}terminate(){this.tu=!0}}class K_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Tr(n),this.iu=!1):Vt("OnlineStateTracker",n)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class q_{constructor(e,n,o,l,d){var _=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=d,this._u.Lr(R=>{o.enqueueAndForget((0,h.Z)(function*(){var G;Xl(_)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,h.Z)(function*(ne){const Ie=Jt(ne);Ie.fu.add(4),yield Uc(Ie),Ie.wu.set("Unknown"),Ie.fu.delete(4),yield Bc(Ie)}),function(ne){return G.apply(this,arguments)})(_))}))}),this.wu=new K_(o,l)}}function Bc(i){return _m.apply(this,arguments)}function _m(){return _m=(0,h.Z)(function*(i){if(Xl(i))for(const e of i.du)yield e(!0)}),_m.apply(this,arguments)}function Uc(i){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,h.Z)(function*(i){for(const e of i.du)yield e(!1)}),Sd.apply(this,arguments)}function Ad(i,e){const n=Jt(i);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),kf(n)?bh(n):ac(n).xo()&&Of(n,e))}function Md(i,e){const n=Jt(i),o=ac(n);n.lu.delete(e),o.xo()&&vm(n,e),0===n.lu.size&&(o.xo()?o.Mo():Xl(n)&&n.wu.set("Unknown"))}function Of(i,e){i.mu.Z(e.targetId),ac(i).jo(e)}function vm(i,e){i.mu.Z(e),ac(i).Wo(e)}function bh(i){i.mu=new sf({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),ac(i).start(),i.wu.ru()}function kf(i){return Xl(i)&&!ac(i).Co()&&i.lu.size>0}function Xl(i){return 0===Jt(i).fu.size}function bm(i){i.mu=void 0}function qg(i){return Eh.apply(this,arguments)}function Eh(){return Eh=(0,h.Z)(function*(i){i.lu.forEach((e,n)=>{Of(i,e)})}),Eh.apply(this,arguments)}function Em(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,h.Z)(function*(i,e){bm(i),kf(i)?(i.wu.au(e),bh(i)):i.wu.set("Unknown")}),Pf.apply(this,arguments)}function Ol(i,e,n){return xd.apply(this,arguments)}function xd(){return xd=(0,h.Z)(function*(i,e,n){if(i.wu.set("Online"),e instanceof rs&&2===e.state&&e.cause)try{yield(o=(0,h.Z)(function*(l,d){const _=d.cause;for(const R of d.targetIds)l.lu.has(R)&&(yield l.remoteSyncer.rejectListen(R,_),l.lu.delete(R),l.mu.removeTarget(R))}),function(l,d){return o.apply(this,arguments)})(i,e)}catch(o){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield wh(i,o)}else if(e instanceof fu?i.mu.ut(e):e instanceof Jd?i.mu._t(e):i.mu.ht(e),!n.isEqual(ue.min()))try{const o=yield Ug(i.localStore);n.compareTo(o)>=0&&(yield function(l,d){const _=l.mu.yt(d);return _.targetChanges.forEach((R,G)=>{if(R.resumeToken.approximateByteSize()>0){const ne=l.lu.get(G);ne&&l.lu.set(G,ne.withResumeToken(R.resumeToken,d))}}),_.targetMismatches.forEach(R=>{const G=l.lu.get(R);if(!G)return;l.lu.set(R,G.withResumeToken(pi.EMPTY_BYTE_STRING,G.snapshotVersion)),vm(l,R);const ne=new m(G.target,R,1,G.sequenceNumber);Of(l,ne)}),l.remoteSyncer.applyRemoteEvent(_)}(i,n))}catch(o){Vt("RemoteStore","Failed to raise snapshot:",o),yield wh(i,o)}var o}),xd.apply(this,arguments)}function wh(i,e,n){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,h.Z)(function*(i,e,n){if(!Wl(e))throw e;i.fu.add(1),yield Uc(i),i.wu.set("Offline"),n||(n=()=>Ug(i.localStore)),i.asyncQueue.enqueueRetryable((0,h.Z)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield n(),i.fu.delete(1),yield Bc(i)}))}),Nf.apply(this,arguments)}function Zg(i,e){return e().catch(n=>wh(i,n,e))}function oc(i){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,h.Z)(function*(i){const e=Jt(i),n=Jl(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Yg(e);)try{const l=yield G_(e.localStore,o);if(null===l){0===e.hu.length&&n.Mo();break}o=l.batchId,Qg(e,l)}catch(l){yield wh(e,l)}Dh(e)&&wm(e)}),Ff.apply(this,arguments)}function Yg(i){return Xl(i)&&i.hu.length<10}function Qg(i,e){i.hu.push(e);const n=Jl(i);n.xo()&&n.Ho&&n.Jo(e.mutations)}function Dh(i){return Xl(i)&&!Jl(i).Co()&&i.hu.length>0}function wm(i){Jl(i).start()}function Xg(i){return jc.apply(this,arguments)}function jc(){return jc=(0,h.Z)(function*(i){Jl(i).Zo()}),jc.apply(this,arguments)}function Lf(i){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,h.Z)(function*(i){const e=Jl(i);for(const n of i.hu)e.Jo(n.mutations)}),Vf.apply(this,arguments)}function Bf(i,e,n){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,h.Z)(function*(i,e,n){const o=i.hu.shift(),l=I.from(o,e,n);yield Zg(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield oc(i)}),Rd.apply(this,arguments)}function Dm(i,e){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,h.Z)(function*(i,e){var n;e&&Jl(i).Ho&&(yield(n=(0,h.Z)(function*(o,l){if(at(d=l.code)&&d!==pt.ABORTED){const _=o.hu.shift();Jl(o).ko(),yield Zg(o,()=>o.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield oc(o)}var d}),function(o,l){return n.apply(this,arguments)})(i,e)),Dh(i)&&wm(i)}),Uf.apply(this,arguments)}function Cm(i,e){return Od.apply(this,arguments)}function Od(){return Od=(0,h.Z)(function*(i,e){const n=Jt(i);n.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const o=Xl(n);n.fu.add(3),yield Uc(n),o&&n.wu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),yield Bc(n)}),Od.apply(this,arguments)}function Im(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,h.Z)(function*(i,e){const n=Jt(i);e?(n.fu.delete(2),yield Bc(n)):e||(n.fu.add(2),yield Uc(n),n.wu.set("Unknown"))}),jf.apply(this,arguments)}function ac(i){return i.gu||(i.gu=function(e,n,o){const l=Jt(e);return l.eu(),new Ba(n,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Hr:qg.bind(null,i),Yr:Em.bind(null,i),Qo:Ol.bind(null,i)}),i.du.push(function(){var e=(0,h.Z)(function*(n){n?(i.gu.ko(),kf(i)?bh(i):i.wu.set("Unknown")):(yield i.gu.stop(),bm(i))});return function(n){return e.apply(this,arguments)}}())),i.gu}function Jl(i){return i.yu||(i.yu=function(e,n,o){const l=Jt(e);return l.eu(),new Wg(n,l.bo,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Hr:Xg.bind(null,i),Yr:Dm.bind(null,i),Xo:Lf.bind(null,i),Yo:Bf.bind(null,i)}),i.du.push(function(){var e=(0,h.Z)(function*(n){n?(i.yu.ko(),yield oc(i)):(yield i.yu.stop(),i.hu.length>0&&(Vt("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(n){return e.apply(this,arguments)}}())),i.yu}class Ch{constructor(e,n,o,l,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=d,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,n,o,l,d){const _=Date.now()+o,R=new Ch(e,n,_,l,d);return R.start(o),R}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ht(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lc(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),Wl(i))return new Ht(pt.UNAVAILABLE,`${e}: ${i}`);throw i}class uc{constructor(e){this.comparator=e?(n,o)=>e(n,o)||un.comparator(n.key,o.key):(n,o)=>un.comparator(n.key,o.key),this.keyedMap=Tc(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new uc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=o.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new uc;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class kl{constructor(){this.pu=new wn(un.comparator)}track(e){const n=e.doc.key,o=this.pu.get(n);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(n,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(n):1===e.type&&2===o.type?this.pu=this.pu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):_n():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,o)=>{e.push(o)}),e}}class eu{constructor(e,n,o,l,d,_,R,G){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=d,this.fromCache=_,this.syncStateChanged=R,this.excludesMetadataChanges=G}static fromInitialDocuments(e,n,o,l){const d=[];return n.forEach(_=>{d.push({type:0,doc:_})}),new eu(e,n,uc.emptySet(n),d,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}class Jg{constructor(){this.Tu=void 0,this.listeners=[]}}class ey{constructor(){this.queries=new In(e=>Bu(e),Fa),this.onlineState="Unknown",this.Eu=new Set}}function Tm(i,e){return kd.apply(this,arguments)}function kd(){return kd=(0,h.Z)(function*(i,e){const n=Jt(i),o=e.query;let l=!1,d=n.queries.get(o);if(d||(l=!0,d=new Jg),l)try{d.Tu=yield n.onListen(o)}catch(_){const R=lc(_,`Initialization of query '${Ec(e.query)}' failed`);return void e.onError(R)}n.queries.set(o,d),d.listeners.push(e),e.Au(n.onlineState),d.Tu&&e.Ru(d.Tu)&&Fd(n)}),kd.apply(this,arguments)}function Ih(i,e){return Pd.apply(this,arguments)}function Pd(){return Pd=(0,h.Z)(function*(i,e){const n=Jt(i),o=e.query;let l=!1;const d=n.queries.get(o);if(d){const _=d.listeners.indexOf(e);_>=0&&(d.listeners.splice(_,1),l=0===d.listeners.length)}if(l)return n.queries.delete(o),n.onUnlisten(o)}),Pd.apply(this,arguments)}function Nd(i,e){const n=Jt(i);let o=!1;for(const l of e){const _=n.queries.get(l.query);if(_){for(const R of _.listeners)R.Ru(l)&&(o=!0);_.Tu=l}}o&&Fd(n)}function ty(i,e,n){const o=Jt(i),l=o.queries.get(e);if(l)for(const d of l.listeners)d.onError(n);o.queries.delete(e)}function Fd(i){i.Eu.forEach(e=>{e.next()})}class Th{constructor(e,n,o){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new eu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){return!e.fromCache||!(this.options.Cu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Sm{constructor(e,n){this.payload=e,this.byteLength=n}xu(){return"metadata"in this.payload}}class Hf{constructor(e){this.M=e}fi(e){return qa(this.M,e)}di(e){return e.metadata.exists?nh(this.M,e.document,!1):Ii.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return po(e)}}class ny{constructor(e,n,o){this.Nu=e,this.localStore=n,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Sh(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,o=new Hf(this.M);for(const l of e)if(l.metadata.queries){const d=o.fi(l.metadata.name);for(const _ of l.metadata.queries){const R=(n.get(_)||li()).add(d);n.set(_,R)}}return n}complete(){var e=this;return(0,h.Z)(function*(){const n=yield function dm(i,e,n,o){return bd.apply(this,arguments)}(e.localStore,new Hf(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const l of e.queries)yield hm(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:n}})()}}function Sh(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Am{constructor(e){this.key=e}}class Mm{constructor(e){this.key=e}}class $f{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=li(),this.mutatedKeys=li(),this.Uu=Jc(e),this.qu=new uc(this.Uu)}get Ku(){return this.$u}Gu(e,n){const o=n?n.Qu:new kl,l=n?n.qu:this.qu;let d=n?n.mutatedKeys:this.mutatedKeys,_=l,R=!1;const G=$a(this.query)&&l.size===this.query.limit?l.last():null,ne=Cl(this.query)&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Ie,Be)=>{const _t=l.get(Ie),$t=Ga(this.query,Be)?Be:null,Zt=!!_t&&this.mutatedKeys.has(_t.key),On=!!$t&&($t.hasLocalMutations||this.mutatedKeys.has($t.key)&&$t.hasCommittedMutations);let Br=!1;_t&&$t?_t.data.isEqual($t.data)?Zt!==On&&(o.track({type:3,doc:$t}),Br=!0):this.ju(_t,$t)||(o.track({type:2,doc:$t}),Br=!0,(G&&this.Uu($t,G)>0||ne&&this.Uu($t,ne)<0)&&(R=!0)):!_t&&$t?(o.track({type:0,doc:$t}),Br=!0):_t&&!$t&&(o.track({type:1,doc:_t}),Br=!0,(G||ne)&&(R=!0)),Br&&($t?(_=_.add($t),d=On?d.add(Ie):d.delete(Ie)):(_=_.delete(Ie),d=d.delete(Ie)))}),$a(this.query)||Cl(this.query))for(;_.size>this.query.limit;){const Ie=$a(this.query)?_.last():_.first();_=_.delete(Ie.key),d=d.delete(Ie.key),o.track({type:1,doc:Ie})}return{qu:_,Qu:o,ni:R,mutatedKeys:d}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const l=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const d=e.Qu.Iu();d.sort((ne,Ie)=>function(Be,_t){const $t=Zt=>{switch(Zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _n()}};return $t(Be)-$t(_t)}(ne.type,Ie.type)||this.Uu(ne.doc,Ie.doc)),this.Wu(o);const _=n?this.zu():[],R=0===this.Lu.size&&this.current?1:0,G=R!==this.Bu;return this.Bu=R,0!==d.length||G?{snapshot:new eu(this.query,e.qu,l,d,e.mutatedKeys,0===R,G,!1),Hu:_}:{Hu:_}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new kl,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=li(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const n=[];return e.forEach(o=>{this.Lu.has(o)||n.push(new Mm(o))}),this.Lu.forEach(o=>{e.has(o)||n.push(new Am(o))}),n}Yu(e){this.$u=e.li,this.Lu=li();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return eu.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Hc{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class xm{constructor(e){this.key=e,this.Zu=!1}}class ry{constructor(e,n,o,l,d,_){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=_,this.ta={},this.ea=new In(R=>Bu(R),Fa),this.na=new Map,this.sa=new Set,this.ia=new wn(un.comparator),this.ra=new Map,this.oa=new mh,this.ua={},this.aa=new Map,this.ca=pr.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function iy(i,e){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,h.Z)(function*(i,e){const n=Iu(i);let o,l;const d=n.ea.get(e);if(d)o=d.targetId,n.sharedClientState.addLocalQueryTarget(o),l=d.view.Xu();else{const _=yield _d(n.localStore,ho(e));n.isPrimaryClient&&Ad(n.remoteStore,_);const R=n.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,l=yield zf(n,e,o,"current"===R)}return l}),Cu.apply(this,arguments)}function zf(i,e,n,o){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,h.Z)(function*(i,e,n,o){i.la=(Ie,Be,_t)=>{return($t=(0,h.Z)(function*(Zt,On,Br,Ts){let to=On.view.Gu(Br);to.ni&&(to=yield Sf(Zt.localStore,On.query,!1).then(({documents:no})=>On.view.Gu(no,to)));const Ss=Ts&&Ts.targetChanges.get(On.targetId),ta=On.view.applyChanges(to,Zt.isPrimaryClient,Ss);return Bd(Zt,On.targetId,ta.Hu),ta.snapshot}),function(Zt,On,Br,Ts){return $t.apply(this,arguments)})(i,Ie,Be,_t);var $t};const l=yield Sf(i.localStore,e,!0),d=new $f(e,l.li),_=d.Gu(l.documents),R=ha.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),G=d.applyChanges(_,i.isPrimaryClient,R);Bd(i,n,G.Hu);const ne=new Hc(e,n,d);return i.ea.set(e,ne),i.na.has(n)?i.na.get(n).push(e):i.na.set(n,[e]),G.snapshot}),Gf.apply(this,arguments)}function sy(i,e){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,h.Z)(function*(i,e){const n=Jt(i),o=n.ea.get(e),l=n.na.get(o.targetId);if(l.length>1)return n.na.set(o.targetId,l.filter(d=>!Fa(d,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield vd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Md(n.remoteStore,o.targetId),Vd(n,o.targetId)}).catch(Lo))):(Vd(n,o.targetId),yield vd(n.localStore,o.targetId,!0))}),Wf.apply(this,arguments)}function Ld(){return Ld=(0,h.Z)(function*(i,e,n){const o=ip(i);try{const l=yield function(d,_){const R=Jt(d),G=J.now(),ne=_.reduce((Be,_t)=>Be.add(_t.key),li());let Ie;return R.persistence.runTransaction("Locally write mutations","readwrite",Be=>R.ci.Ks(Be,ne).next(_t=>{Ie=_t;const $t=[];for(const Zt of _){const On=nd(Zt,Ie.get(Zt.key));null!=On&&$t.push(new Ka(Zt.key,On,Fs(On.value.mapValue),hs.exists(!0)))}return R.Bs.addMutationBatch(Be,G,$t,_)})).then(Be=>(Be.applyToLocalDocumentSet(Ie),{batchId:Be.batchId,changes:Ie}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(d,_,R){let G=d.ua[d.currentUser.toKey()];G||(G=new wn(b)),G=G.insert(_,R),d.ua[d.currentUser.toKey()]=G}(o,l.batchId,n),yield Nl(o,l.changes),yield oc(o.remoteStore)}catch(l){const d=lc(l,"Failed to persist write");n.reject(d)}}),Ld.apply(this,arguments)}function Kf(i,e){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,h.Z)(function*(i,e){const n=Jt(i);try{const o=yield z_(n.localStore,e);e.targetChanges.forEach((l,d)=>{const _=n.ra.get(d);_&&(Nn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.Zu=!0:l.modifiedDocuments.size>0?Nn(_.Zu):l.removedDocuments.size>0&&(Nn(_.Zu),_.Zu=!1))}),yield Nl(n,o,e)}catch(o){yield Lo(o)}}),Ah.apply(this,arguments)}function qf(i,e,n){const o=Jt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const l=[];o.ea.forEach((d,_)=>{const R=_.view.Au(e);R.snapshot&&l.push(R.snapshot)}),function(d,_){const R=Jt(d);R.onlineState=_;let G=!1;R.queries.forEach((ne,Ie)=>{for(const Be of Ie.listeners)Be.Au(_)&&(G=!0)}),G&&Fd(R)}(o.eventManager,e),l.length&&o.ta.Qo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Rm(i,e,n){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,h.Z)(function*(i,e,n){const o=Jt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.ra.get(e),d=l&&l.key;if(d){let _=new wn(un.comparator);_=_.insert(d,Ii.newNoDocument(d,ue.min()));const R=li().add(d),G=new Ca(ue.min(),new Map,new si(b),_,R);yield Kf(o,G),o.ia=o.ia.remove(d),o.ra.delete(e),Rh(o)}else yield vd(o.localStore,e,!1).then(()=>Vd(o,e,n)).catch(Lo)}),Zf.apply(this,arguments)}function oy(i,e){return Yf.apply(this,arguments)}function Yf(){return Yf=(0,h.Z)(function*(i,e){const n=Jt(i),o=e.batch.batchId;try{const l=yield $_(n.localStore,e);Xf(n,o,null),Qf(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Nl(n,l)}catch(l){yield Lo(l)}}),Yf.apply(this,arguments)}function ay(i,e,n){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,h.Z)(function*(i,e,n){const o=Jt(i);try{const l=yield function(d,_){const R=Jt(d);return R.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let ne;return R.Bs.lookupMutationBatch(G,_).next(Ie=>(Nn(null!==Ie),ne=Ie.keys(),R.Bs.removeMutationBatch(G,Ie))).next(()=>R.Bs.performConsistencyCheck(G)).next(()=>R.ci.Ks(G,ne))})}(o.localStore,e);Xf(o,e,n),Qf(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Nl(o,l)}catch(l){yield Lo(l)}}),Mh.apply(this,arguments)}function xh(){return xh=(0,h.Z)(function*(i,e){const n=Jt(i);Xl(n.remoteStore)||Vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const _=Jt(d);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>_.Bs.getHighestUnacknowledgedBatchId(R))}(n.localStore);if(-1===o)return void e.resolve();const l=n.aa.get(o)||[];l.push(e),n.aa.set(o,l)}catch(o){const l=lc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),xh.apply(this,arguments)}function Qf(i,e){(i.aa.get(e)||[]).forEach(n=>{n.resolve()}),i.aa.delete(e)}function Xf(i,e,n){const o=Jt(i);let l=o.ua[o.currentUser.toKey()];if(l){const d=l.get(e);d&&(n?d.reject(n):d.resolve(),l=l.remove(e)),o.ua[o.currentUser.toKey()]=l}}function Vd(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.na.get(e))i.ea.delete(o),n&&i.ta.fa(o,n);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(o=>{i.oa.containsKey(o)||ly(i,o)})}function ly(i,e){i.sa.delete(e.path.canonicalString());const n=i.ia.get(e);null!==n&&(Md(i.remoteStore,n),i.ia=i.ia.remove(e),i.ra.delete(n),Rh(i))}function Bd(i,e,n){for(const o of n)o instanceof Am?(i.oa.addReference(o.key,e),uy(i,o)):o instanceof Mm?(Vt("SyncEngine","Document no longer in limbo: "+o.key),i.oa.removeReference(o.key,e),i.oa.containsKey(o.key)||ly(i,o.key)):_n()}function uy(i,e){const n=e.key,o=n.path.canonicalString();i.ia.get(n)||i.sa.has(o)||(Vt("SyncEngine","New document in limbo: "+n),i.sa.add(o),Rh(i))}function Rh(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const n=new un(Qt.fromString(e)),o=i.ca.next();i.ra.set(o,new xm(n)),i.ia=i.ia.insert(n,o),Ad(i.remoteStore,new m(ho(Ls(n.path)),o,2,Ns.A))}}function Nl(i,e,n){return Om.apply(this,arguments)}function Om(){return Om=(0,h.Z)(function*(i,e,n){const o=Jt(i),l=[],d=[],_=[];var R;o.ea.isEmpty()||(o.ea.forEach((R,G)=>{_.push(o.la(G,e,n).then(ne=>{if(ne){o.isPrimaryClient&&o.sharedClientState.updateQueryState(G.targetId,ne.fromCache?"not-current":"current"),l.push(ne);const Ie=sm.Ys(G.targetId,ne);d.push(Ie)}}))}),yield Promise.all(_),o.ta.Qo(l),yield(R=(0,h.Z)(function*(G,ne){const Ie=Jt(G);try{yield Ie.persistence.runTransaction("notifyLocalViewChanges","readwrite",Be=>wt.forEach(ne,_t=>wt.forEach(_t.Hs,$t=>Ie.persistence.referenceDelegate.addReference(Be,_t.targetId,$t)).next(()=>wt.forEach(_t.Js,$t=>Ie.persistence.referenceDelegate.removeReference(Be,_t.targetId,$t)))))}catch(Be){if(!Wl(Be))throw Be;Vt("LocalStore","Failed to update sequence numbers: "+Be)}for(const Be of ne){const _t=Be.targetId;if(!Be.fromCache){const $t=Ie.ii.get(_t),On=$t.withLastLimboFreeSnapshotVersion($t.snapshotVersion);Ie.ii=Ie.ii.insert(_t,On)}}}),function(G,ne){return R.apply(this,arguments)})(o.localStore,d))}),Om.apply(this,arguments)}function yl(i,e){return km.apply(this,arguments)}function km(){return km=(0,h.Z)(function*(i,e){const n=Jt(i);if(!n.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const o=yield fh(n.localStore,e);n.currentUser=e,(l=n).aa.forEach(_=>{_.forEach(R=>{R.reject(new Ht(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.aa.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Nl(n,o.hi)}var l}),km.apply(this,arguments)}function Y_(i,e){const n=Jt(i),o=n.ra.get(e);if(o&&o.Zu)return li().add(o.key);{let l=li();const d=n.na.get(e);if(!d)return l;for(const _ of d){const R=n.ea.get(_);l=l.unionWith(R.view.Ku)}return l}}function Pm(i,e){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,h.Z)(function*(i,e){const n=Jt(i),o=yield Sf(n.localStore,e.query,!0),l=e.view.Yu(o);return n.isPrimaryClient&&Bd(n,e.targetId,l.Hu),l}),Oh.apply(this,arguments)}function Nm(i,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,h.Z)(function*(i,e){const n=Jt(i);return ph(n.localStore,e).then(o=>Nl(n,o))}),Jf.apply(this,arguments)}function Q_(i,e,n,o){return kh.apply(this,arguments)}function kh(){return kh=(0,h.Z)(function*(i,e,n,o){const l=Jt(i),d=yield function(_,R){const G=Jt(_),ne=Jt(G.Bs);return G.persistence.runTransaction("Lookup mutation documents","readonly",Ie=>ne.fn(Ie,R).next(Be=>Be?G.ci.Ks(Ie,Be):wt.resolve(null)))}(l.localStore,e);var R;null!==d?("pending"===n?yield oc(l.remoteStore):"acknowledged"===n||"rejected"===n?(Xf(l,e,o||null),Qf(l,e),R=e,Jt(Jt(l.localStore).Bs)._n(R)):_n(),yield Nl(l,d)):Vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),kh.apply(this,arguments)}function tp(){return tp=(0,h.Z)(function*(i,e){const n=Jt(i);if(Iu(n),ip(n),!0===e&&!0!==n.ha){const o=n.sharedClientState.getAllActiveQueryTargets(),l=yield Ph(n,o.toArray());n.ha=!0,yield Im(n.remoteStore,!0);for(const d of l)Ad(n.remoteStore,d)}else if(!1===e&&!1!==n.ha){const o=[];let l=Promise.resolve();n.na.forEach((d,_)=>{n.sharedClientState.isLocalQueryTarget(_)?o.push(_):l=l.then(()=>(Vd(n,_),vd(n.localStore,_,!0))),Md(n.remoteStore,_)}),yield l,yield Ph(n,o),function(d){const _=Jt(d);_.ra.forEach((R,G)=>{Md(_.remoteStore,G)}),_.oa.bi(),_.ra=new Map,_.ia=new wn(un.comparator)}(n),n.ha=!1,yield Im(n.remoteStore,!1)}}),tp.apply(this,arguments)}function Ph(i,e,n){return np.apply(this,arguments)}function np(){return np=(0,h.Z)(function*(i,e,n){const o=Jt(i),l=[],d=[];for(const _ of e){let R;const G=o.na.get(_);if(G&&0!==G.length){R=yield _d(o.localStore,ho(G[0]));for(const ne of G){const Ie=o.ea.get(ne),Be=yield Pm(o,Ie);Be.snapshot&&d.push(Be.snapshot)}}else{const ne=yield Yl(o.localStore,_);R=yield _d(o.localStore,ne),yield zf(o,Fm(ne),_,!1)}l.push(R)}return o.ta.Qo(d),l}),np.apply(this,arguments)}function Fm(i){return Yo(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function cy(i){const e=Jt(i);return Jt(Jt(e.localStore).persistence).Fs()}function dy(i,e,n,o){return rp.apply(this,arguments)}function rp(){return rp=(0,h.Z)(function*(i,e,n,o){const l=Jt(i);if(l.ha)return void Vt("SyncEngine","Ignoring unexpected query state notification.");const d=l.na.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const _=yield ph(l.localStore,wc(d[0])),R=Ca.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Nl(l,_,R);break}case"rejected":yield vd(l.localStore,e,!0),Vd(l,e,o);break;default:_n()}}),rp.apply(this,arguments)}function hy(i,e,n){return $c.apply(this,arguments)}function $c(){return $c=(0,h.Z)(function*(i,e,n){const o=Iu(i);if(o.ha){for(const l of e){if(o.na.has(l)){Vt("SyncEngine","Adding an already active target "+l);continue}const d=yield Yl(o.localStore,l),_=yield _d(o.localStore,d);yield zf(o,Fm(d),_.targetId,!1),Ad(o.remoteStore,_)}for(const l of n)o.na.has(l)&&(yield vd(o.localStore,l,!1).then(()=>{Md(o.remoteStore,l),Vd(o,l)}).catch(Lo))}}),$c.apply(this,arguments)}function Iu(i){const e=Jt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rm.bind(null,e),e.ta.Qo=Nd.bind(null,e.eventManager),e.ta.fa=ty.bind(null,e.eventManager),e}function ip(i){const e=Jt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ay.bind(null,e),e}class Lm{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,h.Z)(function*(){n.M=Vc(e.databaseInfo.databaseId),n.sharedClientState=n._a(e),n.persistence=n.wa(e),yield n.persistence.start(),n.gcScheduler=n.ma(e),n.localStore=n.ga(e)})()}ma(e){return null}ga(e){return am(this.persistence,new Tf,e.initialUser,this.M)}wa(e){return new Gg(Du.zi,this.M)}_a(e){return new Mf}terminate(){var e=this;return(0,h.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Vm extends Lm{constructor(e,n,o){super(),this.ya=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,h.Z)(function*(){yield n().call(o,e),yield o.ya.initialize(o,e),yield ip(o.ya.syncEngine),yield oc(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return am(this.persistence,new Tf,e.initialUser,this.M)}ma(e){return new Zl(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const n=im(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Sa.withCacheSize(this.cacheSizeBytes):Sa.DEFAULT;return new If(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,xf(),vh(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Mf}}class sp extends Vm{constructor(e,n){super(e,n,!1),this.ya=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,h.Z)(function*(){yield n().call(o,e);const l=o.ya.syncEngine;o.sharedClientState instanceof Td&&(o.sharedClientState.syncEngine={Mr:Q_.bind(null,l),Or:dy.bind(null,l),Fr:hy.bind(null,l),Fs:cy.bind(null,l),kr:Nm.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var d=(0,h.Z)(function*(_){yield function ep(i,e){return tp.apply(this,arguments)}(o.ya.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):_||o.gcScheduler.stop())});return function(_){return d.apply(this,arguments)}}())})()}_a(e){const n=xf();if(!Td.vt(n))throw new Ht(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=im(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Td(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Qa{initialize(e,n){var o=this;return(0,h.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>qf(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=yl.bind(null,o.syncEngine),yield Im(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ey}createDatastore(e){const n=Vc(e.databaseInfo.databaseId),o=new gm(e.databaseInfo);return new Kg(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,l=e.asyncQueue,d=R=>qf(this.syncEngine,R,0),_=pm.vt()?new pm:new _h,new q_(n,o,l,d,_);var n,o,l,d,_}createSyncEngine(e,n){return function(o,l,d,_,R,G,ne){const Ie=new ry(o,l,d,_,R,G);return ne&&(Ie.ha=!0),Ie}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,h.Z)(function*(n){const o=Jt(n);Vt("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield Uc(o),o._u.shutdown(),o.wu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function zc(i,e=10240){let n=0;return{read:()=>(0,h.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,h.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vo{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class cc{constructor(e,n){this.Ta=e,this.M=n,this.metadata=new wi,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,h.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,h.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,h.Z)(function*(){const n=yield e.Ra();if(null===n)return null;const o=e.Ea.decode(n),l=Number(o);isNaN(l)&&e.Pa(`length string (${o}) is not valid number`);const d=yield e.ba(l);return new Sm(JSON.parse(d),n.length+l)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,h.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const n=e.Va();n<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}ba(e){var n=this;return(0,h.Z)(function*(){for(;n.buffer.length<e;)(yield n.va())&&n.Pa("Reached the end of bundle when more is expected.");const o=n.Ea.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,h.Z)(function*(){const n=yield e.Ta.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Nh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,h.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Ht(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,h.Z)(function*(d,_){const R=Jt(d),G=Za(R.M)+"/documents",ne={documents:_.map($t=>Xo(R.M,$t))},Ie=yield R.ho("BatchGetDocuments",G,ne),Be=new Map;Ie.forEach($t=>{const Zt=function pu(i,e){return"found"in e?function(n,o){Nn(!!o.found);const l=qa(n,o.found.name),d=po(o.found.updateTime),_=new ai({mapValue:{fields:o.found.fields}});return Ii.newFoundDocument(l,d,_)}(i,e):"missing"in e?function(n,o){Nn(!!o.missing),Nn(!!o.readTime);const l=qa(n,o.missing),d=po(o.readTime);return Ii.newNoDocument(l,d)}(i,e):_n()}(R.M,$t);Be.set(Zt.key.toString(),Zt)});const _t=[];return _.forEach($t=>{const Zt=Be.get($t.toString());Nn(!!Zt),_t.push(Zt)}),_t}),function(d,_){return l.apply(this,arguments)})(n.datastore,e);var l;return o.forEach(l=>n.recordVersion(l)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new f(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,h.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,l)=>{const d=un.fromPath(l);e.mutations.push(new p(d,e.precondition(d)))}),yield(o=(0,h.Z)(function*(l,d){const _=Jt(l),R=Za(_.M)+"/documents",G={writes:d.map(ne=>mu(_.M,ne))};yield _.oo("Commit",R,G)}),function(l,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw _n();n=ue.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Ht(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?hs.updateTime(n):hs.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new Ht(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hs.updateTime(n)}return hs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Xa{constructor(e,n,o,l){this.asyncQueue=e,this.datastore=n,this.updateFunction=o,this.deferred=l,this.Sa=5,this.Do=new Rf(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,h.Z)(function*(){const n=new Nh(e.datastore),o=e.Ca(n);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.xa(d)}))}).catch(l=>{e.xa(l)})}))}Ca(e){try{const n=this.updateFunction(e);return!mi(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!at(n)}return!1}}class op{constructor(e,n,o,l){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=qr.UNAUTHENTICATED,this.clientId=C.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,h.Z)(function*(R){Vt("FirestoreClient","Received user=",R.uid),yield d.authCredentialListener(R),d.user=R});return function(R){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(Vt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,h.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ht(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const l=lc(o,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function dc(i,e){return Tu.apply(this,arguments)}function Tu(){return Tu=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var l=(0,h.Z)(function*(d){o.isEqual(d)||(yield fh(e.localStore,d),o=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Tu.apply(this,arguments)}function hc(i,e){return Su.apply(this,arguments)}function Su(){return Su=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Au(i);Vt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(l=>Cm(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,d)=>Cm(e.remoteStore,d)),i.onlineComponents=e}),Su.apply(this,arguments)}function Au(i){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,h.Z)(function*(i){return i.offlineComponents||(Vt("FirestoreClient","Using default OfflineComponentProvider"),yield dc(i,new Lm)),i.offlineComponents}),Mu.apply(this,arguments)}function tu(i){return xu.apply(this,arguments)}function xu(){return xu=(0,h.Z)(function*(i){return i.onlineComponents||(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield hc(i,new Qa)),i.onlineComponents}),xu.apply(this,arguments)}function fc(i){return Au(i).then(e=>e.persistence)}function Fh(i){return Au(i).then(e=>e.localStore)}function ap(i){return tu(i).then(e=>e.remoteStore)}function Lh(i){return tu(i).then(e=>e.syncEngine)}function pc(i){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,h.Z)(function*(i){const e=yield tu(i),n=e.eventManager;return n.onListen=iy.bind(null,e.syncEngine),n.onUnlisten=sy.bind(null,e.syncEngine),n}),Vh.apply(this,arguments)}function lp(i,e,n={}){const o=new wi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(l,d,_,R,G){const ne=new vo({next:Be=>{d.enqueueAndForget(()=>Ih(l,Ie));const _t=Be.docs.has(_);!_t&&Be.fromCache?G.reject(new Ht(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):_t&&Be.fromCache&&R&&"server"===R.source?G.reject(new Ht(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(Be)},error:Be=>G.reject(Be)}),Ie=new Th(Ls(_.path),ne,{includeMetadataChanges:!0,Cu:!0});return Tm(l,Ie)}(yield pc(i),i.asyncQueue,e,n,o)})),o.promise}function up(i,e,n={}){const o=new wi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(l,d,_,R,G){const ne=new vo({next:Be=>{d.enqueueAndForget(()=>Ih(l,Ie)),Be.fromCache&&"server"===R.source?G.reject(new Ht(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(Be)},error:Be=>G.reject(Be)}),Ie=new Th(_,ne,{includeMetadataChanges:!0,Cu:!0});return Tm(l,Ie)}(yield pc(i),i.asyncQueue,e,n,o)})),o.promise}const zm=new Map;function Bh(i,e,n){if(!n)throw new Ht(pt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Gm(i,e,n,o){if(!0===e&&!0===o)throw new Ht(pt.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function cp(i){if(!un.isDocumentKey(i))throw new Ht(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wm(i){if(un.isDocumentKey(i))throw new Ht(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Uh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":_n()}function gi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ht(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(i);throw new Ht(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Km(i,e){if(e<=0)throw new Ht(pt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class jh{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ht(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ht(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Gm("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mc{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jh({}),this._settingsFrozen=!1,e instanceof ya?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ht(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(l.options.projectId)}(e))}get app(){if(!this._app)throw new Ht(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ht(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jh(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new $o;switch(n.type){case"gapi":const o=n.client;return Nn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Go(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Ht(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=zm.get(e);n&&(Vt("ComponentProvider","Removing Datastore"),zm.delete(e),n.terminate())}(this),Promise.resolve()}}function gy(i,e,n,o={}){var l;const d=(i=gi(i,mc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&es("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let _,R;if("string"==typeof o.mockUserToken)_=o.mockUserToken,R=qr.MOCK_USER;else{_=(0,de.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const G=o.mockUserToken.sub||o.mockUserToken.user_id;if(!G)throw new Ht(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new qr(G)}i._authCredentials=new Ll(new Ho(_,R))}}class Gs{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gs(this.firestore,e,this._key)}}class fa{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class nu extends fa{constructor(e,n,o){super(e,n,Ls(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gs(this.firestore,null,new un(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function yy(i,e,...n){if(i=(0,de.m9)(i),Bh("collection","path",e),i instanceof mc){const o=Qt.fromString(e,...n);return Wm(o),new nu(i,null,o)}{if(!(i instanceof Gs||i instanceof nu))throw new Ht(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Qt.fromString(e,...n));return Wm(o),new nu(i.firestore,null,o)}}function qm(i,e){if(i=gi(i,mc),Bh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ht(pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fa(i,null,(n=e,new Pi(Qt.emptyPath(),n)));var n}function _y(i,e,...n){if(i=(0,de.m9)(i),1===arguments.length&&(e=C.R()),Bh("doc","path",e),i instanceof mc){const o=Qt.fromString(e,...n);return cp(o),new Gs(i,null,new un(o))}{if(!(i instanceof Gs||i instanceof nu))throw new Ht(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Qt.fromString(e,...n));return cp(o),new Gs(i.firestore,i instanceof nu?i.converter:null,new un(o))}}function vy(i,e){return i=(0,de.m9)(i),e=(0,de.m9)(e),(i instanceof Gs||i instanceof nu)&&(e instanceof Gs||e instanceof nu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function gc(i,e){return i=(0,de.m9)(i),e=(0,de.m9)(e),i instanceof fa&&e instanceof fa&&i.firestore===e.firestore&&Fa(i._query,e._query)&&i.converter===e.converter}class by{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Rf(this,"async_queue_retry"),this.qa=()=>{const n=vh();n&&Vt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=vh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=vh();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new wi;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,h.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(n){if(!Wl(n))throw n;Vt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,Tr("INTERNAL UNHANDLED ERROR: ",function(d){let _=d.message||"";return d.stack&&(_=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),_}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=n,n}enqueueAfterDelay(e,n,o){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const l=Ch.createAndSchedule(this,e,n,o,d=>this.ja(d));return this.Fa.push(l),l}Ka(){this.$a&&_n()}verifyOperationInProgress(){}Wa(){var e=this;return(0,h.Z)(function*(){let n;do{n=e.ka,yield n}while(n!==e.ka)})()}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function Hh(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Ey{constructor(){this._progressObserver={},this._taskCompletionResolver=new wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Zm=-1;class Yi extends mc{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new by,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Qm(this),this._firestoreClient.terminate()}}function Ym(i=(0,v.getApp)()){return(0,v._getProvider)(i,"firestore").getImmediate()}function eo(i){return i._firestoreClient||Qm(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Qm(i){var e;const n=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Vl(i._databaseId,d,i._persistenceKey,(R=n).host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,R.useFetchStreams));var d,R;i._firestoreClient=new op(i._authCredentials,i._appCheckCredentials,i._queue,o)}function wy(i,e){rg(i=gi(i,Yi));const n=eo(i),o=i._freezeSettings(),l=new Qa;return Xm(n,l,new Vm(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Dy(i){rg(i=gi(i,Yi));const e=eo(i),n=i._freezeSettings(),o=new Qa;return Xm(e,o,new sp(o,n.cacheSizeBytes))}function Xm(i,e,n){const o=new wi;return i.asyncQueue.enqueue((0,h.Z)(function*(){try{yield dc(i,n),yield hc(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(d=l).name?d.code===pt.FAILED_PRECONDITION||d.code===pt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var d})).then(()=>o.promise)}function Jm(i){if(i._initialized&&!i._terminated)throw new Ht(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{yield(n=(0,h.Z)(function*(o){if(!Ia.vt())return Promise.resolve();const l=o+"main";yield Ia.delete(l)}),function(o){return n.apply(this,arguments)})(im(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Cy(i){return function(e){const n=new wi;return e.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function Z_(i,e){return xh.apply(this,arguments)}(yield Lh(e),n)})),n.promise}(eo(i=gi(i,Yi)))}function eg(i){return function Bm(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield fc(i),n=yield ap(i);return e.setNetworkEnabled(!0),function(o){const l=Jt(o);return l.fu.delete(0),Bc(l)}(n)}))}(eo(i=gi(i,Yi)))}function tg(i){return function Um(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield fc(i),n=yield ap(i);return e.setNetworkEnabled(!1),(o=(0,h.Z)(function*(l){const d=Jt(l);d.fu.add(0),yield Uc(d),d.wu.set("Offline")}),function(l){return o.apply(this,arguments)})(n);var o}))}(eo(i=gi(i,Yi)))}function J_(i,e){const n=eo(i=gi(i,Yi)),o=new Ey;return function $m(i,e,n,o){const l=function(d,_){let R;return R="string"==typeof d?(new TextEncoder).encode(d):d,G=function(G,ne){if(G instanceof Uint8Array)return zc(G,void 0);if(G instanceof ArrayBuffer)return zc(new Uint8Array(G),void 0);if(G instanceof ReadableStream)return G.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new cc(G,_);var G}(n,Vc(e));i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){!function Ud(i,e,n){const o=Jt(i);var l;(l=(0,h.Z)(function*(d,_,R){try{const G=yield _.getMetadata();if(yield function(_t,$t){const Zt=Jt(_t),On=po($t.createTime);return Zt.persistence.runTransaction("hasNewerBundle","readonly",Br=>Zt._s.getBundleMetadata(Br,$t.id)).then(Br=>!!Br&&Br.createTime.compareTo(On)>=0)}(d.localStore,G))return yield _.close(),R._completeWith({taskState:"Success",documentsLoaded:(_t=G).totalDocuments,bytesLoaded:_t.totalBytes,totalDocuments:_t.totalDocuments,totalBytes:_t.totalBytes}),Promise.resolve(new Set);R._updateProgress(Sh(G));const ne=new ny(G,d.localStore,_.M);let Ie=yield _.da();for(;Ie;){const _t=yield ne.ku(Ie);_t&&R._updateProgress(_t),Ie=yield _.da()}const Be=yield ne.complete();return yield Nl(d,Be.Fu,void 0),yield function(_t,$t){const Zt=Jt(_t);return Zt.persistence.runTransaction("Save bundle","readwrite",On=>Zt._s.saveBundleMetadata(On,$t))}(d.localStore,G),R._completeWith(Be.progress),Promise.resolve(Be.Ou)}catch(G){return es("SyncEngine",`Loading bundle failed with ${G}`),R._failWith(G),Promise.resolve(new Set)}var _t}),function(d,_,R){return l.apply(this,arguments)})(o,e,n).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Lh(i),l,o)}))}(n,i._databaseId,e,o),o}function dp(i,e){return function my(i,e){return i.asyncQueue.enqueue((0,h.Z)(function*(){return function(n,o){const l=Jt(n);return l.persistence.runTransaction("Get named query","readonly",d=>l._s.getNamedQuery(d,o))}(yield Fh(i),e)}))}(eo(i=gi(i,Yi)),e).then(n=>n?new fa(i,null,n.query):null)}function rg(i){if(i._initialized||i._terminated)throw new Ht(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Ht(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(pi.fromBase64String(e))}catch(n){throw new Ht(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ru(pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class iu{constructor(e){this._methodName=e}}class Gc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ht(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ht(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return b(this._lat,e._lat)||b(this._long,e._long)}}const Iy=/^__.*__$/;class zh{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sl(e,this.data,n,this.fieldTransforms)}}class jd{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Ka(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Gh(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _n()}}class hp{constructor(e,n,o,l,d,_){this.settings=e,this.databaseId=n,this.M=o,this.ignoreUndefinedProperties=l,void 0===d&&this.Ya(),this.fieldTransforms=d||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Za({path:o,ec:!1});return l.nc(e),l}sc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),l=this.Za({path:o,ec:!1});return l.Ya(),l}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Kc(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Gh(this.Xa)&&Iy.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Ty{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=o||Vc(e)}ac(e,n,o,l=!1){return new hp({Xa:e,methodName:n,uc:o,path:Gn.emptyPath(),ec:!1,oc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Fl(i){const e=i._freezeSettings(),n=Vc(i._databaseId);return new Ty(i._databaseId,!!e.ignoreUndefinedProperties,n)}function _c(i,e,n,o,l,d={}){const _=i.ac(d.merge||d.mergeFields?2:0,e,n,l);_p("Data must be an object, but it was:",_,o);const R=Wh(o,_);let G,ne;if(d.merge)G=new Oi(_.fieldMask),ne=_.fieldTransforms;else if(d.mergeFields){const Ie=[];for(const Be of d.mergeFields){const _t=Kh(e,Be,n);if(!_.contains(_t))throw new Ht(pt.INVALID_ARGUMENT,`Field '${_t}' is specified in your field mask but missing from your input data.`);vp(Ie,_t)||Ie.push(_t)}G=new Oi(Ie),ne=_.fieldTransforms.filter(Be=>G.covers(Be.field))}else G=null,ne=_.fieldTransforms;return new zh(new ai(R),G,ne)}class Wc extends iu{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wc}}function fp(i,e,n){return new hp({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Hd extends iu{_toFieldTransform(e){return new cu(e.path,new uu)}isEqual(e){return e instanceof Hd}}class ig extends iu{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=fp(this,e,!0),o=this.cc.map(d=>Ru(d,n)),l=new La(o);return new cu(e.path,l)}isEqual(e){return this===e}}class sg extends iu{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=fp(this,e,!0),o=this.cc.map(d=>Ru(d,n)),l=new ll(o);return new cu(e.path,l)}isEqual(e){return this===e}}class pp extends iu{constructor(e,n){super(e),this.hc=n}_toFieldTransform(e){const n=new Tl(e.M,Hl(e.M,this.hc));return new cu(e.path,n)}isEqual(e){return this===e}}function $d(i,e,n,o){const l=i.ac(1,e,n);_p("Data must be an object, but it was:",l,o);const d=[],_=ai.empty();Et(o,(G,ne)=>{const Ie=zd(e,G,n);ne=(0,de.m9)(ne);const Be=l.sc(Ie);if(ne instanceof Wc)d.push(Ie);else{const _t=Ru(ne,Be);null!=_t&&(d.push(Ie),_.set(Ie,_t))}});const R=new Oi(d);return new jd(_,R,l.fieldTransforms)}function mp(i,e,n,o,l,d){const _=i.ac(1,e,n),R=[Kh(e,o,n)],G=[l];if(d.length%2!=0)throw new Ht(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _t=0;_t<d.length;_t+=2)R.push(Kh(e,d[_t])),G.push(d[_t+1]);const ne=[],Ie=ai.empty();for(let _t=R.length-1;_t>=0;--_t)if(!vp(ne,R[_t])){const $t=R[_t];let Zt=G[_t];Zt=(0,de.m9)(Zt);const On=_.sc($t);if(Zt instanceof Wc)ne.push($t);else{const Br=Ru(Zt,On);null!=Br&&(ne.push($t),Ie.set($t,Br))}}const Be=new Oi(ne);return new jd(Ie,Be,_.fieldTransforms)}function gp(i,e,n,o=!1){return Ru(n,i.ac(o?4:3,e))}function Ru(i,e){if(yp(i=(0,de.m9)(i)))return _p("Unsupported field value:",e,i),Wh(i,e);if(i instanceof iu)return function(n,o){if(!Gh(o.Xa))throw o.rc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(n,o){const l=[];let d=0;for(const _ of n){let R=Ru(_,o.ic(d));null==R&&(R={nullValue:"NULL_VALUE"}),l.push(R),d++}return{arrayValue:{values:l}}}(i,e)}return function(n,o){if(null===(n=(0,de.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Hl(o.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=J.fromDate(n);return{timestampValue:Wu(o.M,l)}}if(n instanceof J){const l=new J(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Wu(o.M,l)}}if(n instanceof Gc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ru)return{bytesValue:th(o.M,n._byteString)};if(n instanceof Gs){const l=o.databaseId,d=n.firestore._databaseId;if(!d.isEqual(l))throw o.rc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ml(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.rc(`Unsupported field value: ${Uh(n)}`)}(i,e)}function Wh(i,e){const n={};return on(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Et(i,(o,l)=>{const d=Ru(l,e.tc(o));null!=d&&(n[o]=d)}),{mapValue:{fields:n}}}function yp(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof J||i instanceof Gc||i instanceof ru||i instanceof Gs||i instanceof iu)}function _p(i,e,n){if(!yp(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Uh(n);throw e.rc("an object"===o?i+" a custom object":i+" "+o)}var o}function Kh(i,e,n){if((e=(0,de.m9)(e))instanceof yc)return e._internalPath;if("string"==typeof e)return zd(i,e);throw Kc("Field path arguments must be of type string or ",i,!1,void 0,n)}const og=new RegExp("[~\\*/\\[\\]]");function zd(i,e,n){if(e.search(og)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new yc(...e.split("."))._internalPath}catch(o){throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kc(i,e,n,o,l){const d=o&&!o.isEmpty(),_=void 0!==l;let R=`Function ${e}() called with invalid data`;n&&(R+=" (via `toFirestore()`)"),R+=". ";let G="";return(d||_)&&(G+=" (found",d&&(G+=` in field ${o}`),_&&(G+=` in document ${l}`),G+=")"),new Ht(pt.INVALID_ARGUMENT,R+i+G)}function vp(i,e){return i.some(n=>n.isEqual(e))}class qc{constructor(e,n,o,l,d){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Gs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ag(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ag extends qc{data(){return super.data()}}function Gd(i,e){return"string"==typeof e?zd(i,e):e instanceof yc?e._internalPath:e._delegate._internalPath}class Ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ku extends qc{constructor(e,n,o,l,d,_){super(e,n,o,l,_),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Gd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Zc extends ku{data(e={}){return super.data(e)}}class Pu{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ou(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Zc(this._firestore,this._userDataWriter,o.key,o,new Ou(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ht(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(_=>({type:"added",doc:new Zc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Ou(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const R=new Zc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new Ou(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let G=-1,ne=-1;return 0!==_.type&&(G=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),1!==_.type&&(d=d.add(_.doc),ne=d.indexOf(_.doc.key)),{type:ev(_.type),doc:R,oldIndex:G,newIndex:ne}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ev(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _n()}}function Sy(i,e){return i instanceof ku&&e instanceof ku?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Pu&&e instanceof Pu&&i._firestore===e._firestore&&gc(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function lg(i){if(Cl(i)&&0===i.explicitOrderBy.length)throw new Ht(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yc{}function Ay(i,...e){for(const n of e)i=n._apply(i);return i}class bo extends Yc{constructor(e,n,o){super(),this.lc=e,this.fc=n,this.dc=o,this.type="where"}_apply(e){const n=Fl(e.firestore),o=function(l,d,_,R,G,ne,Ie){let Be;if(G.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new Ht(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){qh(Ie,ne);const $t=[];for(const Zt of Ie)$t.push(Py(R,l,Zt));Be={arrayValue:{values:$t}}}else Be=Py(R,l,Ie)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||qh(Ie,ne),Be=gp(_,"where",Ie,"in"===ne||"not-in"===ne);const _t=Q.create(G,ne,Be);return function($t,Zt){if(Zt.S()){const Br=Il($t);if(null!==Br&&!Br.isEqual(Zt.field))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Br.toString()}' and '${Zt.field.toString()}'`);const Ts=sl($t);null!==Ts&&Zh(0,Zt.field,Ts)}const On=function(Br,Ts){for(const to of Br.filters)if(Ts.indexOf(to.op)>=0)return to.op;return null}($t,function(Br){switch(Br){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Zt.op));if(null!==On)throw new Ht(pt.INVALID_ARGUMENT,On===Zt.op?`Invalid query. You cannot use more than one '${Zt.op.toString()}' filter.`:`Invalid query. You cannot use '${Zt.op.toString()}' filters with '${On.toString()}' filters.`)}(l,_t),_t}(e._query,0,n,e.firestore._databaseId,this.lc,this.fc,this.dc);return new fa(e.firestore,e.converter,function(l,d){const _=l.filters.concat([d]);return new Pi(l.path,l.collectionGroup,l.explicitOrderBy.slice(),_,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}function ug(i,e,n){const o=e,l=Gd("where",i);return new bo(l,o,n)}class My extends Yc{constructor(e,n){super(),this.lc=e,this._c=n,this.type="orderBy"}_apply(e){const n=function(o,l,d){if(null!==o.startAt)throw new Ht(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ht(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new ds(l,d);return function(R,G){if(null===sl(R)){const ne=Il(R);null!==ne&&Zh(0,ne,G.field)}}(o,_),_}(e._query,this.lc,this._c);return new fa(e.firestore,e.converter,function(o,l){const d=o.explicitOrderBy.concat([l]);return new Pi(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function xy(i,e="asc"){const n=e,o=Gd("orderBy",i);return new My(o,n)}class bp extends Yc{constructor(e,n,o){super(),this.type=e,this.wc=n,this.mc=o}_apply(e){return new fa(e.firestore,e.converter,ol(e._query,this.wc,this.mc))}}function Ry(i){return Km("limit",i),new bp("limit",i,"F")}function cg(i){return Km("limitToLast",i),new bp("limitToLast",i,"L")}class Ep extends Yc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=wp(e,this.type,this.gc,this.yc);return new fa(e.firestore,e.converter,(l=n,new Pi((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}function Qc(...i){return new Ep("startAt",i,!0)}function Oy(...i){return new Ep("startAfter",i,!1)}class dg extends Yc{constructor(e,n,o){super(),this.type=e,this.gc=n,this.yc=o}_apply(e){const n=wp(e,this.type,this.gc,this.yc);return new fa(e.firestore,e.converter,(l=n,new Pi((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function hg(...i){return new dg("endBefore",i,!1)}function ky(...i){return new dg("endAt",i,!0)}function wp(i,e,n,o){if(n[0]=(0,de.m9)(n[0]),n[0]instanceof qc)return function(l,d,_,R,G){if(!R)throw new Ht(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const ne=[];for(const Ie of za(l))if(Ie.field.isKeyField())ne.push(va(d,R.key));else{const Be=R.data.field(Ie.field);if(uo(Be))throw new Ht(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ie.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Be){const _t=Ie.field.canonicalString();throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_t}' (used as the orderBy) does not exist.`)}ne.push(Be)}return new jn(ne,G)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const l=Fl(i.firestore);return function(d,_,R,G,ne,Ie){const Be=d.explicitOrderBy;if(ne.length>Be.length)throw new Ht(pt.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const _t=[];for(let $t=0;$t<ne.length;$t++){const Zt=ne[$t];if(Be[$t].field.isKeyField()){if("string"!=typeof Zt)throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof Zt}`);if(!jl(d)&&-1!==Zt.indexOf("/"))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${Zt}' contains a slash.`);const On=d.path.child(Qt.fromString(Zt));if(!un.isDocumentKey(On))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${On}' is not because it contains an odd number of segments.`);const Br=new un(On);_t.push(va(_,Br))}else{const On=gp(R,G,Zt);_t.push(On)}}return new jn(_t,Ie)}(i._query,i.firestore._databaseId,l,e,n,o)}}function Py(i,e,n){if("string"==typeof(n=(0,de.m9)(n))){if(""===n)throw new Ht(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jl(e)&&-1!==n.indexOf("/"))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Qt.fromString(n));if(!un.isDocumentKey(o))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return va(i,new un(o))}if(n instanceof Gs)return va(i,n._key);throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function qh(i,e){if(!Array.isArray(i)||0===i.length)throw new Ht(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ht(pt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Zh(i,e,n){if(!n.isEqual(e))throw new Ht(pt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Ja{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw _n()}}convertObject(e,n){const o={};return Et(e.fields,(l,d)=>{o[l]=this.convertValue(d,n)}),o}convertGeoPoint(e){return new Gc(Xr(e.latitude),Xr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Ha(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new J(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Qt.fromString(e);Nn(df(o));const l=new ya(o.get(1),o.get(3)),d=new un(o.popFirst(5));return l.isEqual(n)||Tr(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function Yh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Ny extends Ja{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,n)}}class _l{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fl(e)}set(e,n,o){this._verifyNotCommitted();const l=So(e,this._firestore),d=Yh(l.converter,n,o),_=_c(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,o);return this._mutations.push(_.toMutation(l._key,hs.none())),this}update(e,n,o,...l){this._verifyNotCommitted();const d=So(e,this._firestore);let _;return _="string"==typeof(n=(0,de.m9)(n))||n instanceof yc?mp(this._dataReader,"WriteBatch.update",d._key,n,o,l):$d(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(_.toMutation(d._key,hs.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=So(e,this._firestore);return this._mutations=this._mutations.concat(new f(n._key,hs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ht(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function So(i,e){if((i=(0,de.m9)(i)).firestore!==e)throw new Ht(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function vl(i){i=gi(i,Gs);const e=gi(i.firestore,Yi);return lp(eo(e),i._key).then(n=>Xc(e,i,n))}class Nu extends Ja{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gs(this.firestore,null,n)}}function fg(i){i=gi(i,Gs);const e=gi(i.firestore,Yi),n=eo(e),o=new Nu(e);return function jm(i,e){const n=new wi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(o=(0,h.Z)(function*(l,d,_){try{const R=yield function(G,ne){const Ie=Jt(G);return Ie.persistence.runTransaction("read document","readonly",Be=>Ie.ci.Ls(Be,ne))}(l,d);R.isFoundDocument()?_.resolve(R):R.isNoDocument()?_.resolve(null):_.reject(new Ht(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const G=lc(R,`Failed to get document '${d} from cache`);_.reject(G)}}),function(l,d,_){return o.apply(this,arguments)})(yield Fh(i),e,n);var o})),n.promise}(n,i._key).then(l=>new ku(e,o,i._key,l,new Ou(null!==l&&l.hasLocalMutations,!0),i.converter))}function Fy(i){i=gi(i,Gs);const e=gi(i.firestore,Yi);return lp(eo(e),i._key,{source:"server"}).then(n=>Xc(e,i,n))}function Ly(i){i=gi(i,fa);const e=gi(i.firestore,Yi),n=eo(e),o=new Nu(e);return lg(i._query),up(n,i._query).then(l=>new Pu(e,o,i,l))}function Vy(i){i=gi(i,fa);const e=gi(i.firestore,Yi),n=eo(e),o=new Nu(e);return function fy(i,e){const n=new wi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(o=(0,h.Z)(function*(l,d,_){try{const R=yield Sf(l,d,!0),G=new $f(d,R.li),ne=G.Gu(R.documents),Ie=G.applyChanges(ne,!1);_.resolve(Ie.snapshot)}catch(R){const G=lc(R,`Failed to execute query '${d} against cache`);_.reject(G)}}),function(l,d,_){return o.apply(this,arguments)})(yield Fh(i),e,n);var o})),n.promise}(n,i._query).then(l=>new Pu(e,o,i,l))}function By(i){i=gi(i,fa);const e=gi(i.firestore,Yi),n=eo(e),o=new Nu(e);return up(n,i._query,{source:"server"}).then(l=>new Pu(e,o,i,l))}function Dp(i,e,n){i=gi(i,Gs);const o=gi(i.firestore,Yi),l=Yh(i.converter,e,n);return vc(o,[_c(Fl(o),"setDoc",i._key,l,null!==i.converter,n).toMutation(i._key,hs.none())])}function Wd(i,e,n,...o){i=gi(i,Gs);const l=gi(i.firestore,Yi),d=Fl(l);let _;return _="string"==typeof(e=(0,de.m9)(e))||e instanceof yc?mp(d,"updateDoc",i._key,e,n,o):$d(d,"updateDoc",i._key,e),vc(l,[_.toMutation(i._key,hs.exists(!0))])}function Uy(i){return vc(gi(i.firestore,Yi),[new f(i._key,hs.none())])}function pg(i,e){const n=gi(i.firestore,Yi),o=_y(i),l=Yh(i.converter,e);return vc(n,[_c(Fl(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,hs.exists(!1))]).then(()=>o)}function jy(i,...e){var n,o,l;i=(0,de.m9)(i);let d={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||Hh(e[_])||(d=e[_],_++);const R={includeMetadataChanges:d.includeMetadataChanges};if(Hh(e[_])){const Be=e[_];e[_]=null===(n=Be.next)||void 0===n?void 0:n.bind(Be),e[_+1]=null===(o=Be.error)||void 0===o?void 0:o.bind(Be),e[_+2]=null===(l=Be.complete)||void 0===l?void 0:l.bind(Be)}let G,ne,Ie;if(i instanceof Gs)ne=gi(i.firestore,Yi),Ie=Ls(i._key.path),G={next:Be=>{e[_]&&e[_](Xc(ne,i,Be))},error:e[_+1],complete:e[_+2]};else{const Be=gi(i,fa);ne=gi(Be.firestore,Yi),Ie=Be._query;const _t=new Nu(ne);G={next:$t=>{e[_]&&e[_](new Pu(ne,_t,Be,$t))},error:e[_+1],complete:e[_+2]},lg(i._query)}return function(Be,_t,$t,Zt){const On=new vo(Zt),Br=new Th(_t,On,$t);return Be.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return Tm(yield pc(Be),Br)})),()=>{On.Ia(),Be.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return Ih(yield pc(Be),Br)}))}}(eo(ne),Ie,R,G)}function mg(i,e){return function py(i,e){const n=new vo(e);return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return o=yield pc(i),l=n,Jt(o).Eu.add(l),void l.next();var o,l})),()=>{n.Ia(),i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return o=yield pc(i),l=n,void Jt(o).Eu.delete(l);var o,l}))}}(eo(i=gi(i,Yi)),Hh(e)?e:{next:e})}function vc(i,e){return function(n,o){const l=new wi;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function Pl(i,e,n){return Ld.apply(this,arguments)}(yield Lh(n),o,l)})),l.promise}(eo(i),e)}function Xc(i,e,n){const o=n.docs.get(e._key),l=new Nu(i);return new ku(i,l,e._key,o,new Ou(n.hasPendingWrites,n.fromCache),e.converter)}class Hy extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Fl(e)}get(e){const n=So(e,this._firestore),o=new Ny(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return _n();const d=l[0];if(d.isFoundDocument())return new qc(this._firestore,o,d.key,d,n.converter);if(d.isNoDocument())return new qc(this._firestore,o,n._key,null,n.converter);throw _n()})}set(e,n,o){const l=So(e,this._firestore),d=Yh(l.converter,n,o),_=_c(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,o);return this._transaction.set(l._key,_),this}update(e,n,o,...l){const d=So(e,this._firestore);let _;return _="string"==typeof(n=(0,de.m9)(n))||n instanceof yc?mp(this._dataReader,"Transaction.update",d._key,n,o,l):$d(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,_),this}delete(e){const n=So(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=So(e,this._firestore),o=new Nu(this._firestore);return super.get(e).then(l=>new ku(this._firestore,o,n._key,l._document,new Ou(!1,!1),n.converter))}}function gg(i,e){return function Hm(i,e){const n=new wi;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){const o=yield(l=i,tu(l).then(d=>d.datastore));var l;new Xa(i.asyncQueue,o,e,n).run()})),n.promise}(eo(i=gi(i,Yi)),n=>e(new Hy(i,n)))}function yg(){return new Wc("deleteField")}function Cp(){return new Hd("serverTimestamp")}function Qh(...i){return new ig("arrayUnion",i)}function _g(...i){return new sg("arrayRemove",i)}function vg(i){return new pp("increment",i)}!function(i,e=!0){fr=v.SDK_VERSION,(0,v._registerComponent)(new oe.wA("firestore",(n,{options:o})=>{const l=n.getProvider("app").getImmediate(),d=new Yi(l,new tl(n.getProvider("auth-internal")),new Co(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC")),(0,v.registerVersion)(Mi,"3.4.8",i),(0,v.registerVersion)(Mi,"3.4.8","esm2017")}()},2090:(Yt,ze,k)=>{k.d(ze,{$s:()=>_r,BH:()=>Ge,G6:()=>jt,L:()=>Te,LL:()=>Pt,Lj:()=>Qe,Mn:()=>kt,Sg:()=>Ke,UG:()=>Xe,US:()=>Re,X3:()=>Ce,ZB:()=>De,ZR:()=>We,b$:()=>je,d:()=>be,eu:()=>et,hl:()=>Bt,jU:()=>St,m9:()=>pn,ne:()=>an,pd:()=>cr,r3:()=>kn,ru:()=>Ye,tV:()=>se,uI:()=>Ue,vZ:()=>lr,w1:()=>qe,xO:()=>Sn,xb:()=>Kn,z$:()=>dt,zI:()=>nt,zd:()=>rr});var h=k(5861);const de=function(we){const me=[];let Se=0;for(let Ze=0;Ze<we.length;Ze++){let $e=we.charCodeAt(Ze);$e<128?me[Se++]=$e:$e<2048?(me[Se++]=$e>>6|192,me[Se++]=63&$e|128):55296==(64512&$e)&&Ze+1<we.length&&56320==(64512&we.charCodeAt(Ze+1))?($e=65536+((1023&$e)<<10)+(1023&we.charCodeAt(++Ze)),me[Se++]=$e>>18|240,me[Se++]=$e>>12&63|128,me[Se++]=$e>>6&63|128,me[Se++]=63&$e|128):(me[Se++]=$e>>12|224,me[Se++]=$e>>6&63|128,me[Se++]=63&$e|128)}return me},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,me){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let $e=0;$e<we.length;$e+=3){const Gt=we[$e],Ne=$e+1<we.length,ye=Ne?we[$e+1]:0,ge=$e+2<we.length,Ve=ge?we[$e+2]:0;let gn=(15&ye)<<2|Ve>>6,Ar=63&Ve;ge||(Ar=64,Ne||(gn=64)),Ze.push(Se[Gt>>2],Se[(3&Gt)<<4|ye>>4],Se[gn],Se[Ar])}return Ze.join("")},encodeString(we,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(we):this.encodeByteArray(de(we),me)},decodeString(we,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(we):function(we){const me=[];let Se=0,Ze=0;for(;Se<we.length;){const $e=we[Se++];if($e<128)me[Ze++]=String.fromCharCode($e);else if($e>191&&$e<224){const Gt=we[Se++];me[Ze++]=String.fromCharCode((31&$e)<<6|63&Gt)}else if($e>239&&$e<365){const ge=((7&$e)<<18|(63&we[Se++])<<12|(63&we[Se++])<<6|63&we[Se++])-65536;me[Ze++]=String.fromCharCode(55296+(ge>>10)),me[Ze++]=String.fromCharCode(56320+(1023&ge))}else{const Gt=we[Se++],Ne=we[Se++];me[Ze++]=String.fromCharCode((15&$e)<<12|(63&Gt)<<6|63&Ne)}}return me.join("")}(this.decodeStringToByteArray(we,me))},decodeStringToByteArray(we,me){this.init_();const Se=me?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let $e=0;$e<we.length;){const Gt=Se[we.charAt($e++)],ye=$e<we.length?Se[we.charAt($e)]:0;++$e;const Ve=$e<we.length?Se[we.charAt($e)]:64;++$e;const Wt=$e<we.length?Se[we.charAt($e)]:64;if(++$e,null==Gt||null==ye||null==Ve||null==Wt)throw Error();Ze.push(Gt<<2|ye>>4),64!==Ve&&(Ze.push(ye<<4&240|Ve>>2),64!==Wt&&Ze.push(Ve<<6&192|Wt))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}},Te=function(we){return function(we){const me=de(we);return Re.encodeByteArray(me,!0)}(we).replace(/\./g,"")},se=function(we){try{return Re.decodeString(we,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function De(we,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return me}for(const Se in me)!me.hasOwnProperty(Se)||!ot(Se)||(we[Se]=De(we[Se],me[Se]));return we}function ot(we){return"__proto__"!==we}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,Se)=>{this.resolve=me,this.reject=Se})}wrapCallback(me){return(Se,Ze)=>{Se?this.reject(Se):this.resolve(Ze),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(Se):me(Se,Ze))}}}function Ke(we,me){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ze=me||"demo-project",$e=we.iat||0,Gt=we.sub||we.user_id;if(!Gt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${Ze}`,aud:Ze,iat:$e,exp:$e+3600,auth_time:$e,sub:Gt,user_id:Gt,firebase:{sign_in_provider:"custom",identities:{}}},we);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Ne)),""].join(".")}function dt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function Xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(we){return!1}}function St(){return"object"==typeof self&&self.self===self}function Ye(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function je(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){return dt().indexOf("Electron/")>=0}function qe(){const we=dt();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function kt(){return dt().indexOf("MSAppHost/")>=0}function jt(){return!Xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bt(){return"object"==typeof indexedDB}function et(){return new Promise((we,me)=>{try{let Se=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",$e=self.indexedDB.open(Ze);$e.onsuccess=()=>{$e.result.close(),Se||self.indexedDB.deleteDatabase(Ze),we(!0)},$e.onupgradeneeded=()=>{Se=!1},$e.onerror=()=>{var Gt;me((null===(Gt=$e.error)||void 0===Gt?void 0:Gt.message)||"")}}catch(Se){me(Se)}})}function nt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class We extends Error{constructor(me,Se,Ze){super(Se),this.code=me,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(me,Se,Ze){this.service=me,this.serviceName=Se,this.errors=Ze}create(me,...Se){const Ze=Se[0]||{},$e=`${this.service}/${me}`,Gt=this.errors[me],Ne=Gt?function Kt(we,me){return we.replace(dn,(Se,Ze)=>{const $e=me[Ze];return null!=$e?String($e):`<${Ze}?>`})}(Gt,Ze):"Error";return new We($e,`${this.serviceName}: ${Ne} (${$e}).`,Ze)}}const dn=/\{\$([^}]+)}/g;function kn(we,me){return Object.prototype.hasOwnProperty.call(we,me)}function Kn(we){for(const me in we)if(Object.prototype.hasOwnProperty.call(we,me))return!1;return!0}function lr(we,me){if(we===me)return!0;const Se=Object.keys(we),Ze=Object.keys(me);for(const $e of Se){if(!Ze.includes($e))return!1;const Gt=we[$e],Ne=me[$e];if(gr(Gt)&&gr(Ne)){if(!lr(Gt,Ne))return!1}else if(Gt!==Ne)return!1}for(const $e of Ze)if(!Se.includes($e))return!1;return!0}function gr(we){return null!==we&&"object"==typeof we}function Sn(we){const me=[];for(const[Se,Ze]of Object.entries(we))Array.isArray(Ze)?Ze.forEach($e=>{me.push(encodeURIComponent(Se)+"="+encodeURIComponent($e))}):me.push(encodeURIComponent(Se)+"="+encodeURIComponent(Ze));return me.length?"&"+me.join("&"):""}function rr(we){const me={};return we.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[$e,Gt]=Ze.split("=");me[decodeURIComponent($e)]=decodeURIComponent(Gt)}}),me}function cr(we){const me=we.indexOf("?");if(!me)return"";const Se=we.indexOf("#",me);return we.substring(me,Se>0?Se:void 0)}function an(we,me){const Se=new Wn(we,me);return Se.subscribe.bind(Se)}class Wn{constructor(me,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{me(this)}).catch(Ze=>{this.error(Ze)})}next(me){this.forEachObserver(Se=>{Se.next(me)})}error(me){this.forEachObserver(Se=>{Se.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,Se,Ze){let $e;if(void 0===me&&void 0===Se&&void 0===Ze)throw new Error("Missing Observer.");$e=function Zn(we,me){if("object"!=typeof we||null===we)return!1;for(const Se of me)if(Se in we&&"function"==typeof we[Se])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:Se,complete:Ze},void 0===$e.next&&($e.next=kr),void 0===$e.error&&($e.error=kr),void 0===$e.complete&&($e.complete=kr);const Gt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$e.error(this.finalError):$e.complete()}catch(Ne){}}),this.observers.push($e),Gt}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,me)}sendOne(me,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{Se(this.observers[me])}catch(Ze){"undefined"!=typeof console&&console.error&&console.error(Ze)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kr(){}function _r(we,me=1e3,Se=2){const Ze=me*Math.pow(Se,we),$e=Math.round(.5*Ze*(Math.random()-.5)*2);return Math.min(144e5,Ze+$e)}function pn(we){return we&&we._delegate?we._delegate:we}function Lr(we,me){return new Promise((Se,Ze)=>{we.onsuccess=$e=>{Se($e.target.result)},we.onerror=$e=>{var Gt;Ze(`${me}: ${null===(Gt=$e.target.error)||void 0===Gt?void 0:Gt.message}`)}})}class ct{constructor(me){this._db=me,this.objectStoreNames=this._db.objectStoreNames}transaction(me,Se="readonly"){return new ee(this._db.transaction.call(this._db,me,Se))}createObjectStore(me,Se){return new H(this._db.createObjectStore(me,Se))}close(){this._db.close()}}class ee{constructor(me){this._transaction=me,this.complete=new Promise((Se,Ze)=>{this._transaction.oncomplete=function(){Se()},this._transaction.onerror=()=>{Ze(this._transaction.error)},this._transaction.onabort=()=>{Ze(this._transaction.error)}})}objectStore(me){return new H(this._transaction.objectStore(me))}}class H{constructor(me){this._store=me}index(me){return new q(this._store.index(me))}createIndex(me,Se,Ze){return new q(this._store.createIndex(me,Se,Ze))}get(me){return Lr(this._store.get(me),"Error reading from IndexedDB")}put(me,Se){return Lr(this._store.put(me,Se),"Error writing to IndexedDB")}delete(me){return Lr(this._store.delete(me),"Error deleting from IndexedDB")}clear(){return Lr(this._store.clear(),"Error clearing IndexedDB object store")}}class q{constructor(me){this._index=me}get(me){return Lr(this._index.get(me),"Error reading from IndexedDB")}}function Ce(we,me,Se){return new Promise((Ze,$e)=>{try{const Gt=indexedDB.open(we,me);Gt.onsuccess=Ne=>{Ze(new ct(Ne.target.result))},Gt.onerror=Ne=>{var ye;$e(`Error opening indexedDB: ${null===(ye=Ne.target.error)||void 0===ye?void 0:ye.message}`)},Gt.onupgradeneeded=Ne=>{Se(new ct(Gt.result),Ne.oldVersion,Ne.newVersion,new ee(Gt.transaction))}}catch(Gt){$e(`Error opening indexedDB: ${Gt.message}`)}})}function Qe(we){return At.apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(we){return new Promise((me,Se)=>{try{const Ze=indexedDB.deleteDatabase(we);Ze.onsuccess=()=>{me()},Ze.onerror=$e=>{var Gt;Se(`Error deleting indexedDB database "${we}": ${null===(Gt=$e.target.error)||void 0===Gt?void 0:Gt.message}`)}}catch(Ze){Se(`Error deleting indexedDB database "${we}": ${Ze.message}`)}})})).apply(this,arguments)}},8515:(Yt,ze,k)=>{k.r(ze),k.d(ze,{Error404Module:()=>Re});var h=k(9808),v=k(994),oe=k(5e3);const de=[{path:"",component:(()=>{class ae{constructor(){}ngOnInit(){}}return ae.\u0275fac=function(se){return new(se||ae)},ae.\u0275cmp=oe.Xpm({type:ae,selectors:[["app-error404"]],decls:2,vars:0,template:function(se,he){1&se&&(oe.TgZ(0,"p"),oe._uU(1,"Error 404: not found"),oe.qZA())},styles:[""]}),ae})()}];let Ae=(()=>{class ae{}return ae.\u0275fac=function(se){return new(se||ae)},ae.\u0275mod=oe.oAB({type:ae}),ae.\u0275inj=oe.cJS({imports:[[v.Bz.forChild(de)],v.Bz]}),ae})(),Re=(()=>{class ae{}return ae.\u0275fac=function(se){return new(se||ae)},ae.\u0275mod=oe.oAB({type:ae}),ae.\u0275inj=oe.cJS({imports:[[h.ez,Ae]]}),ae})()},629:(Yt,ze,k)=>{k.d(ze,{e:()=>oe});var h=k(5e3),v=k(1205);let oe=(()=>{class pe{constructor(Ae){this.auth=Ae}login(Ae,Re){return this.auth.signInWithEmailAndPassword(Ae,Re)}register(Ae,Re){return this.auth.createUserWithEmailAndPassword(Ae,Re)}getAuthUser(){return this.auth.user}}return pe.\u0275fac=function(Ae){return new(Ae||pe)(h.LFG(v.zQ))},pe.\u0275prov=h.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},1426:(Yt,ze,k)=>{var h=k(2313),v=k(5e3),oe=k(994);let pe=(()=>{class I{canActivate(m,M){return"null"!==localStorage.getItem("user")}}return I.\u0275fac=function(m){return new(m||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),de=(()=>{class I{canActivate(m,M){return"null"===localStorage.getItem("user")}}return I.\u0275fac=function(m){return new(m||I)},I.\u0275prov=v.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();const Ae=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"insurance",loadChildren:()=>Promise.all([k.e(531),k.e(881),k.e(493),k.e(10)]).then(k.bind(k,5010)).then(I=>I.InsuranceModule),canActivate:[pe]},{path:"list",loadChildren:()=>Promise.all([k.e(531),k.e(881),k.e(493),k.e(564)]).then(k.bind(k,2564)).then(I=>I.ListModule),canActivate:[pe]},{path:"login",loadChildren:()=>Promise.all([k.e(531),k.e(903)]).then(k.bind(k,1903)).then(I=>I.LoginModule),canActivate:[de]},{path:"register",loadChildren:()=>Promise.all([k.e(531),k.e(970)]).then(k.bind(k,7970)).then(I=>I.RegisterModule),canActivate:[de]},{path:"error404",loadChildren:()=>Promise.resolve().then(k.bind(k,8515)).then(I=>I.Error404Module)},{path:"**",redirectTo:"/error404"}];let Re=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[oe.Bz.forRoot(Ae)],oe.Bz]}),I})();var ae=k(9300),Te=k(629),se=k(5494),he=k(9808),De=k(508),ot=k(3191),Ge=k(1159),Ke=k(7579),dt=k(4968),Ue=k(6451),Xe=k(4004);function St(I){return(0,Xe.U)(()=>I)}var Ye=k(2722),je=k(1884),be=k(5698),qe=k(8675),kt=k(8372),Fe=k(1777),jt=k(6360),Bt=k(8255),et=k(925),nt=k(226);const ut=["*"],gt=["content"];function We(I,E){if(1&I){const m=v.EpF();v.TgZ(0,"div",2),v.NdJ("click",function(){return v.CHM(m),v.oxw()._onBackdropClicked()}),v.qZA()}if(2&I){const m=v.oxw();v.ekj("mat-drawer-shown",m._isShowingBackdrop())}}function Pt(I,E){1&I&&(v.TgZ(0,"mat-drawer-content"),v.Hsn(1,2),v.qZA())}const Kt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],dn=["mat-drawer","mat-drawer-content","*"];function vn(I,E){if(1&I){const m=v.EpF();v.TgZ(0,"div",2),v.NdJ("click",function(){return v.CHM(m),v.oxw()._onBackdropClicked()}),v.qZA()}if(2&I){const m=v.oxw();v.ekj("mat-drawer-shown",m._isShowingBackdrop())}}function Tt(I,E){1&I&&(v.TgZ(0,"mat-sidenav-content"),v.Hsn(1,2),v.qZA())}const mn=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],An=["mat-sidenav","mat-sidenav-content","*"],hn={transformDrawer:(0,Fe.X$)("transform",[(0,Fe.SB)("open, open-instant",(0,Fe.oB)({transform:"none",visibility:"visible"})),(0,Fe.SB)("void",(0,Fe.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Fe.eR)("void => open-instant",(0,Fe.jt)("0ms")),(0,Fe.eR)("void <=> open, open-instant => void",(0,Fe.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},kn=new v.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Kn(){return!1}}),Dn=new v.OlP("MAT_DRAWER_CONTAINER");let ur=(()=>{class I extends se.PQ{constructor(m,M,Y,fe,Je){super(Y,fe,Je),this._changeDetectorRef=m,this._container=M}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return I.\u0275fac=function(m){return new(m||I)(v.Y36(v.sBO),v.Y36((0,v.Gpc)(()=>gr)),v.Y36(v.SBq),v.Y36(se.mF),v.Y36(v.R0b))},I.\u0275cmp=v.Xpm({type:I,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(m,M){2&m&&v.Udp("margin-left",M._container._contentMargins.left,"px")("margin-right",M._container._contentMargins.right,"px")},features:[v._Bn([{provide:se.PQ,useExisting:I}]),v.qOj],ngContentSelectors:ut,decls:1,vars:0,template:function(m,M){1&m&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),I})(),lr=(()=>{class I{constructor(m,M,Y,fe,Je,Ft,xt,Tn){this._elementRef=m,this._focusTrapFactory=M,this._focusMonitor=Y,this._platform=fe,this._ngZone=Je,this._interactivityChecker=Ft,this._doc=xt,this._container=Tn,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ke.x,this._animationEnd=new Ke.x,this._animationState="void",this.openedChange=new v.vpe(!0),this._openedStream=this.openedChange.pipe((0,ae.h)(fn=>fn),(0,Xe.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,ae.h)(fn=>fn.fromState!==fn.toState&&0===fn.toState.indexOf("open")),St(void 0)),this._closedStream=this.openedChange.pipe((0,ae.h)(fn=>!fn),(0,Xe.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,ae.h)(fn=>fn.fromState!==fn.toState&&"void"===fn.toState),St(void 0)),this._destroyed=new Ke.x,this.onPositionChanged=new v.vpe,this._modeChanged=new Ke.x,this.openedChange.subscribe(fn=>{fn?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,dt.R)(this._elementRef.nativeElement,"keydown").pipe((0,ae.h)(fn=>fn.keyCode===Ge.hY&&!this.disableClose&&!(0,Ge.Vb)(fn)),(0,Ye.R)(this._destroyed)).subscribe(fn=>this._ngZone.run(()=>{this.close(),fn.stopPropagation(),fn.preventDefault()}))}),this._animationEnd.pipe((0,je.x)((fn,Qr)=>fn.fromState===Qr.fromState&&fn.toState===Qr.toState)).subscribe(fn=>{const{fromState:Qr,toState:ui}=fn;(0===ui.indexOf("open")&&"void"===Qr||"void"===ui&&0===Qr.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(m){(m="end"===m?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(m),this._position=m,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(m){this._mode=m,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(m){this._disableClose=(0,ot.Ig)(m)}get autoFocus(){const m=this._autoFocus;return null==m?"side"===this.mode?"dialog":"first-tabbable":m}set autoFocus(m){("true"===m||"false"===m||null==m)&&(m=(0,ot.Ig)(m)),this._autoFocus=m}get opened(){return this._opened}set opened(m){this.toggle((0,ot.Ig)(m))}_forceFocus(m,M){this._interactivityChecker.isFocusable(m)||(m.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Y=()=>{m.removeEventListener("blur",Y),m.removeEventListener("mousedown",Y),m.removeAttribute("tabindex")};m.addEventListener("blur",Y),m.addEventListener("mousedown",Y)})),m.focus(M)}_focusByCssSelector(m,M){let Y=this._elementRef.nativeElement.querySelector(m);Y&&this._forceFocus(Y,M)}_takeFocus(){if(!this._focusTrap)return;const m=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(M=>{!M&&"function"==typeof this._elementRef.nativeElement.focus&&m.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(m){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,m):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const m=this._doc.activeElement;return!!m&&this._elementRef.nativeElement.contains(m)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var m;this._focusTrap&&this._focusTrap.destroy(),null===(m=this._anchor)||void 0===m||m.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(m){return this.toggle(!0,m)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(m=!this.opened,M){m&&M&&(this._openedVia=M);const Y=this._setOpen(m,!m&&this._isFocusWithinDrawer(),this._openedVia||"program");return m||(this._openedVia=null),Y}_setOpen(m,M,Y){return this._opened=m,m?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",M&&this._restoreFocus(Y)),this._updateFocusTrapState(),new Promise(fe=>{this.openedChange.pipe((0,be.q)(1)).subscribe(Je=>fe(Je?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(m){const M=this._elementRef.nativeElement,Y=M.parentNode;"end"===m?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Y.insertBefore(this._anchor,M)),Y.appendChild(M)):this._anchor&&this._anchor.parentNode.insertBefore(M,this._anchor)}}return I.\u0275fac=function(m){return new(m||I)(v.Y36(v.SBq),v.Y36(Bt.qV),v.Y36(Bt.tE),v.Y36(et.t4),v.Y36(v.R0b),v.Y36(Bt.ic),v.Y36(he.K0,8),v.Y36(Dn,8))},I.\u0275cmp=v.Xpm({type:I,selectors:[["mat-drawer"]],viewQuery:function(m,M){if(1&m&&v.Gf(gt,5),2&m){let Y;v.iGM(Y=v.CRH())&&(M._content=Y.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(m,M){1&m&&v.WFA("@transform.start",function(fe){return M._animationStarted.next(fe)})("@transform.done",function(fe){return M._animationEnd.next(fe)}),2&m&&(v.uIk("align",null),v.d8E("@transform",M._animationState),v.ekj("mat-drawer-end","end"===M.position)("mat-drawer-over","over"===M.mode)("mat-drawer-push","push"===M.mode)("mat-drawer-side","side"===M.mode)("mat-drawer-opened",M.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ut,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(m,M){1&m&&(v.F$t(),v.TgZ(0,"div",0,1),v.Hsn(2),v.qZA())},directives:[se.PQ],encapsulation:2,data:{animation:[hn.transformDrawer]},changeDetection:0}),I})(),gr=(()=>{class I{constructor(m,M,Y,fe,Je,Ft=!1,xt){this._dir=m,this._element=M,this._ngZone=Y,this._changeDetectorRef=fe,this._animationMode=xt,this._drawers=new v.n_E,this.backdropClick=new v.vpe,this._destroyed=new Ke.x,this._doCheckSubject=new Ke.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ke.x,m&&m.change.pipe((0,Ye.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Je.change().pipe((0,Ye.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Ft}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(m){this._autosize=(0,ot.Ig)(m)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(m){this._backdropOverride=null==m?null:(0,ot.Ig)(m)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,qe.O)(this._allDrawers),(0,Ye.R)(this._destroyed)).subscribe(m=>{this._drawers.reset(m.filter(M=>!M._container||M._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,qe.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(m=>{this._watchDrawerToggle(m),this._watchDrawerPosition(m),this._watchDrawerMode(m)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,kt.b)(10),(0,Ye.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(m=>m.open())}close(){this._drawers.forEach(m=>m.close())}updateContentMargins(){let m=0,M=0;if(this._left&&this._left.opened)if("side"==this._left.mode)m+=this._left._getWidth();else if("push"==this._left.mode){const Y=this._left._getWidth();m+=Y,M-=Y}if(this._right&&this._right.opened)if("side"==this._right.mode)M+=this._right._getWidth();else if("push"==this._right.mode){const Y=this._right._getWidth();M+=Y,m-=Y}m=m||null,M=M||null,(m!==this._contentMargins.left||M!==this._contentMargins.right)&&(this._contentMargins={left:m,right:M},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(m){m._animationStarted.pipe((0,ae.h)(M=>M.fromState!==M.toState),(0,Ye.R)(this._drawers.changes)).subscribe(M=>{"open-instant"!==M.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==m.mode&&m.openedChange.pipe((0,Ye.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(m.opened))}_watchDrawerPosition(m){!m||m.onPositionChanged.pipe((0,Ye.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,be.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(m){m&&m._modeChanged.pipe((0,Ye.R)((0,Ue.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(m){const M=this._element.nativeElement.classList,Y="mat-drawer-container-has-open";m?M.add(Y):M.remove(Y)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(m=>{"end"==m.position?this._end=m:this._start=m}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(m=>m&&!m.disableClose&&this._canHaveBackdrop(m)).forEach(m=>m._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(m){return"side"!==m.mode||!!this._backdropOverride}_isDrawerOpen(m){return null!=m&&m.opened}}return I.\u0275fac=function(m){return new(m||I)(v.Y36(nt.Is,8),v.Y36(v.SBq),v.Y36(v.R0b),v.Y36(v.sBO),v.Y36(se.rL),v.Y36(kn),v.Y36(jt.Qb,8))},I.\u0275cmp=v.Xpm({type:I,selectors:[["mat-drawer-container"]],contentQueries:function(m,M,Y){if(1&m&&(v.Suo(Y,ur,5),v.Suo(Y,lr,5)),2&m){let fe;v.iGM(fe=v.CRH())&&(M._content=fe.first),v.iGM(fe=v.CRH())&&(M._allDrawers=fe)}},viewQuery:function(m,M){if(1&m&&v.Gf(ur,5),2&m){let Y;v.iGM(Y=v.CRH())&&(M._userContent=Y.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(m,M){2&m&&v.ekj("mat-drawer-container-explicit-backdrop",M._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[v._Bn([{provide:Dn,useExisting:I}])],ngContentSelectors:dn,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(m,M){1&m&&(v.F$t(Kt),v.YNc(0,We,1,2,"div",0),v.Hsn(1),v.Hsn(2,1),v.YNc(3,Pt,2,0,"mat-drawer-content",1)),2&m&&(v.Q6J("ngIf",M.hasBackdrop),v.xp6(3),v.Q6J("ngIf",!M._content))},directives:[ur,he.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),I})(),Sn=(()=>{class I extends ur{constructor(m,M,Y,fe,Je){super(m,M,Y,fe,Je)}}return I.\u0275fac=function(m){return new(m||I)(v.Y36(v.sBO),v.Y36((0,v.Gpc)(()=>cr)),v.Y36(v.SBq),v.Y36(se.mF),v.Y36(v.R0b))},I.\u0275cmp=v.Xpm({type:I,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(m,M){2&m&&v.Udp("margin-left",M._container._contentMargins.left,"px")("margin-right",M._container._contentMargins.right,"px")},features:[v._Bn([{provide:se.PQ,useExisting:I}]),v.qOj],ngContentSelectors:ut,decls:1,vars:0,template:function(m,M){1&m&&(v.F$t(),v.Hsn(0))},encapsulation:2,changeDetection:0}),I})(),rr=(()=>{class I extends lr{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(m){this._fixedInViewport=(0,ot.Ig)(m)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(m){this._fixedTopGap=(0,ot.su)(m)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(m){this._fixedBottomGap=(0,ot.su)(m)}}return I.\u0275fac=function(){let E;return function(M){return(E||(E=v.n5z(I)))(M||I)}}(),I.\u0275cmp=v.Xpm({type:I,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(m,M){2&m&&(v.uIk("align",null),v.Udp("top",M.fixedInViewport?M.fixedTopGap:null,"px")("bottom",M.fixedInViewport?M.fixedBottomGap:null,"px"),v.ekj("mat-drawer-end","end"===M.position)("mat-drawer-over","over"===M.mode)("mat-drawer-push","push"===M.mode)("mat-drawer-side","side"===M.mode)("mat-drawer-opened",M.opened)("mat-sidenav-fixed",M.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[v.qOj],ngContentSelectors:ut,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(m,M){1&m&&(v.F$t(),v.TgZ(0,"div",0,1),v.Hsn(2),v.qZA())},directives:[se.PQ],encapsulation:2,data:{animation:[hn.transformDrawer]},changeDetection:0}),I})(),cr=(()=>{class I extends gr{}return I.\u0275fac=function(){let E;return function(M){return(E||(E=v.n5z(I)))(M||I)}}(),I.\u0275cmp=v.Xpm({type:I,selectors:[["mat-sidenav-container"]],contentQueries:function(m,M,Y){if(1&m&&(v.Suo(Y,Sn,5),v.Suo(Y,rr,5)),2&m){let fe;v.iGM(fe=v.CRH())&&(M._content=fe.first),v.iGM(fe=v.CRH())&&(M._allDrawers=fe)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(m,M){2&m&&v.ekj("mat-drawer-container-explicit-backdrop",M._backdropOverride)},exportAs:["matSidenavContainer"],features:[v._Bn([{provide:Dn,useExisting:I}]),v.qOj],ngContentSelectors:An,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(m,M){1&m&&(v.F$t(mn),v.YNc(0,vn,1,2,"div",0),v.Hsn(1),v.Hsn(2,1),v.YNc(3,Tt,2,0,"mat-sidenav-content",1)),2&m&&(v.Q6J("ngIf",M.hasBackdrop),v.xp6(3),v.Q6J("ngIf",!M._content))},directives:[Sn,he.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),I})(),ti=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[he.ez,De.BQ,se.ZD],se.ZD,De.BQ]}),I})();var ve=k(3075);let ht=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[De.BQ],De.BQ]}),I})();const vt=["*"],dr=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],En=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Lr=(0,De.Id)((0,De.Kr)(class{})),ct=(0,De.Kr)(class{}),ee=new v.OlP("MatList"),H=new v.OlP("MatNavList");let q=(()=>{class I extends Lr{constructor(){super(...arguments),this._stateChanges=new Ke.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return I.\u0275fac=function(){let E;return function(M){return(E||(E=v.n5z(I)))(M||I)}}(),I.\u0275cmp=v.Xpm({type:I,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[v._Bn([{provide:H,useExisting:I}]),v.qOj,v.TTD],ngContentSelectors:vt,decls:1,vars:0,template:function(m,M){1&m&&(v.F$t(),v.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),I})(),Qe=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275dir=v.lG2({type:I,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),I})(),At=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275dir=v.lG2({type:I,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),I})(),me=(()=>{class I extends ct{constructor(m,M,Y,fe){super(),this._element=m,this._isInteractiveList=!1,this._destroyed=new Ke.x,this._disabled=!1,this._isInteractiveList=!!(Y||fe&&"action-list"===fe._getListType()),this._list=Y||fe;const Je=this._getHostElement();"button"===Je.nodeName.toLowerCase()&&!Je.hasAttribute("type")&&Je.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,Ye.R)(this._destroyed)).subscribe(()=>{M.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(m){this._disabled=(0,ot.Ig)(m)}ngAfterContentInit(){(0,De.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return I.\u0275fac=function(m){return new(m||I)(v.Y36(v.SBq),v.Y36(v.sBO),v.Y36(H,8),v.Y36(ee,8))},I.\u0275cmp=v.Xpm({type:I,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(m,M,Y){if(1&m&&(v.Suo(Y,Qe,5),v.Suo(Y,At,5),v.Suo(Y,De.X2,5)),2&m){let fe;v.iGM(fe=v.CRH())&&(M._avatar=fe.first),v.iGM(fe=v.CRH())&&(M._icon=fe.first),v.iGM(fe=v.CRH())&&(M._lines=fe)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(m,M){2&m&&v.ekj("mat-list-item-disabled",M.disabled)("mat-list-item-avatar",M._avatar||M._icon)("mat-list-item-with-avatar",M._avatar||M._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[v.qOj],ngContentSelectors:En,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(m,M){1&m&&(v.F$t(dr),v.TgZ(0,"span",0),v._UZ(1,"span",1),v.Hsn(2),v.TgZ(3,"span",2),v.Hsn(4,1),v.qZA(),v.Hsn(5,2),v.qZA()),2&m&&(v.xp6(1),v.Q6J("matRippleTrigger",M._getHostElement())("matRippleDisabled",M._isRippleDisabled()))},directives:[De.wG],encapsulation:2,changeDetection:0}),I})(),ge=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[De.uc,De.si,De.BQ,De.us,he.ez],De.uc,De.BQ,De.us,ht]}),I})();function Ve(I,E){1&I&&(v.TgZ(0,"a",4)(1,"span"),v._uU(2,"Login"),v.qZA()())}function bt(I,E){1&I&&(v.TgZ(0,"a",5)(1,"span"),v._uU(2,"Register"),v.qZA()())}function Wt(I,E){1&I&&(v.TgZ(0,"a",6)(1,"span"),v._uU(2,"Insurance"),v.qZA()())}function gn(I,E){1&I&&(v.TgZ(0,"a",7)(1,"span"),v._uU(2,"List"),v.qZA()())}let Ar=(()=>{class I{constructor(){this.currentPage="",this.selectedPage=new v.vpe,console.log("constructor called.")}ngOnInit(){console.log("ngOnInit called.")}ngAfterViewInit(){console.log("ngAfterViewInit called.")}menuSwitch(){this.selectedPage.emit(this.currentPage)}}return I.\u0275fac=function(m){return new(m||I)},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-menu"]],inputs:{currentPage:"currentPage",user:"user"},outputs:{selectedPage:"selectedPage"},decls:5,vars:4,consts:[["mat-list-item","","routerLink","/login",4,"ngIf"],["mat-list-item","","routerLink","/register",4,"ngIf"],["mat-list-item","","routerLink","/insurance",4,"ngIf"],["mat-list-item","","routerLink","/list",4,"ngIf"],["mat-list-item","","routerLink","/login"],["mat-list-item","","routerLink","/register"],["mat-list-item","","routerLink","/insurance"],["mat-list-item","","routerLink","/list"]],template:function(m,M){1&m&&(v.TgZ(0,"mat-nav-list"),v.YNc(1,Ve,3,0,"a",0),v.YNc(2,bt,3,0,"a",1),v.YNc(3,Wt,3,0,"a",2),v.YNc(4,gn,3,0,"a",3),v.qZA()),2&m&&(v.xp6(1),v.Q6J("ngIf",!M.user),v.xp6(1),v.Q6J("ngIf",!M.user),v.xp6(1),v.Q6J("ngIf",M.user),v.xp6(1),v.Q6J("ngIf",M.user))},directives:[q,he.O5,me,oe.yS],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#bb00c2}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#f700ff}"]}),I})();const $r=["*",[["mat-toolbar-row"]]],xi=["*","mat-toolbar-row"],Mr=(0,De.pj)(class{constructor(I){this._elementRef=I}});let yi=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275dir=v.lG2({type:I,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),I})(),Vr=(()=>{class I extends Mr{constructor(m,M,Y){super(m),this._platform=M,this._document=Y}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return I.\u0275fac=function(m){return new(m||I)(v.Y36(v.SBq),v.Y36(et.t4),v.Y36(he.K0))},I.\u0275cmp=v.Xpm({type:I,selectors:[["mat-toolbar"]],contentQueries:function(m,M,Y){if(1&m&&v.Suo(Y,yi,5),2&m){let fe;v.iGM(fe=v.CRH())&&(M._toolbarRows=fe)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(m,M){2&m&&v.ekj("mat-toolbar-multiple-rows",M._toolbarRows.length>0)("mat-toolbar-single-row",0===M._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[v.qOj],ngContentSelectors:xi,decls:2,vars:0,template:function(m,M){1&m&&(v.F$t($r),v.Hsn(0),v.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),I})(),wr=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[De.BQ],De.BQ]}),I})();function en(I,E){if(1&I){const m=v.EpF();v.TgZ(0,"app-menu",6),v.NdJ("selectedPage",function(Y){return v.CHM(m),v.oxw().changePage(Y)}),v.qZA()}if(2&I){const m=v.oxw();v.Q6J("currentPage",m.page)("user",m.user)}}function Ln(I,E){1&I&&(v.TgZ(0,"li")(1,"a",7),v._uU(2,"Login"),v.qZA()())}function vr(I,E){1&I&&(v.TgZ(0,"li")(1,"a",8),v._uU(2,"Register"),v.qZA()())}function Ci(I,E){1&I&&(v.TgZ(0,"li")(1,"a",9),v._uU(2,"Insurance"),v.qZA()())}function di(I,E){1&I&&(v.TgZ(0,"li")(1,"a",10),v._uU(2,"List"),v.qZA()())}let Jr=(()=>{class I{constructor(m,M){this.router=m,this.authService=M,this.page="",this.routes=[]}ngOnInit(){this.routes=this.router.config.map(M=>M.path),this.router.events.pipe((0,ae.h)(M=>M instanceof oe.m2)).subscribe(M=>{const Y=M.urlAfterRedirects.split("/")[1];this.routes.includes(Y)&&(this.page=Y)});var m=this.authService.getAuthUser();null!==m&&m.subscribe(M=>{this.user=M,localStorage.setItem("user",JSON.stringify(this.user))},M=>{localStorage.setItem("user","null")})}changePage(m){this.router.navigateByUrl(m)}}return I.\u0275fac=function(m){return new(m||I)(v.Y36(oe.F0),v.Y36(Te.e))},I.\u0275cmp=v.Xpm({type:I,selectors:[["app-root"]],decls:13,vars:5,consts:[["sidenav",""],[3,"currentPage","user","selectedPage",4,"ngIf"],["color","primary"],["fxFlex","","fxLayout","","fxLayoutAlign","flex-end","fxHide.xs",""],["fxLayout","","fxLayoutGap","8px",1,"navigation-items"],[4,"ngIf"],[3,"currentPage","user","selectedPage"],["routerLink","/login"],["routerLink","/register"],["routerLink","/insurance"],["routerLink","/list"]],template:function(m,M){1&m&&(v.TgZ(0,"mat-sidenav-container")(1,"mat-sidenav",null,0),v.YNc(3,en,1,2,"app-menu",1),v.qZA(),v.TgZ(4,"mat-sidenav-content")(5,"mat-toolbar",2)(6,"div",3)(7,"ul",4),v.YNc(8,Ln,3,0,"li",5),v.YNc(9,vr,3,0,"li",5),v.YNc(10,Ci,3,0,"li",5),v.YNc(11,di,3,0,"li",5),v.qZA()()(),v._UZ(12,"router-outlet"),v.qZA()()),2&m&&(v.xp6(3),v.Q6J("ngIf",M.page),v.xp6(5),v.Q6J("ngIf",!M.user),v.xp6(1),v.Q6J("ngIf",!M.user),v.xp6(1),v.Q6J("ngIf",M.user),v.xp6(1),v.Q6J("ngIf",M.user))},directives:[cr,rr,he.O5,Ar,Sn,Vr,oe.yS,oe.lC],styles:["a[_ngcontent-%COMP%]{text-decoration:none;color:#bb00c2}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#f700ff}.navigation-items[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}mat-sidenav[_ngcontent-%COMP%]{width:500px}"]}),I})();var hr=k(5813),xr=k(3692),br=k(5867),Ti=k(7128),Un=k(573),Si=k(2090),_i=k(9681),hi=(k(1877),k(4859));class vi{constructor(E){return E}}class Gr{constructor(){return(0,hr.vb)("auth")}}const xe=new v.OlP("angularfire2.auth-instances");function Mt(I){return(E,m)=>{const M=E.runOutsideAngular(()=>I(m));return new vi(M)}}const Nt={provide:Gr,deps:[[new v.FiY,xe]]},nn={provide:vi,useFactory:function rt(I,E){const m=(0,hr.JM)("auth",I,E);return m&&new vi(m)},deps:[[new v.FiY,xe],xr.Ot]};let Er=(()=>{class I{constructor(){(0,br.KN)("angularfire",hr.q4.full,"auth")}}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({providers:[nn,Nt]}),I})();function Cr(I,...E){return{ngModule:Er,providers:[{provide:xe,useFactory:Mt(I),multi:!0,deps:[v.R0b,v.zs3,hr.HU,xr.z6,[new v.FiY,Ti.nm],...E]}]}}const As=(0,hr.u3)(Un.n,!0);var It=k(5525);class tn{constructor(E){return E}}const jr="firestore",qn=new v.OlP("angularfire2.firestore-instances");function Nr(I){return(E,m)=>{const M=E.runOutsideAngular(()=>I(m));return new tn(M)}}const Ur={provide:class ir{constructor(){return(0,hr.vb)(jr)}},deps:[[new v.FiY,qn]]},j={provide:tn,useFactory:function ei(I,E){const m=(0,hr.JM)(jr,I,E);return m&&new tn(m)},deps:[[new v.FiY,qn],xr.Ot]};let F=(()=>{class I{constructor(){(0,br.KN)("angularfire",hr.q4.full,"fst")}}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({providers:[j,Ur]}),I})();function x(I,...E){return{ngModule:F,providers:[{provide:qn,useFactory:Nr(I),multi:!0,deps:[v.R0b,v.zs3,hr.HU,xr.z6,[new v.FiY,Gr],[new v.FiY,Ti.nm],...E]}]}}const Ct=(0,hr.u3)(It.ad,!0);var Bn=k(5861);const zn="firebasestorage.googleapis.com";class fr extends Si.ZR{constructor(E,m){super(Fr(E),`Firebase Storage: ${m} (${Fr(E)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}_codeEquals(E){return Fr(E)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(E){this.customData.serverResponse=E,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Fr(I){return"storage/"+I}function $o(I){return new fr("invalid-argument",I)}function Ll(){return new fr("app-deleted","The Firebase app was deleted.")}class qi{constructor(E,m){this.bucket=E,this.path_=m}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const E=encodeURIComponent;return"/b/"+E(this.bucket)+"/o/"+E(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(E,m){let M;try{M=qi.makeFromUrl(E,m)}catch(Y){return new qi(E,"")}if(""===M.path)return M;throw function Jt(I){return new fr("invalid-default-bucket","Invalid default bucket '"+I+"'.")}(E)}static makeFromUrl(E,m){let M=null;const Y="([A-Za-z0-9.\\-_]+)",Ft=new RegExp("^gs://"+Y+"(/(.*))?$","i");function Tn(Hi){Hi.path_=decodeURIComponent(Hi.path)}const Qr=m.replace(/[.]/g,"\\."),ws=[{regex:Ft,indices:{bucket:1,path:3},postModify:function fe(Hi){"/"===Hi.path.charAt(Hi.path.length-1)&&(Hi.path_=Hi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Qr}/v[A-Za-z0-9_]+/b/${Y}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Tn},{regex:new RegExp(`^https?://${m===zn?"(?:storage.googleapis.com|storage.cloud.google.com)":m}/${Y}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Tn}];for(let Hi=0;Hi<ws.length;Hi++){const Kl=ws[Hi],ml=Kl.regex.exec(E);if(ml){let tc=ml[Kl.indices.path];tc||(tc=""),M=new qi(ml[Kl.indices.bucket],tc),Kl.postModify(M);break}}if(null==M)throw function wl(I){return new fr("invalid-url","Invalid URL '"+I+"'.")}(E);return M}}class Co{constructor(E){this.promise_=Promise.reject(E)}getPromise(){return this.promise_}cancel(E=!1){}}function ue(I,E,m,M){if(M<E)throw $o(`Invalid value for '${I}'. Expected ${E} or greater.`);if(M>m)throw $o(`Invalid value for '${I}'. Expected ${m} or less.`)}var on=(()=>{return(I=on||(on={}))[I.NO_ERROR=0]="NO_ERROR",I[I.NETWORK_ERROR=1]="NETWORK_ERROR",I[I.ABORT=2]="ABORT",on;var I})();class Yn{constructor(E,m,M,Y,fe,Je,Ft,xt,Tn,fn,Qr){this.url_=E,this.method_=m,this.headers_=M,this.body_=Y,this.successCodes_=fe,this.additionalRetryCodes_=Je,this.callback_=Ft,this.errorCallback_=xt,this.timeout_=Tn,this.progressCallback_=fn,this.connectionFactory_=Qr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ui,Di)=>{this.resolve_=ui,this.reject_=Di,this.start_()})}start_(){const m=(M,Y)=>{const fe=this.resolve_,Je=this.reject_,Ft=Y.connection;if(Y.wasSuccessCode)try{const xt=this.callback_(Ft,Ft.getResponse());!function A(I){return void 0!==I}(xt)?fe():fe(xt)}catch(xt){Je(xt)}else if(null!==Ft){const xt=function jo(){return new fr("unknown","An unknown error occurred, please check the error payload for server response.")}();xt.serverResponse=Ft.getErrorText(),Je(this.errorCallback_?this.errorCallback_(Ft,xt):xt)}else Je(Y.canceled?this.appDelete_?Ll():function Nn(){return new fr("canceled","User canceled the upload/download.")}():function _n(){return new fr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?m(0,new Qt(!1,null,!0)):this.backoffId_=function oa(I,E,m){let M=1,Y=null,fe=null,Je=!1,Ft=0;function xt(){return 2===Ft}let Tn=!1;function fn(...fs){Tn||(Tn=!0,E.apply(null,fs))}function Qr(fs){Y=setTimeout(()=>{Y=null,I(Di,xt())},fs)}function ui(){fe&&clearTimeout(fe)}function Di(fs,...ea){if(Tn)return void ui();if(fs)return ui(),void fn.call(null,fs,...ea);if(xt()||Je)return ui(),void fn.call(null,fs,...ea);let ws;M<64&&(M*=2),1===Ft?(Ft=2,ws=0):ws=1e3*(M+Math.random()),Qr(ws)}let is=!1;function _o(fs){is||(is=!0,ui(),!Tn&&(null!==Y?(fs||(Ft=2),clearTimeout(Y),Qr(0)):fs||(Ft=1)))}return Qr(0),fe=setTimeout(()=>{Je=!0,_o(!0)},m),_o}((M,Y)=>{if(Y)return void M(!1,new Qt(!1,null,!0));const fe=this.connectionFactory_();this.pendingConnection_=fe;const Je=Ft=>{null!==this.progressCallback_&&this.progressCallback_(Ft.loaded,Ft.lengthComputable?Ft.total:-1)};null!==this.progressCallback_&&fe.addUploadProgressListener(Je),fe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&fe.removeUploadProgressListener(Je),this.pendingConnection_=null;const Ft=fe.getErrorCode()===on.NO_ERROR,xt=fe.getStatus();if(!Ft||this.isRetryStatusCode_(xt)){const fn=fe.getErrorCode()===on.ABORT;return void M(!1,new Qt(!1,null,fn))}const Tn=-1!==this.successCodes_.indexOf(xt);M(!0,new Qt(Tn,fe))})},m,this.timeout_)}getPromise(){return this.promise_}cancel(E){this.canceled_=!0,this.appDelete_=E||!1,null!==this.backoffId_&&function Ns(I){I(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(E){const m=E>=500&&E<600,Y=-1!==[408,429].indexOf(E),fe=-1!==this.additionalRetryCodes_.indexOf(E);return m||Y||fe}}class Qt{constructor(E,m,M){this.wasSuccessCode=E,this.connection=m,this.canceled=!!M}}class Pi{constructor(E,m){this._service=E,this._location=m instanceof qi?m:qi.makeFromUrl(m,E.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(E,m){return new Pi(E,m)}get root(){const E=new qi(this._location.bucket,"");return this._newRef(this._service,E)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function Ko(I){const E=I.lastIndexOf("/",I.length-2);return-1===E?I:I.slice(E+1)}(this._location.path)}get storage(){return this._service}get parent(){const E=function ko(I){if(0===I.length)return null;const E=I.lastIndexOf("/");return-1===E?"":I.slice(0,E)}(this._location.path);if(null===E)return null;const m=new qi(this._location.bucket,E);return new Pi(this._service,m)}_throwIfRoot(E){if(""===this._location.path)throw function tl(I){return new fr("invalid-root-operation","The operation '"+I+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(E)}}function Uu(I,E){const m=null==E?void 0:E.storageBucket;return null==m?null:qi.makeFromBucketSpec(m,I)}class Wa{constructor(E,m,M,Y,fe){this.app=E,this._authProvider=m,this._appCheckProvider=M,this._url=Y,this._firebaseVersion=fe,this._bucket=null,this._host=zn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Y?qi.makeFromBucketSpec(Y,this._host):Uu(this._host,this.app.options)}get host(){return this._host}set host(E){this._host=E,this._bucket=null!=this._url?qi.makeFromBucketSpec(this._url,E):Uu(E,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(E){ue("time",0,Number.POSITIVE_INFINITY,E),this._maxUploadRetryTime=E}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(E){ue("time",0,Number.POSITIVE_INFINITY,E),this._maxOperationRetryTime=E}_getAuthToken(){var E=this;return(0,Bn.Z)(function*(){if(E._overrideAuthToken)return E._overrideAuthToken;const m=E._authProvider.getImmediate({optional:!0});if(m){const M=yield m.getToken();if(null!==M)return M.accessToken}return null})()}_getAppCheckToken(){var E=this;return(0,Bn.Z)(function*(){const m=E._appCheckProvider.getImmediate({optional:!0});return m?(yield m.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(E=>E.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(E){return new Pi(this,E)}_makeRequest(E,m,M,Y){if(this._deleted)return new Co(Ll());{const fe=function pi(I,E,m,M,Y,fe){const Je=function Et(I){const E=encodeURIComponent;let m="?";for(const M in I)I.hasOwnProperty(M)&&(m=m+(E(M)+"=")+E(I[M])+"&");return m=m.slice(0,-1),m}(I.urlParams),Ft=I.url+Je,xt=Object.assign({},I.headers);return function Oi(I,E){E&&(I["X-Firebase-GMPID"]=E)}(xt,E),function Zr(I,E){null!==E&&E.length>0&&(I.Authorization="Firebase "+E)}(xt,m),function Gn(I,E){I["X-Firebase-Storage-Version"]="webjs/"+(null!=E?E:"AppManager")}(xt,fe),function Oo(I,E){null!==E&&(I["X-Firebase-AppCheck"]=E)}(xt,M),new Yn(Ft,I.method,xt,I.body,I.successCodes,I.additionalRetryCodes,I.handler,I.errorHandler,I.timeout,I.progressCallback,Y)}(E,this._appId,M,Y,m,this._firebaseVersion);return this._requests.add(fe),fe.getPromise().then(()=>this._requests.delete(fe),()=>this._requests.delete(fe)),fe}}makeRequestWithTokens(E,m){var M=this;return(0,Bn.Z)(function*(){const[Y,fe]=yield Promise.all([M._getAuthToken(),M._getAppCheckToken()]);return M._makeRequest(E,m,Y,fe).getPromise()})()}}const al="@firebase/storage",ju="storage";function Qo(I=(0,_i.getApp)(),E){return I=(0,Si.m9)(I),(0,_i._getProvider)(I,ju).getImmediate({identifier:E})}function nd(I,{instanceIdentifier:E}){const m=I.getProvider("app").getImmediate(),M=I.getProvider("auth-internal"),Y=I.getProvider("app-check-internal");return new Wa(m,M,Y,E,_i.SDK_VERSION)}!function zu(){(0,_i._registerComponent)(new hi.wA(ju,nd,"PUBLIC").setMultipleInstances(!0)),(0,_i.registerVersion)(al,"0.9.5",""),(0,_i.registerVersion)(al,"0.9.5","esm2017")}();class $l{constructor(E){return E}}const Sl="storage",hu=new v.OlP("angularfire2.storage-instances");function f(I){return(E,m)=>{const M=E.runOutsideAngular(()=>I(m));return new $l(M)}}const p={provide:class Ka{constructor(){return(0,hr.vb)(Sl)}},deps:[[new v.FiY,hu]]},S={provide:$l,useFactory:function D(I,E){const m=(0,hr.JM)(Sl,I,E);return m&&new $l(m)},deps:[[new v.FiY,hu],xr.Ot]};let K=(()=>{class I{constructor(){(0,br.KN)("angularfire",hr.q4.full,"gcs")}}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({providers:[S,p]}),I})();function le(I,...E){return{ngModule:K,providers:[{provide:hu,useFactory:f(I),multi:!0,deps:[v.R0b,v.zs3,hr.HU,xr.z6,[new v.FiY,Gr],[new v.FiY,Ti.nm],...E]}]}}const da=(0,hr.u3)(Qo,!0);var Sc=k(8515),zl=k(2011),Ca=k(7423);k(9646),k(2843),k(4128),k(8505),k(262),k(8746),k(3099),k(4351);let sh=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I}),I.\u0275inj=v.cJS({imports:[[De.BQ],De.BQ]}),I})();const Vs_firebase={projectId:"webauto-3b890",appId:"1:629805514770:web:8aef1bac626db11dab98cb",storageBucket:"webauto-3b890.appspot.com",apiKey:"AIzaSyAMYdjGwvtWtLSuL-Yol6xNWz2oj0WXXdw",authDomain:"webauto-3b890.firebaseapp.com",messagingSenderId:"629805514770"};let ec=(()=>{class I{}return I.\u0275fac=function(m){return new(m||I)},I.\u0275mod=v.oAB({type:I,bootstrap:[Jr]}),I.\u0275inj=v.cJS({providers:[],imports:[[h.b2,Re,Sc.Error404Module,ve.u5,wr,ti,ge,Ca.ot,sh,zl.hO.initializeApp(Vs_firebase),Cr(()=>As()),x(()=>Ct()),le(()=>da()),jt.PW]]}),I})();(0,v.G48)(),h.q6().bootstrapModule(ec).catch(I=>console.error(I))},5867:(Yt,ze,k)=>{k.d(ze,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp});var h=k(9681);(0,h.registerVersion)("firebase","9.7.0","app")},127:(Yt,ze,k)=>{k.d(ze,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.7.0","app-compat")},1135:(Yt,ze,k)=>{k.d(ze,{X:()=>v});var h=k(7579);class v extends h.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const de=super._subscribe(pe);return!de.closed&&pe.next(this._value),de}getValue(){const{hasError:pe,thrownError:de,_value:Ae}=this;if(pe)throw de;return this._throwIfClosed(),Ae}next(pe){super.next(this._value=pe)}}},8306:(Yt,ze,k)=>{k.d(ze,{y:()=>se});var h=k(930),v=k(727),oe=k(8822),pe=k(4671);var Re=k(2416),ae=k(576),Te=k(2806);let se=(()=>{class Ge{constructor(dt){dt&&(this._subscribe=dt)}lift(dt){const Ue=new Ge;return Ue.source=this,Ue.operator=dt,Ue}subscribe(dt,Ue,Xe){const St=function ot(Ge){return Ge&&Ge instanceof h.Lv||function De(Ge){return Ge&&(0,ae.m)(Ge.next)&&(0,ae.m)(Ge.error)&&(0,ae.m)(Ge.complete)}(Ge)&&(0,v.Nn)(Ge)}(dt)?dt:new h.Hp(dt,Ue,Xe);return(0,Te.x)(()=>{const{operator:Ye,source:je}=this;St.add(Ye?Ye.call(St,je):je?this._subscribe(St):this._trySubscribe(St))}),St}_trySubscribe(dt){try{return this._subscribe(dt)}catch(Ue){dt.error(Ue)}}forEach(dt,Ue){return new(Ue=he(Ue))((Xe,St)=>{const Ye=new h.Hp({next:je=>{try{dt(je)}catch(be){St(be),Ye.unsubscribe()}},error:St,complete:Xe});this.subscribe(Ye)})}_subscribe(dt){var Ue;return null===(Ue=this.source)||void 0===Ue?void 0:Ue.subscribe(dt)}[oe.L](){return this}pipe(...dt){return function Ae(Ge){return 0===Ge.length?pe.y:1===Ge.length?Ge[0]:function(dt){return Ge.reduce((Ue,Xe)=>Xe(Ue),dt)}}(dt)(this)}toPromise(dt){return new(dt=he(dt))((Ue,Xe)=>{let St;this.subscribe(Ye=>St=Ye,Ye=>Xe(Ye),()=>Ue(St))})}}return Ge.create=Ke=>new Ge(Ke),Ge})();function he(Ge){var Ke;return null!==(Ke=null!=Ge?Ge:Re.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(Yt,ze,k)=>{k.d(ze,{x:()=>Re});var h=k(8306),v=k(727);const pe=(0,k(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=k(8737),Ae=k(2806);let Re=(()=>{class Te extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const De=new ae(this,this);return De.operator=he,De}_throwIfClosed(){if(this.closed)throw new pe}next(he){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(he)}})}error(he){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:De}=this;for(;De.length;)De.shift().error(he)}})}complete(){(0,Ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:De,isStopped:ot,observers:Ge}=this;return De||ot?v.Lc:(this.currentObservers=null,Ge.push(he),new v.w0(()=>{this.currentObservers=null,(0,de.P)(Ge,he)}))}_checkFinalizedStatuses(he){const{hasError:De,thrownError:ot,isStopped:Ge}=this;De?he.error(ot):Ge&&he.complete()}asObservable(){const he=new h.y;return he.source=this,he}}return Te.create=(se,he)=>new ae(se,he),Te})();class ae extends Re{constructor(se,he){super(),this.destination=se,this.source=he}next(se){var he,De;null===(De=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===De||De.call(he,se)}error(se){var he,De;null===(De=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===De||De.call(he,se)}complete(){var se,he;null===(he=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===he||he.call(se)}_subscribe(se){var he,De;return null!==(De=null===(he=this.source)||void 0===he?void 0:he.subscribe(se))&&void 0!==De?De:v.Lc}}},930:(Yt,ze,k)=>{k.d(ze,{Hp:()=>dt,Lv:()=>De});var h=k(576),v=k(727),oe=k(2416),pe=k(7849),de=k(5032);const Ae=Te("C",void 0,void 0);function Te(je,be,qe){return{kind:je,value:be,error:qe}}var se=k(3410),he=k(2806);class De extends v.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,v.Nn)(be)&&be.add(this)):this.destination=Ye}static create(be,qe,kt){return new dt(be,qe,kt)}next(be){this.isStopped?St(function ae(je){return Te("N",je,void 0)}(be),this):this._next(be)}error(be){this.isStopped?St(function Re(je){return Te("E",void 0,je)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?St(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function Ge(je,be){return ot.call(je,be)}class Ke{constructor(be){this.partialObserver=be}next(be){const{partialObserver:qe}=this;if(qe.next)try{qe.next(be)}catch(kt){Ue(kt)}}error(be){const{partialObserver:qe}=this;if(qe.error)try{qe.error(be)}catch(kt){Ue(kt)}else Ue(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(qe){Ue(qe)}}}class dt extends De{constructor(be,qe,kt){let Fe;if(super(),(0,h.m)(be)||!be)Fe={next:null!=be?be:void 0,error:null!=qe?qe:void 0,complete:null!=kt?kt:void 0};else{let jt;this&&oe.v.useDeprecatedNextContext?(jt=Object.create(be),jt.unsubscribe=()=>this.unsubscribe(),Fe={next:be.next&&Ge(be.next,jt),error:be.error&&Ge(be.error,jt),complete:be.complete&&Ge(be.complete,jt)}):Fe=be}this.destination=new Ke(Fe)}}function Ue(je){oe.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(je):(0,pe.h)(je)}function St(je,be){const{onStoppedNotification:qe}=oe.v;qe&&se.z.setTimeout(()=>qe(je,be))}const Ye={closed:!0,next:de.Z,error:function Xe(je){throw je},complete:de.Z}},727:(Yt,ze,k)=>{k.d(ze,{Lc:()=>Ae,w0:()=>de,Nn:()=>Re});var h=k(576);const oe=(0,k(3888).d)(Te=>function(he){Te(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((De,ot)=>`${ot+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var pe=k(8737);class de{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const Ge of he)Ge.remove(this);else he.remove(this);const{initialTeardown:De}=this;if((0,h.m)(De))try{De()}catch(Ge){se=Ge instanceof oe?Ge.errors:[Ge]}const{_finalizers:ot}=this;if(ot){this._finalizers=null;for(const Ge of ot)try{ae(Ge)}catch(Ke){se=null!=se?se:[],Ke instanceof oe?se=[...se,...Ke.errors]:se.push(Ke)}}if(se)throw new oe(se)}}add(se){var he;if(se&&se!==this)if(this.closed)ae(se);else{if(se instanceof de){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(se)}}_hasParent(se){const{_parentage:he}=this;return he===se||Array.isArray(he)&&he.includes(se)}_addParent(se){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(se),he):he?[he,se]:se}_removeParent(se){const{_parentage:he}=this;he===se?this._parentage=null:Array.isArray(he)&&(0,pe.P)(he,se)}remove(se){const{_finalizers:he}=this;he&&(0,pe.P)(he,se),se instanceof de&&se._removeParent(this)}}de.EMPTY=(()=>{const Te=new de;return Te.closed=!0,Te})();const Ae=de.EMPTY;function Re(Te){return Te instanceof de||Te&&"closed"in Te&&(0,h.m)(Te.remove)&&(0,h.m)(Te.add)&&(0,h.m)(Te.unsubscribe)}function ae(Te){(0,h.m)(Te)?Te():Te.unsubscribe()}},2416:(Yt,ze,k)=>{k.d(ze,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Yt,ze,k)=>{k.d(ze,{z:()=>de});var h=k(8189),oe=k(3269),pe=k(8996);function de(...Ae){return function v(){return(0,h.J)(1)}()((0,pe.D)(Ae,(0,oe.yG)(Ae)))}},515:(Yt,ze,k)=>{k.d(ze,{E:()=>v});const v=new(k(8306).y)(de=>de.complete())},4128:(Yt,ze,k)=>{k.d(ze,{D:()=>ae});var h=k(8306),v=k(4742),oe=k(8421),pe=k(3269),de=k(5403),Ae=k(3268),Re=k(1810);function ae(...Te){const se=(0,pe.jO)(Te),{args:he,keys:De}=(0,v.D)(Te),ot=new h.y(Ge=>{const{length:Ke}=he;if(!Ke)return void Ge.complete();const dt=new Array(Ke);let Ue=Ke,Xe=Ke;for(let St=0;St<Ke;St++){let Ye=!1;(0,oe.Xf)(he[St]).subscribe((0,de.x)(Ge,je=>{Ye||(Ye=!0,Xe--),dt[St]=je},()=>Ue--,void 0,()=>{(!Ue||!Ye)&&(Xe||Ge.next(De?(0,Re.n)(De,dt):dt),Ge.complete())}))}});return se?ot.pipe((0,Ae.Z)(se)):ot}},8996:(Yt,ze,k)=>{k.d(ze,{D:()=>be});var h=k(8421),v=k(5363),oe=k(9468),Ae=k(8306),ae=k(2202),Te=k(576),se=k(9672);function De(qe,kt){if(!qe)throw new Error("Iterable cannot be null");return new Ae.y(Fe=>{(0,se.f)(Fe,kt,()=>{const jt=qe[Symbol.asyncIterator]();(0,se.f)(Fe,kt,()=>{jt.next().then(Bt=>{Bt.done?Fe.complete():Fe.next(Bt.value)})},0,!0)})})}var ot=k(3670),Ge=k(8239),Ke=k(1144),dt=k(6495),Ue=k(2206),Xe=k(4532),St=k(3260);function be(qe,kt){return kt?function je(qe,kt){if(null!=qe){if((0,ot.c)(qe))return function pe(qe,kt){return(0,h.Xf)(qe).pipe((0,oe.R)(kt),(0,v.Q)(kt))}(qe,kt);if((0,Ke.z)(qe))return function Re(qe,kt){return new Ae.y(Fe=>{let jt=0;return kt.schedule(function(){jt===qe.length?Fe.complete():(Fe.next(qe[jt++]),Fe.closed||this.schedule())})})}(qe,kt);if((0,Ge.t)(qe))return function de(qe,kt){return(0,h.Xf)(qe).pipe((0,oe.R)(kt),(0,v.Q)(kt))}(qe,kt);if((0,Ue.D)(qe))return De(qe,kt);if((0,dt.T)(qe))return function he(qe,kt){return new Ae.y(Fe=>{let jt;return(0,se.f)(Fe,kt,()=>{jt=qe[ae.h](),(0,se.f)(Fe,kt,()=>{let Bt,et;try{({value:Bt,done:et}=jt.next())}catch(nt){return void Fe.error(nt)}et?Fe.complete():Fe.next(Bt)},0,!0)}),()=>(0,Te.m)(null==jt?void 0:jt.return)&&jt.return()})}(qe,kt);if((0,St.L)(qe))return function Ye(qe,kt){return De((0,St.Q)(qe),kt)}(qe,kt)}throw(0,Xe.z)(qe)}(qe,kt):(0,h.Xf)(qe)}},4968:(Yt,ze,k)=>{k.d(ze,{R:()=>se});var h=k(8421),v=k(8306),oe=k(5577),pe=k(1144),de=k(576),Ae=k(3268);const Re=["addListener","removeListener"],ae=["addEventListener","removeEventListener"],Te=["on","off"];function se(Ke,dt,Ue,Xe){if((0,de.m)(Ue)&&(Xe=Ue,Ue=void 0),Xe)return se(Ke,dt,Ue).pipe((0,Ae.Z)(Xe));const[St,Ye]=function Ge(Ke){return(0,de.m)(Ke.addEventListener)&&(0,de.m)(Ke.removeEventListener)}(Ke)?ae.map(je=>be=>Ke[je](dt,be,Ue)):function De(Ke){return(0,de.m)(Ke.addListener)&&(0,de.m)(Ke.removeListener)}(Ke)?Re.map(he(Ke,dt)):function ot(Ke){return(0,de.m)(Ke.on)&&(0,de.m)(Ke.off)}(Ke)?Te.map(he(Ke,dt)):[];if(!St&&(0,pe.z)(Ke))return(0,oe.z)(je=>se(je,dt,Ue))((0,h.Xf)(Ke));if(!St)throw new TypeError("Invalid event target");return new v.y(je=>{const be=(...qe)=>je.next(1<qe.length?qe:qe[0]);return St(be),()=>Ye(be)})}function he(Ke,dt){return Ue=>Xe=>Ke[Ue](dt,Xe)}},8421:(Yt,ze,k)=>{k.d(ze,{Xf:()=>ot});var h=k(655),v=k(1144),oe=k(8239),pe=k(8306),de=k(3670),Ae=k(2206),Re=k(4532),ae=k(6495),Te=k(3260),se=k(576),he=k(7849),De=k(8822);function ot(je){if(je instanceof pe.y)return je;if(null!=je){if((0,de.c)(je))return function Ge(je){return new pe.y(be=>{const qe=je[De.L]();if((0,se.m)(qe.subscribe))return qe.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,v.z)(je))return function Ke(je){return new pe.y(be=>{for(let qe=0;qe<je.length&&!be.closed;qe++)be.next(je[qe]);be.complete()})}(je);if((0,oe.t)(je))return function dt(je){return new pe.y(be=>{je.then(qe=>{be.closed||(be.next(qe),be.complete())},qe=>be.error(qe)).then(null,he.h)})}(je);if((0,Ae.D)(je))return Xe(je);if((0,ae.T)(je))return function Ue(je){return new pe.y(be=>{for(const qe of je)if(be.next(qe),be.closed)return;be.complete()})}(je);if((0,Te.L)(je))return function St(je){return Xe((0,Te.Q)(je))}(je)}throw(0,Re.z)(je)}function Xe(je){return new pe.y(be=>{(function Ye(je,be){var qe,kt,Fe,jt;return(0,h.mG)(this,void 0,void 0,function*(){try{for(qe=(0,h.KL)(je);!(kt=yield qe.next()).done;)if(be.next(kt.value),be.closed)return}catch(Bt){Fe={error:Bt}}finally{try{kt&&!kt.done&&(jt=qe.return)&&(yield jt.call(qe))}finally{if(Fe)throw Fe.error}}be.complete()})})(je,be).catch(qe=>be.error(qe))})}},6451:(Yt,ze,k)=>{k.d(ze,{T:()=>Ae});var h=k(8189),v=k(8421),oe=k(515),pe=k(3269),de=k(8996);function Ae(...Re){const ae=(0,pe.yG)(Re),Te=(0,pe._6)(Re,1/0),se=Re;return se.length?1===se.length?(0,v.Xf)(se[0]):(0,h.J)(Te)((0,de.D)(se,ae)):oe.E}},9646:(Yt,ze,k)=>{k.d(ze,{of:()=>oe});var h=k(3269),v=k(8996);function oe(...pe){const de=(0,h.yG)(pe);return(0,v.D)(pe,de)}},2843:(Yt,ze,k)=>{k.d(ze,{_:()=>oe});var h=k(8306),v=k(576);function oe(pe,de){const Ae=(0,v.m)(pe)?pe:()=>pe,Re=ae=>ae.error(Ae());return new h.y(de?ae=>de.schedule(Re,0,ae):Re)}},5403:(Yt,ze,k)=>{k.d(ze,{x:()=>v});var h=k(930);function v(pe,de,Ae,Re,ae){return new oe(pe,de,Ae,Re,ae)}class oe extends h.Lv{constructor(de,Ae,Re,ae,Te,se){super(de),this.onFinalize=Te,this.shouldUnsubscribe=se,this._next=Ae?function(he){try{Ae(he)}catch(De){de.error(De)}}:super._next,this._error=ae?function(he){try{ae(he)}catch(De){de.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(he){de.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},262:(Yt,ze,k)=>{k.d(ze,{K:()=>pe});var h=k(8421),v=k(5403),oe=k(4482);function pe(de){return(0,oe.e)((Ae,Re)=>{let se,ae=null,Te=!1;ae=Ae.subscribe((0,v.x)(Re,void 0,void 0,he=>{se=(0,h.Xf)(de(he,pe(de)(Ae))),ae?(ae.unsubscribe(),ae=null,se.subscribe(Re)):Te=!0})),Te&&(ae.unsubscribe(),ae=null,se.subscribe(Re))})}},4351:(Yt,ze,k)=>{k.d(ze,{b:()=>oe});var h=k(5577),v=k(576);function oe(pe,de){return(0,v.m)(de)?(0,h.z)(pe,de,1):(0,h.z)(pe,1)}},8372:(Yt,ze,k)=>{k.d(ze,{b:()=>pe});var h=k(4986),v=k(4482),oe=k(5403);function pe(de,Ae=h.z){return(0,v.e)((Re,ae)=>{let Te=null,se=null,he=null;const De=()=>{if(Te){Te.unsubscribe(),Te=null;const Ge=se;se=null,ae.next(Ge)}};function ot(){const Ge=he+de,Ke=Ae.now();if(Ke<Ge)return Te=this.schedule(void 0,Ge-Ke),void ae.add(Te);De()}Re.subscribe((0,oe.x)(ae,Ge=>{se=Ge,he=Ae.now(),Te||(Te=Ae.schedule(ot,de),ae.add(Te))},()=>{De(),ae.complete()},void 0,()=>{se=Te=null}))})}},6590:(Yt,ze,k)=>{k.d(ze,{d:()=>oe});var h=k(4482),v=k(5403);function oe(pe){return(0,h.e)((de,Ae)=>{let Re=!1;de.subscribe((0,v.x)(Ae,ae=>{Re=!0,Ae.next(ae)},()=>{Re||Ae.next(pe),Ae.complete()}))})}},1884:(Yt,ze,k)=>{k.d(ze,{x:()=>pe});var h=k(4671),v=k(4482),oe=k(5403);function pe(Ae,Re=h.y){return Ae=null!=Ae?Ae:de,(0,v.e)((ae,Te)=>{let se,he=!0;ae.subscribe((0,oe.x)(Te,De=>{const ot=Re(De);(he||!Ae(se,ot))&&(he=!1,se=ot,Te.next(De))}))})}function de(Ae,Re){return Ae===Re}},9300:(Yt,ze,k)=>{k.d(ze,{h:()=>oe});var h=k(4482),v=k(5403);function oe(pe,de){return(0,h.e)((Ae,Re)=>{let ae=0;Ae.subscribe((0,v.x)(Re,Te=>pe.call(de,Te,ae++)&&Re.next(Te)))})}},8746:(Yt,ze,k)=>{k.d(ze,{x:()=>v});var h=k(4482);function v(oe){return(0,h.e)((pe,de)=>{try{pe.subscribe(de)}finally{de.add(oe)}})}},590:(Yt,ze,k)=>{k.d(ze,{P:()=>Re});var h=k(6805),v=k(9300),oe=k(5698),pe=k(6590),de=k(8068),Ae=k(4671);function Re(ae,Te){const se=arguments.length>=2;return he=>he.pipe(ae?(0,v.h)((De,ot)=>ae(De,ot,he)):Ae.y,(0,oe.q)(1),se?(0,pe.d)(Te):(0,de.T)(()=>new h.K))}},4004:(Yt,ze,k)=>{k.d(ze,{U:()=>oe});var h=k(4482),v=k(5403);function oe(pe,de){return(0,h.e)((Ae,Re)=>{let ae=0;Ae.subscribe((0,v.x)(Re,Te=>{Re.next(pe.call(de,Te,ae++))}))})}},8189:(Yt,ze,k)=>{k.d(ze,{J:()=>oe});var h=k(5577),v=k(4671);function oe(pe=1/0){return(0,h.z)(v.y,pe)}},5577:(Yt,ze,k)=>{k.d(ze,{z:()=>ae});var h=k(4004),v=k(8421),oe=k(4482),pe=k(9672),de=k(5403),Re=k(576);function ae(Te,se,he=1/0){return(0,Re.m)(se)?ae((De,ot)=>(0,h.U)((Ge,Ke)=>se(De,Ge,ot,Ke))((0,v.Xf)(Te(De,ot))),he):("number"==typeof se&&(he=se),(0,oe.e)((De,ot)=>function Ae(Te,se,he,De,ot,Ge,Ke,dt){const Ue=[];let Xe=0,St=0,Ye=!1;const je=()=>{Ye&&!Ue.length&&!Xe&&se.complete()},be=kt=>Xe<De?qe(kt):Ue.push(kt),qe=kt=>{Ge&&se.next(kt),Xe++;let Fe=!1;(0,v.Xf)(he(kt,St++)).subscribe((0,de.x)(se,jt=>{null==ot||ot(jt),Ge?be(jt):se.next(jt)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Xe--;Ue.length&&Xe<De;){const jt=Ue.shift();Ke?(0,pe.f)(se,Ke,()=>qe(jt)):qe(jt)}je()}catch(jt){se.error(jt)}}))};return Te.subscribe((0,de.x)(se,be,()=>{Ye=!0,je()})),()=>{null==dt||dt()}}(De,ot,Te,he)))}},5363:(Yt,ze,k)=>{k.d(ze,{Q:()=>pe});var h=k(9672),v=k(4482),oe=k(5403);function pe(de,Ae=0){return(0,v.e)((Re,ae)=>{Re.subscribe((0,oe.x)(ae,Te=>(0,h.f)(ae,de,()=>ae.next(Te),Ae),()=>(0,h.f)(ae,de,()=>ae.complete(),Ae),Te=>(0,h.f)(ae,de,()=>ae.error(Te),Ae)))})}},5026:(Yt,ze,k)=>{k.d(ze,{R:()=>pe});var h=k(4482),v=k(5403);function oe(de,Ae,Re,ae,Te){return(se,he)=>{let De=Re,ot=Ae,Ge=0;se.subscribe((0,v.x)(he,Ke=>{const dt=Ge++;ot=De?de(ot,Ke,dt):(De=!0,Ke),ae&&he.next(ot)},Te&&(()=>{De&&he.next(ot),he.complete()})))}}function pe(de,Ae){return(0,h.e)(oe(de,Ae,arguments.length>=2,!0))}},3099:(Yt,ze,k)=>{k.d(ze,{B:()=>Ae});var h=k(8996),v=k(5698),oe=k(7579),pe=k(930),de=k(4482);function Ae(ae={}){const{connector:Te=(()=>new oe.x),resetOnError:se=!0,resetOnComplete:he=!0,resetOnRefCountZero:De=!0}=ae;return ot=>{let Ge=null,Ke=null,dt=null,Ue=0,Xe=!1,St=!1;const Ye=()=>{null==Ke||Ke.unsubscribe(),Ke=null},je=()=>{Ye(),Ge=dt=null,Xe=St=!1},be=()=>{const qe=Ge;je(),null==qe||qe.unsubscribe()};return(0,de.e)((qe,kt)=>{Ue++,!St&&!Xe&&Ye();const Fe=dt=null!=dt?dt:Te();kt.add(()=>{Ue--,0===Ue&&!St&&!Xe&&(Ke=Re(be,De))}),Fe.subscribe(kt),Ge||(Ge=new pe.Hp({next:jt=>Fe.next(jt),error:jt=>{St=!0,Ye(),Ke=Re(je,se,jt),Fe.error(jt)},complete:()=>{Xe=!0,Ye(),Ke=Re(je,he),Fe.complete()}}),(0,h.D)(qe).subscribe(Ge))})(ot)}}function Re(ae,Te,...se){return!0===Te?(ae(),null):!1===Te?null:Te(...se).pipe((0,v.q)(1)).subscribe(()=>ae())}},8675:(Yt,ze,k)=>{k.d(ze,{O:()=>pe});var h=k(7272),v=k(3269),oe=k(4482);function pe(...de){const Ae=(0,v.yG)(de);return(0,oe.e)((Re,ae)=>{(Ae?(0,h.z)(de,Re,Ae):(0,h.z)(de,Re)).subscribe(ae)})}},9468:(Yt,ze,k)=>{k.d(ze,{R:()=>v});var h=k(4482);function v(oe,pe=0){return(0,h.e)((de,Ae)=>{Ae.add(oe.schedule(()=>de.subscribe(Ae),pe))})}},3900:(Yt,ze,k)=>{k.d(ze,{w:()=>pe});var h=k(8421),v=k(4482),oe=k(5403);function pe(de,Ae){return(0,v.e)((Re,ae)=>{let Te=null,se=0,he=!1;const De=()=>he&&!Te&&ae.complete();Re.subscribe((0,oe.x)(ae,ot=>{null==Te||Te.unsubscribe();let Ge=0;const Ke=se++;(0,h.Xf)(de(ot,Ke)).subscribe(Te=(0,oe.x)(ae,dt=>ae.next(Ae?Ae(ot,dt,Ke,Ge++):dt),()=>{Te=null,De()}))},()=>{he=!0,De()}))})}},5698:(Yt,ze,k)=>{k.d(ze,{q:()=>pe});var h=k(515),v=k(4482),oe=k(5403);function pe(de){return de<=0?()=>h.E:(0,v.e)((Ae,Re)=>{let ae=0;Ae.subscribe((0,oe.x)(Re,Te=>{++ae<=de&&(Re.next(Te),de<=ae&&Re.complete())}))})}},2722:(Yt,ze,k)=>{k.d(ze,{R:()=>de});var h=k(4482),v=k(5403),oe=k(8421),pe=k(5032);function de(Ae){return(0,h.e)((Re,ae)=>{(0,oe.Xf)(Ae).subscribe((0,v.x)(ae,()=>ae.complete(),pe.Z)),!ae.closed&&Re.subscribe(ae)})}},8505:(Yt,ze,k)=>{k.d(ze,{b:()=>de});var h=k(576),v=k(4482),oe=k(5403),pe=k(4671);function de(Ae,Re,ae){const Te=(0,h.m)(Ae)||Re||ae?{next:Ae,error:Re,complete:ae}:Ae;return Te?(0,v.e)((se,he)=>{var De;null===(De=Te.subscribe)||void 0===De||De.call(Te);let ot=!0;se.subscribe((0,oe.x)(he,Ge=>{var Ke;null===(Ke=Te.next)||void 0===Ke||Ke.call(Te,Ge),he.next(Ge)},()=>{var Ge;ot=!1,null===(Ge=Te.complete)||void 0===Ge||Ge.call(Te),he.complete()},Ge=>{var Ke;ot=!1,null===(Ke=Te.error)||void 0===Ke||Ke.call(Te,Ge),he.error(Ge)},()=>{var Ge,Ke;ot&&(null===(Ge=Te.unsubscribe)||void 0===Ge||Ge.call(Te)),null===(Ke=Te.finalize)||void 0===Ke||Ke.call(Te)}))}):pe.y}},8068:(Yt,ze,k)=>{k.d(ze,{T:()=>pe});var h=k(6805),v=k(4482),oe=k(5403);function pe(Ae=de){return(0,v.e)((Re,ae)=>{let Te=!1;Re.subscribe((0,oe.x)(ae,se=>{Te=!0,ae.next(se)},()=>Te?ae.complete():ae.error(Ae())))})}function de(){return new h.K}},4408:(Yt,ze,k)=>{k.d(ze,{o:()=>de});var h=k(727);class v extends h.w0{constructor(Re,ae){super()}schedule(Re,ae=0){return this}}const oe={setInterval(Ae,Re,...ae){const{delegate:Te}=oe;return(null==Te?void 0:Te.setInterval)?Te.setInterval(Ae,Re,...ae):setInterval(Ae,Re,...ae)},clearInterval(Ae){const{delegate:Re}=oe;return((null==Re?void 0:Re.clearInterval)||clearInterval)(Ae)},delegate:void 0};var pe=k(8737);class de extends v{constructor(Re,ae){super(Re,ae),this.scheduler=Re,this.work=ae,this.pending=!1}schedule(Re,ae=0){if(this.closed)return this;this.state=Re;const Te=this.id,se=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(se,Te,ae)),this.pending=!0,this.delay=ae,this.id=this.id||this.requestAsyncId(se,this.id,ae),this}requestAsyncId(Re,ae,Te=0){return oe.setInterval(Re.flush.bind(Re,this),Te)}recycleAsyncId(Re,ae,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return ae;oe.clearInterval(ae)}execute(Re,ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(Re,ae);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,ae){let se,Te=!1;try{this.work(Re)}catch(he){Te=!0,se=he||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Re,scheduler:ae}=this,{actions:Te}=ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Te,this),null!=Re&&(this.id=this.recycleAsyncId(ae,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(Yt,ze,k)=>{k.d(ze,{v:()=>oe});var h=k(6063);class v{constructor(de,Ae=v.now){this.schedulerActionCtor=de,this.now=Ae}schedule(de,Ae=0,Re){return new this.schedulerActionCtor(this,de).schedule(Re,Ae)}}v.now=h.l.now;class oe extends v{constructor(de,Ae=v.now){super(de,Ae),this.actions=[],this._active=!1,this._scheduled=void 0}flush(de){const{actions:Ae}=this;if(this._active)return void Ae.push(de);let Re;this._active=!0;do{if(Re=de.execute(de.state,de.delay))break}while(de=Ae.shift());if(this._active=!1,Re){for(;de=Ae.shift();)de.unsubscribe();throw Re}}}},4986:(Yt,ze,k)=>{k.d(ze,{P:()=>pe,z:()=>oe});var h=k(4408);const oe=new(k(7565).v)(h.o),pe=oe},6063:(Yt,ze,k)=>{k.d(ze,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Yt,ze,k)=>{k.d(ze,{z:()=>h});const h={setTimeout(v,oe,...pe){const{delegate:de}=h;return(null==de?void 0:de.setTimeout)?de.setTimeout(v,oe,...pe):setTimeout(v,oe,...pe)},clearTimeout(v){const{delegate:oe}=h;return((null==oe?void 0:oe.clearTimeout)||clearTimeout)(v)},delegate:void 0}},2202:(Yt,ze,k)=>{k.d(ze,{h:()=>v});const v=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Yt,ze,k)=>{k.d(ze,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Yt,ze,k)=>{k.d(ze,{K:()=>v});const v=(0,k(3888).d)(oe=>function(){oe(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Yt,ze,k)=>{k.d(ze,{_6:()=>Ae,jO:()=>pe,yG:()=>de});var h=k(576),v=k(3532);function oe(Re){return Re[Re.length-1]}function pe(Re){return(0,h.m)(oe(Re))?Re.pop():void 0}function de(Re){return(0,v.K)(oe(Re))?Re.pop():void 0}function Ae(Re,ae){return"number"==typeof oe(Re)?Re.pop():ae}},4742:(Yt,ze,k)=>{k.d(ze,{D:()=>de});const{isArray:h}=Array,{getPrototypeOf:v,prototype:oe,keys:pe}=Object;function de(Re){if(1===Re.length){const ae=Re[0];if(h(ae))return{args:ae,keys:null};if(function Ae(Re){return Re&&"object"==typeof Re&&v(Re)===oe}(ae)){const Te=pe(ae);return{args:Te.map(se=>ae[se]),keys:Te}}}return{args:Re,keys:null}}},8737:(Yt,ze,k)=>{function h(v,oe){if(v){const pe=v.indexOf(oe);0<=pe&&v.splice(pe,1)}}k.d(ze,{P:()=>h})},3888:(Yt,ze,k)=>{function h(v){const pe=v(de=>{Error.call(de),de.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}k.d(ze,{d:()=>h})},1810:(Yt,ze,k)=>{function h(v,oe){return v.reduce((pe,de,Ae)=>(pe[de]=oe[Ae],pe),{})}k.d(ze,{n:()=>h})},2806:(Yt,ze,k)=>{k.d(ze,{O:()=>pe,x:()=>oe});var h=k(2416);let v=null;function oe(de){if(h.v.useDeprecatedSynchronousErrorHandling){const Ae=!v;if(Ae&&(v={errorThrown:!1,error:null}),de(),Ae){const{errorThrown:Re,error:ae}=v;if(v=null,Re)throw ae}}else de()}function pe(de){h.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=de)}},9672:(Yt,ze,k)=>{function h(v,oe,pe,de=0,Ae=!1){const Re=oe.schedule(function(){pe(),Ae?v.add(this.schedule(null,de)):this.unsubscribe()},de);if(v.add(Re),!Ae)return Re}k.d(ze,{f:()=>h})},4671:(Yt,ze,k)=>{function h(v){return v}k.d(ze,{y:()=>h})},1144:(Yt,ze,k)=>{k.d(ze,{z:()=>h});const h=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(Yt,ze,k)=>{k.d(ze,{D:()=>v});var h=k(576);function v(oe){return Symbol.asyncIterator&&(0,h.m)(null==oe?void 0:oe[Symbol.asyncIterator])}},576:(Yt,ze,k)=>{function h(v){return"function"==typeof v}k.d(ze,{m:()=>h})},3670:(Yt,ze,k)=>{k.d(ze,{c:()=>oe});var h=k(8822),v=k(576);function oe(pe){return(0,v.m)(pe[h.L])}},6495:(Yt,ze,k)=>{k.d(ze,{T:()=>oe});var h=k(2202),v=k(576);function oe(pe){return(0,v.m)(null==pe?void 0:pe[h.h])}},8239:(Yt,ze,k)=>{k.d(ze,{t:()=>v});var h=k(576);function v(oe){return(0,h.m)(null==oe?void 0:oe.then)}},3260:(Yt,ze,k)=>{k.d(ze,{L:()=>pe,Q:()=>oe});var h=k(655),v=k(576);function oe(de){return(0,h.FC)(this,arguments,function*(){const Re=de.getReader();try{for(;;){const{value:ae,done:Te}=yield(0,h.qq)(Re.read());if(Te)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ae)}}finally{Re.releaseLock()}})}function pe(de){return(0,v.m)(null==de?void 0:de.getReader)}},3532:(Yt,ze,k)=>{k.d(ze,{K:()=>v});var h=k(576);function v(oe){return oe&&(0,h.m)(oe.schedule)}},4482:(Yt,ze,k)=>{k.d(ze,{A:()=>v,e:()=>oe});var h=k(576);function v(pe){return(0,h.m)(null==pe?void 0:pe.lift)}function oe(pe){return de=>{if(v(de))return de.lift(function(Ae){try{return pe(Ae,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Yt,ze,k)=>{k.d(ze,{Z:()=>pe});var h=k(4004);const{isArray:v}=Array;function pe(de){return(0,h.U)(Ae=>function oe(de,Ae){return v(Ae)?de(...Ae):de(Ae)}(de,Ae))}},5032:(Yt,ze,k)=>{function h(){}k.d(ze,{Z:()=>h})},7849:(Yt,ze,k)=>{k.d(ze,{h:()=>oe});var h=k(2416),v=k(3410);function oe(pe){v.z.setTimeout(()=>{const{onUnhandledError:de}=h.v;if(!de)throw pe;de(pe)})}},4532:(Yt,ze,k)=>{function h(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(ze,{z:()=>h})},655:(Yt,ze,k)=>{function pe(et,nt){var ut={};for(var gt in et)Object.prototype.hasOwnProperty.call(et,gt)&&nt.indexOf(gt)<0&&(ut[gt]=et[gt]);if(null!=et&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(gt=Object.getOwnPropertySymbols(et);We<gt.length;We++)nt.indexOf(gt[We])<0&&Object.prototype.propertyIsEnumerable.call(et,gt[We])&&(ut[gt[We]]=et[gt[We]])}return ut}function ae(et,nt,ut,gt){return new(ut||(ut=Promise))(function(Pt,Kt){function dn(mn){try{Tt(gt.next(mn))}catch(An){Kt(An)}}function vn(mn){try{Tt(gt.throw(mn))}catch(An){Kt(An)}}function Tt(mn){mn.done?Pt(mn.value):function We(Pt){return Pt instanceof ut?Pt:new ut(function(Kt){Kt(Pt)})}(mn.value).then(dn,vn)}Tt((gt=gt.apply(et,nt||[])).next())})}function Ue(et){return this instanceof Ue?(this.v=et,this):new Ue(et)}function Xe(et,nt,ut){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,gt=ut.apply(et,nt||[]),Pt=[];return We={},Kt("next"),Kt("throw"),Kt("return"),We[Symbol.asyncIterator]=function(){return this},We;function Kt(sn){gt[sn]&&(We[sn]=function(hn){return new Promise(function(Mn,kn){Pt.push([sn,hn,Mn,kn])>1||dn(sn,hn)})})}function dn(sn,hn){try{!function vn(sn){sn.value instanceof Ue?Promise.resolve(sn.value.v).then(Tt,mn):An(Pt[0][2],sn)}(gt[sn](hn))}catch(Mn){An(Pt[0][3],Mn)}}function Tt(sn){dn("next",sn)}function mn(sn){dn("throw",sn)}function An(sn,hn){sn(hn),Pt.shift(),Pt.length&&dn(Pt[0][0],Pt[0][1])}}function Ye(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,nt=et[Symbol.asyncIterator];return nt?nt.call(et):(et=function De(et){var nt="function"==typeof Symbol&&Symbol.iterator,ut=nt&&et[nt],gt=0;if(ut)return ut.call(et);if(et&&"number"==typeof et.length)return{next:function(){return et&&gt>=et.length&&(et=void 0),{value:et&&et[gt++],done:!et}}};throw new TypeError(nt?"Object is not iterable.":"Symbol.iterator is not defined.")}(et),ut={},gt("next"),gt("throw"),gt("return"),ut[Symbol.asyncIterator]=function(){return this},ut);function gt(Pt){ut[Pt]=et[Pt]&&function(Kt){return new Promise(function(dn,vn){!function We(Pt,Kt,dn,vn){Promise.resolve(vn).then(function(Tt){Pt({value:Tt,done:dn})},Kt)}(dn,vn,(Kt=et[Pt](Kt)).done,Kt.value)})}}}k.d(ze,{FC:()=>Xe,KL:()=>Ye,_T:()=>pe,mG:()=>ae,qq:()=>Ue})},1777:(Yt,ze,k)=>{k.d(ze,{LC:()=>v,SB:()=>Te,X$:()=>pe,ZE:()=>St,ZN:()=>Xe,_j:()=>h,eR:()=>he,jt:()=>de,k1:()=>Ye,l3:()=>oe,oB:()=>ae,vP:()=>Re});class h{}class v{}const oe="*";function pe(je,be){return{type:7,name:je,definitions:be,options:{}}}function de(je,be=null){return{type:4,styles:be,timings:je}}function Re(je,be=null){return{type:2,steps:je,options:be}}function ae(je){return{type:6,styles:je,offset:null}}function Te(je,be,qe){return{type:0,name:je,styles:be,options:qe}}function he(je,be,qe=null){return{type:1,expr:je,animation:be,options:qe}}function Ue(je){Promise.resolve(null).then(je)}class Xe{constructor(be=0,qe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=be+qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}onStart(be){this._onStartFns.push(be)}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ue(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(be=>be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(be){this._position=this.totalTime?be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(be){const qe="start"==be?this._onStartFns:this._onDoneFns;qe.forEach(kt=>kt()),qe.length=0}}class St{constructor(be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=be;let qe=0,kt=0,Fe=0;const jt=this.players.length;0==jt?Ue(()=>this._onFinish()):this.players.forEach(Bt=>{Bt.onDone(()=>{++qe==jt&&this._onFinish()}),Bt.onDestroy(()=>{++kt==jt&&this._onDestroy()}),Bt.onStart(()=>{++Fe==jt&&this._onStart()})}),this.totalTime=this.players.reduce((Bt,et)=>Math.max(Bt,et.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(be=>be()),this._onDoneFns=[])}init(){this.players.forEach(be=>be.init())}onStart(be){this._onStartFns.push(be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(be=>be()),this._onStartFns=[])}onDone(be){this._onDoneFns.push(be)}onDestroy(be){this._onDestroyFns.push(be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(be=>be.play())}pause(){this.players.forEach(be=>be.pause())}restart(){this.players.forEach(be=>be.restart())}finish(){this._onFinish(),this.players.forEach(be=>be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(be=>be.destroy()),this._onDestroyFns.forEach(be=>be()),this._onDestroyFns=[])}reset(){this.players.forEach(be=>be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(be){const qe=be*this.totalTime;this.players.forEach(kt=>{const Fe=kt.totalTime?Math.min(1,qe/kt.totalTime):1;kt.setPosition(Fe)})}getPosition(){const be=this.players.reduce((qe,kt)=>null===qe||kt.totalTime>qe.totalTime?kt:qe,null);return null!=be?be.getPosition():0}beforeDestroy(){this.players.forEach(be=>{be.beforeDestroy&&be.beforeDestroy()})}triggerCallback(be){const qe="start"==be?this._onStartFns:this._onDoneFns;qe.forEach(kt=>kt()),qe.length=0}}const Ye="!"},8255:(Yt,ze,k)=>{k.d(ze,{Em:()=>gt,tE:()=>En,qV:()=>lr,qm:()=>Lr,ic:()=>Pt,X6:()=>Wn,yG:()=>Qn});var h=k(9808),v=k(5e3),oe=k(925),pe=k(7579),de=k(727),Ae=k(1135),Re=k(9646),ae=k(1159),Te=k(9300),he=k(8505),De=k(8372),ot=k(4004),Ge=k(5698),Ke=k(1884),dt=k(2722),Ue=k(3191);class gt extends class nt{constructor(H){this._items=H,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new pe.x,this._typeaheadSubscription=de.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=q=>q.disabled,this._pressedLetters=[],this.tabOut=new pe.x,this.change=new pe.x,H instanceof v.n_E&&H.changes.subscribe(q=>{if(this._activeItem){const Qe=q.toArray().indexOf(this._activeItem);Qe>-1&&Qe!==this._activeItemIndex&&(this._activeItemIndex=Qe)}})}skipPredicate(H){return this._skipPredicateFn=H,this}withWrap(H=!0){return this._wrap=H,this}withVerticalOrientation(H=!0){return this._vertical=H,this}withHorizontalOrientation(H){return this._horizontal=H,this}withAllowedModifierKeys(H){return this._allowedModifierKeys=H,this}withTypeAhead(H=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,he.b)(q=>this._pressedLetters.push(q)),(0,De.b)(H),(0,Te.h)(()=>this._pressedLetters.length>0),(0,ot.U)(()=>this._pressedLetters.join(""))).subscribe(q=>{const Ce=this._getItemsArray();for(let Qe=1;Qe<Ce.length+1;Qe++){const At=(this._activeItemIndex+Qe)%Ce.length,we=Ce[At];if(!this._skipPredicateFn(we)&&0===we.getLabel().toUpperCase().trim().indexOf(q)){this.setActiveItem(At);break}}this._pressedLetters=[]}),this}withHomeAndEnd(H=!0){return this._homeAndEnd=H,this}setActiveItem(H){const q=this._activeItem;this.updateActiveItem(H),this._activeItem!==q&&this.change.next(this._activeItemIndex)}onKeydown(H){const q=H.keyCode,Qe=["altKey","ctrlKey","metaKey","shiftKey"].every(At=>!H[At]||this._allowedModifierKeys.indexOf(At)>-1);switch(q){case ae.Mf:return void this.tabOut.next();case ae.JH:if(this._vertical&&Qe){this.setNextItemActive();break}return;case ae.LH:if(this._vertical&&Qe){this.setPreviousItemActive();break}return;case ae.SV:if(this._horizontal&&Qe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ae.oh:if(this._horizontal&&Qe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ae.Sd:if(this._homeAndEnd&&Qe){this.setFirstItemActive();break}return;case ae.uR:if(this._homeAndEnd&&Qe){this.setLastItemActive();break}return;default:return void((Qe||(0,ae.Vb)(H,"shiftKey"))&&(H.key&&1===H.key.length?this._letterKeyStream.next(H.key.toLocaleUpperCase()):(q>=ae.A&&q<=ae.Z||q>=ae.xE&&q<=ae.aO)&&this._letterKeyStream.next(String.fromCharCode(q))))}this._pressedLetters=[],H.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(H){const q=this._getItemsArray(),Ce="number"==typeof H?H:q.indexOf(H),Qe=q[Ce];this._activeItem=null==Qe?null:Qe,this._activeItemIndex=Ce}_setActiveItemByDelta(H){this._wrap?this._setActiveInWrapMode(H):this._setActiveInDefaultMode(H)}_setActiveInWrapMode(H){const q=this._getItemsArray();for(let Ce=1;Ce<=q.length;Ce++){const Qe=(this._activeItemIndex+H*Ce+q.length)%q.length;if(!this._skipPredicateFn(q[Qe]))return void this.setActiveItem(Qe)}}_setActiveInDefaultMode(H){this._setActiveItemByIndex(this._activeItemIndex+H,H)}_setActiveItemByIndex(H,q){const Ce=this._getItemsArray();if(Ce[H]){for(;this._skipPredicateFn(Ce[H]);)if(!Ce[H+=q])return;this.setActiveItem(H)}}_getItemsArray(){return this._items instanceof v.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(H){return this._origin=H,this}setActiveItem(H){super.setActiveItem(H),this.activeItem&&this.activeItem.focus(this._origin)}}let Pt=(()=>{class ee{constructor(q){this._platform=q}isDisabled(q){return q.hasAttribute("disabled")}isVisible(q){return function dn(ee){return!!(ee.offsetWidth||ee.offsetHeight||"function"==typeof ee.getClientRects&&ee.getClientRects().length)}(q)&&"visible"===getComputedStyle(q).visibility}isTabbable(q){if(!this._platform.isBrowser)return!1;const Ce=function Kt(ee){try{return ee.frameElement}catch(H){return null}}(function Kn(ee){return ee.ownerDocument&&ee.ownerDocument.defaultView||window}(q));if(Ce&&(-1===Mn(Ce)||!this.isVisible(Ce)))return!1;let Qe=q.nodeName.toLowerCase(),At=Mn(q);return q.hasAttribute("contenteditable")?-1!==At:!("iframe"===Qe||"object"===Qe||this._platform.WEBKIT&&this._platform.IOS&&!function kn(ee){let H=ee.nodeName.toLowerCase(),q="input"===H&&ee.type;return"text"===q||"password"===q||"select"===H||"textarea"===H}(q))&&("audio"===Qe?!!q.hasAttribute("controls")&&-1!==At:"video"===Qe?-1!==At&&(null!==At||this._platform.FIREFOX||q.hasAttribute("controls")):q.tabIndex>=0)}isFocusable(q,Ce){return function Dn(ee){return!function Tt(ee){return function An(ee){return"input"==ee.nodeName.toLowerCase()}(ee)&&"hidden"==ee.type}(ee)&&(function vn(ee){let H=ee.nodeName.toLowerCase();return"input"===H||"select"===H||"button"===H||"textarea"===H}(ee)||function mn(ee){return function sn(ee){return"a"==ee.nodeName.toLowerCase()}(ee)&&ee.hasAttribute("href")}(ee)||ee.hasAttribute("contenteditable")||hn(ee))}(q)&&!this.isDisabled(q)&&((null==Ce?void 0:Ce.ignoreVisibility)||this.isVisible(q))}}return ee.\u0275fac=function(q){return new(q||ee)(v.LFG(oe.t4))},ee.\u0275prov=v.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})();function hn(ee){if(!ee.hasAttribute("tabindex")||void 0===ee.tabIndex)return!1;let H=ee.getAttribute("tabindex");return!(!H||isNaN(parseInt(H,10)))}function Mn(ee){if(!hn(ee))return null;const H=parseInt(ee.getAttribute("tabindex")||"",10);return isNaN(H)?-1:H}class ur{constructor(H,q,Ce,Qe,At=!1){this._element=H,this._checker=q,this._ngZone=Ce,this._document=Qe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,At||this.attachAnchors()}get enabled(){return this._enabled}set enabled(H){this._enabled=H,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(H,this._startAnchor),this._toggleAnchorTabIndex(H,this._endAnchor))}destroy(){const H=this._startAnchor,q=this._endAnchor;H&&(H.removeEventListener("focus",this.startAnchorListener),H.remove()),q&&(q.removeEventListener("focus",this.endAnchorListener),q.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(H){return new Promise(q=>{this._executeOnStable(()=>q(this.focusInitialElement(H)))})}focusFirstTabbableElementWhenReady(H){return new Promise(q=>{this._executeOnStable(()=>q(this.focusFirstTabbableElement(H)))})}focusLastTabbableElementWhenReady(H){return new Promise(q=>{this._executeOnStable(()=>q(this.focusLastTabbableElement(H)))})}_getRegionBoundary(H){const q=this._element.querySelectorAll(`[cdk-focus-region-${H}], [cdkFocusRegion${H}], [cdk-focus-${H}]`);return"start"==H?q.length?q[0]:this._getFirstTabbableElement(this._element):q.length?q[q.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(H){const q=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(q){if(!this._checker.isFocusable(q)){const Ce=this._getFirstTabbableElement(q);return null==Ce||Ce.focus(H),!!Ce}return q.focus(H),!0}return this.focusFirstTabbableElement(H)}focusFirstTabbableElement(H){const q=this._getRegionBoundary("start");return q&&q.focus(H),!!q}focusLastTabbableElement(H){const q=this._getRegionBoundary("end");return q&&q.focus(H),!!q}hasAttached(){return this._hasAttached}_getFirstTabbableElement(H){if(this._checker.isFocusable(H)&&this._checker.isTabbable(H))return H;const q=H.children;for(let Ce=0;Ce<q.length;Ce++){const Qe=q[Ce].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(q[Ce]):null;if(Qe)return Qe}return null}_getLastTabbableElement(H){if(this._checker.isFocusable(H)&&this._checker.isTabbable(H))return H;const q=H.children;for(let Ce=q.length-1;Ce>=0;Ce--){const Qe=q[Ce].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(q[Ce]):null;if(Qe)return Qe}return null}_createAnchor(){const H=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,H),H.classList.add("cdk-visually-hidden"),H.classList.add("cdk-focus-trap-anchor"),H.setAttribute("aria-hidden","true"),H}_toggleAnchorTabIndex(H,q){H?q.setAttribute("tabindex","0"):q.removeAttribute("tabindex")}toggleAnchors(H){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(H,this._startAnchor),this._toggleAnchorTabIndex(H,this._endAnchor))}_executeOnStable(H){this._ngZone.isStable?H():this._ngZone.onStable.pipe((0,Ge.q)(1)).subscribe(H)}}let lr=(()=>{class ee{constructor(q,Ce,Qe){this._checker=q,this._ngZone=Ce,this._document=Qe}create(q,Ce=!1){return new ur(q,this._checker,this._ngZone,this._document,Ce)}}return ee.\u0275fac=function(q){return new(q||ee)(v.LFG(Pt),v.LFG(v.R0b),v.LFG(h.K0))},ee.\u0275prov=v.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})();function Wn(ee){return 0===ee.buttons||0===ee.offsetX&&0===ee.offsetY}function Qn(ee){const H=ee.touches&&ee.touches[0]||ee.changedTouches&&ee.changedTouches[0];return!(!H||-1!==H.identifier||null!=H.radiusX&&1!==H.radiusX||null!=H.radiusY&&1!==H.radiusY)}const Zn=new v.OlP("cdk-input-modality-detector-options"),kr={ignoreKeys:[ae.zL,ae.jx,ae.b2,ae.MW,ae.JU]},yr=(0,oe.i$)({passive:!0,capture:!0});let Ot=(()=>{class ee{constructor(q,Ce,Qe,At){this._platform=q,this._mostRecentTarget=null,this._modality=new Ae.X(null),this._lastTouchMs=0,this._onKeydown=we=>{var me,Se;(null===(Se=null===(me=this._options)||void 0===me?void 0:me.ignoreKeys)||void 0===Se?void 0:Se.some(Ze=>Ze===we.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,oe.sA)(we))},this._onMousedown=we=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Wn(we)?"keyboard":"mouse"),this._mostRecentTarget=(0,oe.sA)(we))},this._onTouchstart=we=>{Qn(we)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,oe.sA)(we))},this._options=Object.assign(Object.assign({},kr),At),this.modalityDetected=this._modality.pipe(function se(ee){return(0,Te.h)((H,q)=>ee<=q)}(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ke.x)()),q.isBrowser&&Ce.runOutsideAngular(()=>{Qe.addEventListener("keydown",this._onKeydown,yr),Qe.addEventListener("mousedown",this._onMousedown,yr),Qe.addEventListener("touchstart",this._onTouchstart,yr)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,yr),document.removeEventListener("mousedown",this._onMousedown,yr),document.removeEventListener("touchstart",this._onTouchstart,yr))}}return ee.\u0275fac=function(q){return new(q||ee)(v.LFG(oe.t4),v.LFG(v.R0b),v.LFG(h.K0),v.LFG(Zn,8))},ee.\u0275prov=v.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})();const xn=new v.OlP("cdk-focus-monitor-default-options"),dr=(0,oe.i$)({passive:!0,capture:!0});let En=(()=>{class ee{constructor(q,Ce,Qe,At,we){this._ngZone=q,this._platform=Ce,this._inputModalityDetector=Qe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pe.x,this._rootNodeFocusAndBlurListener=me=>{const Se=(0,oe.sA)(me),Ze="focus"===me.type?this._onFocus:this._onBlur;for(let $e=Se;$e;$e=$e.parentElement)Ze.call(this,me,$e)},this._document=At,this._detectionMode=(null==we?void 0:we.detectionMode)||0}monitor(q,Ce=!1){const Qe=(0,Ue.fI)(q);if(!this._platform.isBrowser||1!==Qe.nodeType)return(0,Re.of)(null);const At=(0,oe.kV)(Qe)||this._getDocument(),we=this._elementInfo.get(Qe);if(we)return Ce&&(we.checkChildren=!0),we.subject;const me={checkChildren:Ce,subject:new pe.x,rootNode:At};return this._elementInfo.set(Qe,me),this._registerGlobalListeners(me),me.subject}stopMonitoring(q){const Ce=(0,Ue.fI)(q),Qe=this._elementInfo.get(Ce);Qe&&(Qe.subject.complete(),this._setClasses(Ce),this._elementInfo.delete(Ce),this._removeGlobalListeners(Qe))}focusVia(q,Ce,Qe){const At=(0,Ue.fI)(q);At===this._getDocument().activeElement?this._getClosestElementsInfo(At).forEach(([me,Se])=>this._originChanged(me,Ce,Se)):(this._setOrigin(Ce),"function"==typeof At.focus&&At.focus(Qe))}ngOnDestroy(){this._elementInfo.forEach((q,Ce)=>this.stopMonitoring(Ce))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(q){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(q)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(q){return 1===this._detectionMode||!!(null==q?void 0:q.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(q,Ce){q.classList.toggle("cdk-focused",!!Ce),q.classList.toggle("cdk-touch-focused","touch"===Ce),q.classList.toggle("cdk-keyboard-focused","keyboard"===Ce),q.classList.toggle("cdk-mouse-focused","mouse"===Ce),q.classList.toggle("cdk-program-focused","program"===Ce)}_setOrigin(q,Ce=!1){this._ngZone.runOutsideAngular(()=>{this._origin=q,this._originFromTouchInteraction="touch"===q&&Ce,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(q,Ce){const Qe=this._elementInfo.get(Ce),At=(0,oe.sA)(q);!Qe||!Qe.checkChildren&&Ce!==At||this._originChanged(Ce,this._getFocusOrigin(At),Qe)}_onBlur(q,Ce){const Qe=this._elementInfo.get(Ce);!Qe||Qe.checkChildren&&q.relatedTarget instanceof Node&&Ce.contains(q.relatedTarget)||(this._setClasses(Ce),this._emitOrigin(Qe.subject,null))}_emitOrigin(q,Ce){this._ngZone.run(()=>q.next(Ce))}_registerGlobalListeners(q){if(!this._platform.isBrowser)return;const Ce=q.rootNode,Qe=this._rootNodeFocusListenerCount.get(Ce)||0;Qe||this._ngZone.runOutsideAngular(()=>{Ce.addEventListener("focus",this._rootNodeFocusAndBlurListener,dr),Ce.addEventListener("blur",this._rootNodeFocusAndBlurListener,dr)}),this._rootNodeFocusListenerCount.set(Ce,Qe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,dt.R)(this._stopInputModalityDetector)).subscribe(At=>{this._setOrigin(At,!0)}))}_removeGlobalListeners(q){const Ce=q.rootNode;if(this._rootNodeFocusListenerCount.has(Ce)){const Qe=this._rootNodeFocusListenerCount.get(Ce);Qe>1?this._rootNodeFocusListenerCount.set(Ce,Qe-1):(Ce.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dr),Ce.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dr),this._rootNodeFocusListenerCount.delete(Ce))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(q,Ce,Qe){this._setClasses(q,Ce),this._emitOrigin(Qe.subject,Ce),this._lastFocusOrigin=Ce}_getClosestElementsInfo(q){const Ce=[];return this._elementInfo.forEach((Qe,At)=>{(At===q||Qe.checkChildren&&At.contains(q))&&Ce.push([At,Qe])}),Ce}}return ee.\u0275fac=function(q){return new(q||ee)(v.LFG(v.R0b),v.LFG(oe.t4),v.LFG(Ot),v.LFG(h.K0,8),v.LFG(xn,8))},ee.\u0275prov=v.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})();const $n="cdk-high-contrast-black-on-white",Pr="cdk-high-contrast-white-on-black",pn="cdk-high-contrast-active";let Lr=(()=>{class ee{constructor(q,Ce){this._platform=q,this._document=Ce}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const q=this._document.createElement("div");q.style.backgroundColor="rgb(1,2,3)",q.style.position="absolute",this._document.body.appendChild(q);const Ce=this._document.defaultView||window,Qe=Ce&&Ce.getComputedStyle?Ce.getComputedStyle(q):null,At=(Qe&&Qe.backgroundColor||"").replace(/ /g,"");switch(q.remove(),At){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const q=this._document.body.classList;q.remove(pn),q.remove($n),q.remove(Pr),this._hasCheckedHighContrastMode=!0;const Ce=this.getHighContrastMode();1===Ce?(q.add(pn),q.add($n)):2===Ce&&(q.add(pn),q.add(Pr))}}}return ee.\u0275fac=function(q){return new(q||ee)(v.LFG(oe.t4),v.LFG(h.K0))},ee.\u0275prov=v.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},226:(Yt,ze,k)=>{k.d(ze,{Is:()=>Re,vT:()=>Te});var h=k(5e3),v=k(9808);const oe=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function pe(){return(0,h.f3M)(v.K0)}}),de=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Re=(()=>{class se{constructor(De){if(this.value="ltr",this.change=new h.vpe,De){const Ge=De.documentElement?De.documentElement.dir:null;this.value=function Ae(se){const he=(null==se?void 0:se.toLowerCase())||"";return"auto"===he&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?de.test(navigator.language)?"rtl":"ltr":"rtl"===he?"rtl":"ltr"}((De.body?De.body.dir:null)||Ge||"ltr")}}ngOnDestroy(){this.change.complete()}}return se.\u0275fac=function(De){return new(De||se)(h.LFG(oe,8))},se.\u0275prov=h.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),Te=(()=>{class se{}return se.\u0275fac=function(De){return new(De||se)},se.\u0275mod=h.oAB({type:se}),se.\u0275inj=h.cJS({}),se})()},3191:(Yt,ze,k)=>{k.d(ze,{Ig:()=>v,fI:()=>Re,su:()=>oe});var h=k(5e3);function v(Te){return null!=Te&&"false"!=`${Te}`}function oe(Te,se=0){return function pe(Te){return!isNaN(parseFloat(Te))&&!isNaN(Number(Te))}(Te)?Number(Te):se}function Re(Te){return Te instanceof h.SBq?Te.nativeElement:Te}},1159:(Yt,ze,k)=>{k.d(ze,{A:()=>An,JH:()=>Ye,JU:()=>Ae,K5:()=>de,LH:()=>Xe,L_:()=>De,MW:()=>vt,Mf:()=>oe,SV:()=>St,Sd:()=>dt,Vb:()=>He,Z:()=>ht,aO:()=>Kt,b2:()=>Gr,hY:()=>he,jx:()=>Re,oh:()=>Ue,uR:()=>Ke,xE:()=>Fe,zL:()=>ae});const oe=9,de=13,Ae=16,Re=17,ae=18,he=27,De=32,Ke=35,dt=36,Ue=37,Xe=38,St=39,Ye=40,Fe=48,Kt=57,An=65,ht=90,vt=91,Gr=224;function He(xe,...rt){return rt.length?rt.some(Mt=>xe[Mt]):xe.altKey||xe.shiftKey||xe.ctrlKey||xe.metaKey}},925:(Yt,ze,k)=>{k.d(ze,{Mq:()=>Ge,Oy:()=>je,_i:()=>Ke,i$:()=>he,kV:()=>Xe,qK:()=>ae,sA:()=>Ye,t4:()=>pe});var h=k(5e3),v=k(9808);let oe;try{oe="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(be){oe=!1}let Ae,pe=(()=>{class be{constructor(kt){this._platformId=kt,this.isBrowser=this._platformId?(0,v.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oe)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return be.\u0275fac=function(kt){return new(kt||be)(h.LFG(h.Lbi))},be.\u0275prov=h.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();const Re=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ae(){if(Ae)return Ae;if("object"!=typeof document||!document)return Ae=new Set(Re),Ae;let be=document.createElement("input");return Ae=new Set(Re.filter(qe=>(be.setAttribute("type",qe),be.type===qe))),Ae}let Te,De,ot,dt;function he(be){return function se(){if(null==Te&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Te=!0}))}finally{Te=Te||!1}return Te}()?be:!!be.capture}function Ge(){if(null==ot){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ot=!1,ot;if("scrollBehavior"in document.documentElement.style)ot=!0;else{const be=Element.prototype.scrollTo;ot=!!be&&!/\{\s*\[native code\]\s*\}/.test(be.toString())}}return ot}function Ke(){if("object"!=typeof document||!document)return 0;if(null==De){const be=document.createElement("div"),qe=be.style;be.dir="rtl",qe.width="1px",qe.overflow="auto",qe.visibility="hidden",qe.pointerEvents="none",qe.position="absolute";const kt=document.createElement("div"),Fe=kt.style;Fe.width="2px",Fe.height="1px",be.appendChild(kt),document.body.appendChild(be),De=0,0===be.scrollLeft&&(be.scrollLeft=1,De=0===be.scrollLeft?1:2),be.remove()}return De}function Xe(be){if(function Ue(){if(null==dt){const be="undefined"!=typeof document?document.head:null;dt=!(!be||!be.createShadowRoot&&!be.attachShadow)}return dt}()){const qe=be.getRootNode?be.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&qe instanceof ShadowRoot)return qe}return null}function Ye(be){return be.composedPath?be.composedPath()[0]:be.target}function je(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},5494:(Yt,ze,k)=>{k.d(ze,{PQ:()=>rr,ZD:()=>zr,mF:()=>Sn,rL:()=>ti});var h=k(3191),v=k(5e3),oe=k(4408),pe=k(727);const de={schedule(Ot){let mt=requestAnimationFrame,ve=cancelAnimationFrame;const{delegate:it}=de;it&&(mt=it.requestAnimationFrame,ve=it.cancelAnimationFrame);const ht=mt(vt=>{ve=void 0,Ot(vt)});return new pe.w0(()=>null==ve?void 0:ve(ht))},requestAnimationFrame(...Ot){const{delegate:mt}=de;return((null==mt?void 0:mt.requestAnimationFrame)||requestAnimationFrame)(...Ot)},cancelAnimationFrame(...Ot){const{delegate:mt}=de;return((null==mt?void 0:mt.cancelAnimationFrame)||cancelAnimationFrame)(...Ot)},delegate:void 0};var Re=k(7565);new class ae extends Re.v{flush(mt){this._active=!0;const ve=this._scheduled;this._scheduled=void 0;const{actions:it}=this;let ht;mt=mt||it.shift();do{if(ht=mt.execute(mt.state,mt.delay))break}while((mt=it[0])&&mt.id===ve&&it.shift());if(this._active=!1,ht){for(;(mt=it[0])&&mt.id===ve&&it.shift();)mt.unsubscribe();throw ht}}}(class Ae extends oe.o{constructor(mt,ve){super(mt,ve),this.scheduler=mt,this.work=ve}requestAsyncId(mt,ve,it=0){return null!==it&&it>0?super.requestAsyncId(mt,ve,it):(mt.actions.push(this),mt._scheduled||(mt._scheduled=de.requestAnimationFrame(()=>mt.flush(void 0))))}recycleAsyncId(mt,ve,it=0){if(null!=it&&it>0||null==it&&this.delay>0)return super.recycleAsyncId(mt,ve,it);mt.actions.some(ht=>ht.id===ve)||(de.cancelAnimationFrame(ve),mt._scheduled=void 0)}});let De,he=1;const ot={};function Ge(Ot){return Ot in ot&&(delete ot[Ot],!0)}const Ke={setImmediate(Ot){const mt=he++;return ot[mt]=!0,De||(De=Promise.resolve()),De.then(()=>Ge(mt)&&Ot()),mt},clearImmediate(Ot){Ge(Ot)}},{setImmediate:Ue,clearImmediate:Xe}=Ke,St={setImmediate(...Ot){const{delegate:mt}=St;return((null==mt?void 0:mt.setImmediate)||Ue)(...Ot)},clearImmediate(Ot){const{delegate:mt}=St;return((null==mt?void 0:mt.clearImmediate)||Xe)(Ot)},delegate:void 0};new class je extends Re.v{flush(mt){this._active=!0;const ve=this._scheduled;this._scheduled=void 0;const{actions:it}=this;let ht;mt=mt||it.shift();do{if(ht=mt.execute(mt.state,mt.delay))break}while((mt=it[0])&&mt.id===ve&&it.shift());if(this._active=!1,ht){for(;(mt=it[0])&&mt.id===ve&&it.shift();)mt.unsubscribe();throw ht}}}(class Ye extends oe.o{constructor(mt,ve){super(mt,ve),this.scheduler=mt,this.work=ve}requestAsyncId(mt,ve,it=0){return null!==it&&it>0?super.requestAsyncId(mt,ve,it):(mt.actions.push(this),mt._scheduled||(mt._scheduled=St.setImmediate(mt.flush.bind(mt,void 0))))}recycleAsyncId(mt,ve,it=0){if(null!=it&&it>0||null==it&&this.delay>0)return super.recycleAsyncId(mt,ve,it);mt.actions.some(ht=>ht.id===ve)||(St.clearImmediate(ve),mt._scheduled=void 0)}});var kt=k(7579),Fe=k(9646),jt=k(8306),Bt=k(4968),et=k(4986),nt=k(4482),ut=k(8421),gt=k(5403),Pt=k(3532);function vn(Ot,mt=et.z){return function We(Ot){return(0,nt.e)((mt,ve)=>{let it=!1,ht=null,vt=null,xn=!1;const dr=()=>{if(null==vt||vt.unsubscribe(),vt=null,it){it=!1;const _r=ht;ht=null,ve.next(_r)}xn&&ve.complete()},En=()=>{vt=null,xn&&ve.complete()};mt.subscribe((0,gt.x)(ve,_r=>{it=!0,ht=_r,vt||(0,ut.Xf)(Ot(_r)).subscribe(vt=(0,gt.x)(ve,dr,En))},()=>{xn=!0,(!it||!vt||vt.closed)&&ve.complete()}))})}(()=>function dn(Ot=0,mt,ve=et.P){let it=-1;return null!=mt&&((0,Pt.K)(mt)?ve=mt:it=mt),new jt.y(ht=>{let vt=function Kt(Ot){return Ot instanceof Date&&!isNaN(Ot)}(Ot)?+Ot-ve.now():Ot;vt<0&&(vt=0);let xn=0;return ve.schedule(function(){ht.closed||(ht.next(xn++),0<=it?this.schedule(void 0,it):ht.complete())},vt)})}(Ot,mt))}var Tt=k(9300),mn=k(2722),An=k(9808),sn=k(925),hn=k(226);let Sn=(()=>{class Ot{constructor(ve,it,ht){this._ngZone=ve,this._platform=it,this._scrolled=new kt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ht}register(ve){this.scrollContainers.has(ve)||this.scrollContainers.set(ve,ve.elementScrolled().subscribe(()=>this._scrolled.next(ve)))}deregister(ve){const it=this.scrollContainers.get(ve);it&&(it.unsubscribe(),this.scrollContainers.delete(ve))}scrolled(ve=20){return this._platform.isBrowser?new jt.y(it=>{this._globalSubscription||this._addGlobalListener();const ht=ve>0?this._scrolled.pipe(vn(ve)).subscribe(it):this._scrolled.subscribe(it);return this._scrolledCount++,()=>{ht.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Fe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ve,it)=>this.deregister(it)),this._scrolled.complete()}ancestorScrolled(ve,it){const ht=this.getAncestorScrollContainers(ve);return this.scrolled(it).pipe((0,Tt.h)(vt=>!vt||ht.indexOf(vt)>-1))}getAncestorScrollContainers(ve){const it=[];return this.scrollContainers.forEach((ht,vt)=>{this._scrollableContainsElement(vt,ve)&&it.push(vt)}),it}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ve,it){let ht=(0,h.fI)(it),vt=ve.getElementRef().nativeElement;do{if(ht==vt)return!0}while(ht=ht.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ve=this._getWindow();return(0,Bt.R)(ve.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Ot.\u0275fac=function(ve){return new(ve||Ot)(v.LFG(v.R0b),v.LFG(sn.t4),v.LFG(An.K0,8))},Ot.\u0275prov=v.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot})(),rr=(()=>{class Ot{constructor(ve,it,ht,vt){this.elementRef=ve,this.scrollDispatcher=it,this.ngZone=ht,this.dir=vt,this._destroyed=new kt.x,this._elementScrolled=new jt.y(xn=>this.ngZone.runOutsideAngular(()=>(0,Bt.R)(this.elementRef.nativeElement,"scroll").pipe((0,mn.R)(this._destroyed)).subscribe(xn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ve){const it=this.elementRef.nativeElement,ht=this.dir&&"rtl"==this.dir.value;null==ve.left&&(ve.left=ht?ve.end:ve.start),null==ve.right&&(ve.right=ht?ve.start:ve.end),null!=ve.bottom&&(ve.top=it.scrollHeight-it.clientHeight-ve.bottom),ht&&0!=(0,sn._i)()?(null!=ve.left&&(ve.right=it.scrollWidth-it.clientWidth-ve.left),2==(0,sn._i)()?ve.left=ve.right:1==(0,sn._i)()&&(ve.left=ve.right?-ve.right:ve.right)):null!=ve.right&&(ve.left=it.scrollWidth-it.clientWidth-ve.right),this._applyScrollToOptions(ve)}_applyScrollToOptions(ve){const it=this.elementRef.nativeElement;(0,sn.Mq)()?it.scrollTo(ve):(null!=ve.top&&(it.scrollTop=ve.top),null!=ve.left&&(it.scrollLeft=ve.left))}measureScrollOffset(ve){const it="left",vt=this.elementRef.nativeElement;if("top"==ve)return vt.scrollTop;if("bottom"==ve)return vt.scrollHeight-vt.clientHeight-vt.scrollTop;const xn=this.dir&&"rtl"==this.dir.value;return"start"==ve?ve=xn?"right":it:"end"==ve&&(ve=xn?it:"right"),xn&&2==(0,sn._i)()?ve==it?vt.scrollWidth-vt.clientWidth-vt.scrollLeft:vt.scrollLeft:xn&&1==(0,sn._i)()?ve==it?vt.scrollLeft+vt.scrollWidth-vt.clientWidth:-vt.scrollLeft:ve==it?vt.scrollLeft:vt.scrollWidth-vt.clientWidth-vt.scrollLeft}}return Ot.\u0275fac=function(ve){return new(ve||Ot)(v.Y36(v.SBq),v.Y36(Sn),v.Y36(v.R0b),v.Y36(hn.Is,8))},Ot.\u0275dir=v.lG2({type:Ot,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Ot})(),ti=(()=>{class Ot{constructor(ve,it,ht){this._platform=ve,this._change=new kt.x,this._changeListener=vt=>{this._change.next(vt)},this._document=ht,it.runOutsideAngular(()=>{if(ve.isBrowser){const vt=this._getWindow();vt.addEventListener("resize",this._changeListener),vt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ve=this._getWindow();ve.removeEventListener("resize",this._changeListener),ve.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ve={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ve}getViewportRect(){const ve=this.getViewportScrollPosition(),{width:it,height:ht}=this.getViewportSize();return{top:ve.top,left:ve.left,bottom:ve.top+ht,right:ve.left+it,height:ht,width:it}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ve=this._document,it=this._getWindow(),ht=ve.documentElement,vt=ht.getBoundingClientRect();return{top:-vt.top||ve.body.scrollTop||it.scrollY||ht.scrollTop||0,left:-vt.left||ve.body.scrollLeft||it.scrollX||ht.scrollLeft||0}}change(ve=20){return ve>0?this._change.pipe(vn(ve)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ve=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ve.innerWidth,height:ve.innerHeight}:{width:0,height:0}}}return Ot.\u0275fac=function(ve){return new(ve||Ot)(v.LFG(sn.t4),v.LFG(v.R0b),v.LFG(An.K0,8))},Ot.\u0275prov=v.Yz7({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot})(),zr=(()=>{class Ot{}return Ot.\u0275fac=function(ve){return new(ve||Ot)},Ot.\u0275mod=v.oAB({type:Ot}),Ot.\u0275inj=v.cJS({}),Ot})()},9808:(Yt,ze,k)=>{k.d(ze,{Do:()=>je,EM:()=>oo,HT:()=>de,JF:()=>Ir,K0:()=>Re,Mx:()=>Si,NF:()=>Or,O5:()=>He,PM:()=>Wi,RF:()=>Nt,S$:()=>Ue,V_:()=>se,Ye:()=>be,b0:()=>Ye,bD:()=>Gi,ez:()=>ls,lw:()=>ae,mr:()=>St,n9:()=>nn,q:()=>oe,w_:()=>Ae});var h=k(5e3);let v=null;function oe(){return v}function de(V){v||(v=V)}class Ae{}const Re=new h.OlP("DocumentToken");let ae=(()=>{class V{historyGo(B){throw new Error("Not implemented")}}return V.\u0275fac=function(B){return new(B||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return function Te(){return(0,h.LFG)(he)}()},providedIn:"platform"}),V})();const se=new h.OlP("Location Initialized");let he=(()=>{class V extends ae{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(B){const ie=oe().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",B,!1),()=>ie.removeEventListener("popstate",B)}onHashChange(B){const ie=oe().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",B,!1),()=>ie.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,ie,Pe){De()?this._history.pushState(B,ie,Pe):this.location.hash=Pe}replaceState(B,ie,Pe){De()?this._history.replaceState(B,ie,Pe):this.location.hash=Pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return V.\u0275fac=function(B){return new(B||V)(h.LFG(Re))},V.\u0275prov=h.Yz7({token:V,factory:function(){return function ot(){return new he((0,h.LFG)(Re))}()},providedIn:"platform"}),V})();function De(){return!!window.history.pushState}function Ge(V,te){if(0==V.length)return te;if(0==te.length)return V;let B=0;return V.endsWith("/")&&B++,te.startsWith("/")&&B++,2==B?V+te.substring(1):1==B?V+te:V+"/"+te}function Ke(V){const te=V.match(/#|\?|$/),B=te&&te.index||V.length;return V.slice(0,B-("/"===V[B-1]?1:0))+V.slice(B)}function dt(V){return V&&"?"!==V[0]?"?"+V:V}let Ue=(()=>{class V{historyGo(B){throw new Error("Not implemented")}}return V.\u0275fac=function(B){return new(B||V)},V.\u0275prov=h.Yz7({token:V,factory:function(){return function Xe(V){const te=(0,h.LFG)(Re).location;return new Ye((0,h.LFG)(ae),te&&te.origin||"")}()},providedIn:"root"}),V})();const St=new h.OlP("appBaseHref");let Ye=(()=>{class V extends Ue{constructor(B,ie){if(super(),this._platformLocation=B,this._removeListenerFns=[],null==ie&&(ie=this._platformLocation.getBaseHrefFromDOM()),null==ie)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ie}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return Ge(this._baseHref,B)}path(B=!1){const ie=this._platformLocation.pathname+dt(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&B?`${ie}${Pe}`:ie}pushState(B,ie,Pe,yt){const It=this.prepareExternalUrl(Pe+dt(yt));this._platformLocation.pushState(B,ie,It)}replaceState(B,ie,Pe,yt){const It=this.prepareExternalUrl(Pe+dt(yt));this._platformLocation.replaceState(B,ie,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var ie,Pe;null===(Pe=(ie=this._platformLocation).historyGo)||void 0===Pe||Pe.call(ie,B)}}return V.\u0275fac=function(B){return new(B||V)(h.LFG(ae),h.LFG(St,8))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac}),V})(),je=(()=>{class V extends Ue{constructor(B,ie){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let ie=this._platformLocation.hash;return null==ie&&(ie="#"),ie.length>0?ie.substring(1):ie}prepareExternalUrl(B){const ie=Ge(this._baseHref,B);return ie.length>0?"#"+ie:ie}pushState(B,ie,Pe,yt){let It=this.prepareExternalUrl(Pe+dt(yt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.pushState(B,ie,It)}replaceState(B,ie,Pe,yt){let It=this.prepareExternalUrl(Pe+dt(yt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.replaceState(B,ie,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var ie,Pe;null===(Pe=(ie=this._platformLocation).historyGo)||void 0===Pe||Pe.call(ie,B)}}return V.\u0275fac=function(B){return new(B||V)(h.LFG(ae),h.LFG(St,8))},V.\u0275prov=h.Yz7({token:V,factory:V.\u0275fac}),V})(),be=(()=>{class V{constructor(B,ie){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=B;const Pe=this._platformStrategy.getBaseHref();this._platformLocation=ie,this._baseHref=Ke(Fe(Pe)),this._platformStrategy.onPopState(yt=>{this._subject.emit({url:this.path(!0),pop:!0,state:yt.state,type:yt.type})})}path(B=!1){return this.normalize(this._platformStrategy.path(B))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(B,ie=""){return this.path()==this.normalize(B+dt(ie))}normalize(B){return V.stripTrailingSlash(function kt(V,te){return V&&te.startsWith(V)?te.substring(V.length):te}(this._baseHref,Fe(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._platformStrategy.prepareExternalUrl(B)}go(B,ie="",Pe=null){this._platformStrategy.pushState(Pe,"",B,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+dt(ie)),Pe)}replaceState(B,ie="",Pe=null){this._platformStrategy.replaceState(Pe,"",B,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+dt(ie)),Pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(B=0){var ie,Pe;null===(Pe=(ie=this._platformStrategy).historyGo)||void 0===Pe||Pe.call(ie,B)}onUrlChange(B){this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)}))}_notifyUrlChangeListeners(B="",ie){this._urlChangeListeners.forEach(Pe=>Pe(B,ie))}subscribe(B,ie,Pe){return this._subject.subscribe({next:B,error:ie,complete:Pe})}}return V.normalizeQueryParams=dt,V.joinWithSlash=Ge,V.stripTrailingSlash=Ke,V.\u0275fac=function(B){return new(B||V)(h.LFG(Ue),h.LFG(ae))},V.\u0275prov=h.Yz7({token:V,factory:function(){return function qe(){return new be((0,h.LFG)(Ue),(0,h.LFG)(ae))}()},providedIn:"root"}),V})();function Fe(V){return V.replace(/\/index.html$/,"")}function Si(V,te){te=encodeURIComponent(te);for(const B of V.split(";")){const ie=B.indexOf("="),[Pe,yt]=-1==ie?[B,""]:[B.slice(0,ie),B.slice(ie+1)];if(Pe.trim()===te)return decodeURIComponent(yt)}return null}let He=(()=>{class V{constructor(B,ie){this._viewContainer=B,this._context=new xe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){rt("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){rt("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,ie){return!0}}return V.\u0275fac=function(B){return new(B||V)(h.Y36(h.s_b),h.Y36(h.Rgc))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V})();class xe{constructor(){this.$implicit=null,this.ngIf=null}}function rt(V,te){if(te&&!te.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,h.AaK)(te)}'.`)}class Mt{constructor(te,B){this._viewContainerRef=te,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(te){te&&!this._created?this.create():!te&&this._created&&this.destroy()}}let Nt=(()=>{class V{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(B)}_matchCase(B){const ie=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||ie,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ie}_updateDefaultCases(B){if(this._defaultViews&&B!==this._defaultUsed){this._defaultUsed=B;for(let ie=0;ie<this._defaultViews.length;ie++)this._defaultViews[ie].enforceState(B)}}}return V.\u0275fac=function(B){return new(B||V)},V.\u0275dir=h.lG2({type:V,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),V})(),nn=(()=>{class V{constructor(B,ie,Pe){this.ngSwitch=Pe,Pe._addCase(),this._view=new Mt(B,ie)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return V.\u0275fac=function(B){return new(B||V)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Nt,9))},V.\u0275dir=h.lG2({type:V,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),V})(),ls=(()=>{class V{}return V.\u0275fac=function(B){return new(B||V)},V.\u0275mod=h.oAB({type:V}),V.\u0275inj=h.cJS({}),V})();const Gi="browser";function Or(V){return V===Gi}function Wi(V){return"server"===V}let oo=(()=>{class V{}return V.\u0275prov=(0,h.Yz7)({token:V,providedIn:"root",factory:()=>new qs((0,h.LFG)(Re),window)}),V})();class qs{constructor(te,B){this.document=te,this.window=B,this.offset=()=>[0,0]}setOffset(te){this.offset=Array.isArray(te)?()=>te:te}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(te){this.supportsScrolling()&&this.window.scrollTo(te[0],te[1])}scrollToAnchor(te){if(!this.supportsScrolling())return;const B=function Hs(V,te){const B=V.getElementById(te)||V.getElementsByName(te)[0];if(B)return B;if("function"==typeof V.createTreeWalker&&V.body&&(V.body.createShadowRoot||V.body.attachShadow)){const ie=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Pe=ie.currentNode;for(;Pe;){const yt=Pe.shadowRoot;if(yt){const It=yt.getElementById(te)||yt.querySelector(`[name="${te}"]`);if(It)return It}Pe=ie.nextNode()}}return null}(this.document,te);B&&(this.scrollToElement(B),B.focus())}setHistoryScrollRestoration(te){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=te)}}scrollToElement(te){const B=te.getBoundingClientRect(),ie=B.left+this.window.pageXOffset,Pe=B.top+this.window.pageYOffset,yt=this.offset();this.window.scrollTo(ie-yt[0],Pe-yt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const te=ys(this.window.history)||ys(Object.getPrototypeOf(this.window.history));return!(!te||!te.writable&&!te.set)}catch(te){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(te){return!1}}}function ys(V){return Object.getOwnPropertyDescriptor(V,"scrollRestoration")}class Ir{}},5e3:(Yt,ze,k)=>{k.d(ze,{$8M:()=>ja,$Z:()=>ru,AFp:()=>Sb,ALo:()=>Yv,AaK:()=>ae,BQk:()=>_c,CHM:()=>na,CRH:()=>ob,CZH:()=>m_,CqO:()=>sg,EJc:()=>dw,EiD:()=>ha,EpF:()=>fp,F$t:()=>Kh,F4k:()=>ig,FYo:()=>Fv,FiY:()=>Pi,G48:()=>Pw,Gf:()=>ib,GfV:()=>Lv,Gpc:()=>he,Hsn:()=>og,Ikx:()=>Gy,JOm:()=>pl,JVY:()=>du,L6k:()=>nd,LAX:()=>$l,LFG:()=>ln,LSH:()=>Ac,Lbi:()=>lw,MAs:()=>Hm,NdJ:()=>pp,O4$:()=>Ai,OlP:()=>mi,Oqu:()=>Cp,PXZ:()=>Tw,Q6J:()=>iu,QGY:()=>Hd,Qsj:()=>iE,R0b:()=>su,RDi:()=>ys,Rgc:()=>Pp,SBq:()=>xp,Sil:()=>fw,Suo:()=>sb,TTD:()=>Xi,TgZ:()=>zh,Udp:()=>qh,VLi:()=>Dw,WFA:()=>$d,X6Q:()=>kw,XFs:()=>an,Xpm:()=>At,Y36:()=>$h,YKP:()=>jv,YNc:()=>up,Yjl:()=>ge,Yz7:()=>hn,ZZ4:()=>M_,_Bn:()=>kv,_UZ:()=>Gh,_Vd:()=>Ig,_c5:()=>Yw,_uU:()=>yg,aQg:()=>x_,c2e:()=>uw,cJS:()=>kn,cg1:()=>Ky,d8E:()=>Wy,dDg:()=>kb,deG:()=>nl,dqk:()=>En,eBb:()=>zu,eFA:()=>Fb,ekj:()=>Zh,f3M:()=>or,g9A:()=>Mb,h0i:()=>tf,hGG:()=>Qw,hij:()=>Qh,iGM:()=>rb,ifc:()=>it,ip1:()=>Tb,kL8:()=>ov,lG2:()=>ye,lcZ:()=>Qv,mCW:()=>K,n5z:()=>Oo,n_E:()=>Sg,oAB:()=>$e,oxw:()=>yp,pB0:()=>Sl,q3G:()=>rs,q4F:()=>Vv,qLn:()=>xl,qOj:()=>ep,qZA:()=>jd,qzn:()=>Va,sBO:()=>Nw,sIi:()=>Ud,s_b:()=>Mg,soG:()=>y_,tBr:()=>Na,tb:()=>xb,tp0:()=>Ls,uIk:()=>op,vHH:()=>Ke,vpe:()=>Lu,wAp:()=>mr,xp6:()=>Jp,yhl:()=>td,ynx:()=>Fl,z2F:()=>D_,z3N:()=>Qo,zSh:()=>Pd,zs3:()=>Pl});var h=k(7579),v=k(727),oe=k(8306),pe=k(6451),de=k(3099);function Ae(t){for(let r in t)if(t[r]===Ae)return r;throw Error("Could not find renamed property on target object.")}function Re(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function ae(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ae).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Te(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const se=Ae({__forward_ref__:Ae});function he(t){return t.__forward_ref__=he,t.toString=function(){return ae(this())},t}function De(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(se)&&t.__forward_ref__===he}class Ke extends Error{constructor(r,s){super(function dt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ue(t){return"string"==typeof t?t:null==t?"":String(t)}function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ue(t)}function be(t,r){const s=r?` in ${r}`:"";throw new Ke(-201,`No provider for ${Xe(t)} found${s}`)}function vn(t,r){null==t&&function Tt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function hn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Dn(t){return Kn(t,Sn)||Kn(t,cr)}function Kn(t,r){return t.hasOwnProperty(r)?t[r]:null}function gr(t){return t&&(t.hasOwnProperty(rr)||t.hasOwnProperty(ti))?t[rr]:null}const Sn=Ae({\u0275prov:Ae}),rr=Ae({\u0275inj:Ae}),cr=Ae({ngInjectableDef:Ae}),ti=Ae({ngInjectorDef:Ae});var an=(()=>((an=an||{})[an.Default=0]="Default",an[an.Host=1]="Host",an[an.Self=2]="Self",an[an.SkipSelf=4]="SkipSelf",an[an.Optional=8]="Optional",an))();let Wn;function Zn(t){const r=Wn;return Wn=t,r}function kr(t,r,s){const a=Dn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&an.Optional?null:void 0!==r?r:void be(ae(t),"Injector")}function yr(t){return{toString:t}.toString()}var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),it=(()=>{return(t=it||(it={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",it;var t})();const ht="undefined"!=typeof globalThis&&globalThis,vt="undefined"!=typeof window&&window,xn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,En=ht||"undefined"!=typeof global&&global||vt||xn,Pr={},pn=[],Lr=Ae({\u0275cmp:Ae}),ct=Ae({\u0275dir:Ae}),ee=Ae({\u0275pipe:Ae}),H=Ae({\u0275mod:Ae}),q=Ae({\u0275fac:Ae}),Ce=Ae({__NG_ELEMENT_ID__:Ae});let Qe=0;function At(t){return yr(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||pn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||it.Emulated,id:"c",styles:t.styles||pn,_:null,setInput:null,schemas:t.schemas||null,tView:null},u=t.directives,c=t.features,y=t.pipes;return a.id+=Qe++,a.inputs=Ne(t.inputs,s),a.outputs=Ne(t.outputs),c&&c.forEach(T=>T(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(me):null,a.pipeDefs=y?()=>("function"==typeof y?y():y).map(Se):null,a})}function me(t){return Ve(t)||function bt(t){return t[ct]||null}(t)}function Se(t){return function Wt(t){return t[ee]||null}(t)}const Ze={};function $e(t){return yr(()=>{const r={type:t.type,bootstrap:t.bootstrap||pn,declarations:t.declarations||pn,imports:t.imports||pn,exports:t.exports||pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ze[t.id]=t.type),r})}function Ne(t,r){if(null==t)return Pr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let u=t[a],c=u;Array.isArray(u)&&(c=u[1],u=u[0]),s[u]=a,r&&(r[u]=c)}return s}const ye=At;function ge(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ve(t){return t[Lr]||null}function gn(t,r){const s=t[H]||null;if(!s&&!0===r)throw new Error(`Type ${ae(t)} does not have '\u0275mod' property.`);return s}function Nt(t){return Array.isArray(t)&&"object"==typeof t[1]}function nn(t){return Array.isArray(t)&&!0===t[1]}function Er(t){return 0!=(8&t.flags)}function Cr(t){return 2==(2&t.flags)}function tr(t){return 1==(1&t.flags)}function ni(t){return null!==t.template}function ps(t){return 0!=(512&t[2])}function Ui(t,r){return t.hasOwnProperty(q)?t[q]:null}class ga{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Xi(){return ji}function ji(t){return t.type.prototype.ngOnChanges&&(t.setInput=js),gs}function gs(){const t=Gi(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===Pr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function js(t,r,s,a){const u=Gi(t)||function Rr(t,r){return t[ls]=r}(t,{previous:Pr,current:null}),c=u.current||(u.current={}),y=u.previous,T=this.declaredInputs[s],O=y[T];c[T]=new ga(O&&O.currentValue,r,y===Pr),t[a]=r}Xi.ngInherit=!0;const ls="__ngSimpleChanges__";function Gi(t){return t[ls]||null}let qs;function ys(t){qs=t}function Ir(t){return!!t.listen}const V={createRenderer:(t,r)=>function Hs(){return void 0!==qs?qs:"undefined"!=typeof document?document:void 0}()};function B(t){for(;Array.isArray(t);)t=t[0];return t}function yt(t,r){return B(r[t])}function It(t,r){return B(r[t.index])}function jr(t,r){return t.data[r]}function ir(t,r){return t[r]}function Xn(t,r){const s=r[t];return Nt(s)?s:s[0]}function qn(t){return 4==(4&t[2])}function ei(t){return 128==(128&t[2])}function Ur(t,r){return null==r?null:t[r]}function j(t){t[18]=0}function F(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const x={lFrame:Vn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function us(){return x.bindingsEnabled}function Lt(){return x.lFrame.lView}function Rn(){return x.lFrame.tView}function na(t){return x.lFrame.contextLView=t,t[8]}function bi(){let t=ra();for(;null!==t&&64===t.type;)t=t.parent;return t}function ra(){return x.lFrame.currentTNode}function ao(t,r){const s=x.lFrame;s.currentTNode=t,s.isParent=r}function Mo(){return x.lFrame.isParent}function ia(){x.lFrame.isParent=!1}function xo(){return x.isInCheckNoChangesMode}function _s(t){x.isInCheckNoChangesMode=t}function W(){return x.lFrame.bindingIndex++}function Z(t,r){const s=x.lFrame;s.bindingIndex=s.bindingRootIndex=t,Me(r)}function Me(t){x.lFrame.currentDirectiveIndex=t}function Oe(t){const r=x.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function st(){return x.lFrame.currentQueryIndex}function Ct(t){x.lFrame.currentQueryIndex=t}function cn(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Cn(t,r,s){if(s&an.SkipSelf){let u=r,c=t;for(;!(u=u.parent,null!==u||s&an.Host||(u=cn(c),null===u||(c=c[15],10&u.type))););if(null===u)return!1;r=u,t=c}const a=x.lFrame=Jn();return a.currentTNode=r,a.lView=t,!0}function Hn(t){const r=Jn(),s=t[1];x.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Jn(){const t=x.lFrame,r=null===t?null:t.child;return null===r?Vn(t):r}function Vn(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function er(){const t=x.lFrame;return x.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Wr=er;function oi(){const t=er();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kr(){return x.lFrame.selectedIndex}function $s(t){x.lFrame.selectedIndex=t}function Yr(){const t=x.lFrame;return jr(t.tView,t.selectedIndex)}function Ai(){x.lFrame.currentNamespace="svg"}function Ps(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const c=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:z,ngOnDestroy:X}=c;y&&(t.contentHooks||(t.contentHooks=[])).push(-s,y),T&&((t.contentHooks||(t.contentHooks=[])).push(s,T),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,T)),O&&(t.viewHooks||(t.viewHooks=[])).push(-s,O),z&&((t.viewHooks||(t.viewHooks=[])).push(s,z),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,z)),null!=X&&(t.destroyHooks||(t.destroyHooks=[])).push(s,X)}}function Uo(t,r,s){Pn(t,r,3,s)}function sa(t,r,s,a){(3&t[2])===s&&Pn(t,r,s,a)}function Xt(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function Pn(t,r,s,a){const c=null!=a?a:-1,y=r.length-1;let T=0;for(let O=void 0!==a?65535&t[18]:0;O<y;O++)if("number"==typeof r[O+1]){if(T=r[O],null!=a&&T>=a)break}else r[O]<0&&(t[18]+=65536),(T<c||-1==c)&&(Bn(t,s,r,O),t[18]=(4294901760&t[18])+O+2),O++}function Bn(t,r,s,a){const u=s[a]<0,c=s[a+1],T=t[u?-s[a]:s[a]];if(u){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{c.call(T)}finally{}}}else try{c.call(T)}finally{}}class ii{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function es(t,r,s){const a=Ir(t);let u=0;for(;u<s.length;){const c=s[u];if("number"==typeof c){if(0!==c)break;u++;const y=s[u++],T=s[u++],O=s[u++];a?t.setAttribute(r,T,O,y):r.setAttributeNS(y,T,O)}else{const y=c,T=s[++u];_n(y)?a&&t.setProperty(r,y,T):a?t.setAttribute(r,y,T):r.setAttribute(y,T),u++}}return u}function ts(t){return 3===t||4===t||6===t}function _n(t){return 64===t.charCodeAt(0)}function Nn(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?s=u:0===s||wl(t,s,u,null,-1===s||2===s?r[++a]:null)}}return t}function wl(t,r,s,a,u){let c=0,y=t.length;if(-1===r)y=-1;else for(;c<t.length;){const T=t[c++];if("number"==typeof T){if(T===r){y=-1;break}if(T>r){y=c-1;break}}}for(;c<t.length;){const T=t[c];if("number"==typeof T)break;if(T===s){if(null===a)return void(null!==u&&(t[c+1]=u));if(a===t[c+1])return void(t[c+2]=u)}c++,null!==a&&c++,null!==u&&c++}-1!==y&&(t.splice(y,0,r),c=y+1),t.splice(c++,0,s),null!==a&&t.splice(c++,0,a),null!==u&&t.splice(c++,0,u)}function Jt(t){return-1!==t}function pt(t){return 32767&t}function wi(t,r){let s=function Ht(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let Ho=!0;function $o(t){const r=Ho;return Ho=t,r}let Go=0;function Co(t,r){const s=Ns(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,oa(a.data,t),oa(r,null),oa(a.blueprint,null));const u=A(t,r),c=t.injectorIndex;if(Jt(u)){const y=pt(u),T=wi(u,r),O=T[1].data;for(let z=0;z<8;z++)r[c+z]=T[y+z]|O[y+z]}return r[c+8]=u,c}function oa(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ns(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function A(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,u=r;for(;null!==u;){const c=u[1],y=c.type;if(a=2===y?c.declTNode:1===y?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function C(t,r,s){!function qi(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ce)&&(a=s[Ce]),null==a&&(a=s[Ce]=Go++);const u=255&a;r.data[t+(u>>5)]|=1<<u}(t,r,s)}function L(t,r,s){if(s&an.Optional)return t;be(r,"NodeInjector")}function $(t,r,s,a){if(s&an.Optional&&void 0===a&&(a=null),0==(s&(an.Self|an.Host))){const u=t[9],c=Zn(void 0);try{return u?u.get(r,a,s&an.Optional):kr(r,a,s&an.Optional)}finally{Zn(c)}}return L(a,r,s)}function J(t,r,s,a=an.Default,u){if(null!==t){const c=function Qt(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ce)?t[Ce]:void 0;return"number"==typeof r?r>=0?255&r:ke:r}(s);if("function"==typeof c){if(!Cn(r,t,a))return a&an.Host?L(u,s,a):$(r,s,a,u);try{const y=c(a);if(null!=y||a&an.Optional)return y;be(s)}finally{Wr()}}else if("number"==typeof c){let y=null,T=Ns(t,r),O=-1,z=a&an.Host?r[16][6]:null;for((-1===T||a&an.SkipSelf)&&(O=-1===T?A(t,r):r[T+8],-1!==O&&Gn(a,!1)?(y=r[1],T=pt(O),r=wi(O,r)):T=-1);-1!==T;){const X=r[1];if(Zr(c,T,X.data)){const _e=Et(T,r,s,y,a,z);if(_e!==ue)return _e}O=r[T+8],-1!==O&&Gn(a,r[1].data[T+8]===z)&&Zr(c,T,r)?(y=X,T=pt(O),r=wi(O,r)):T=-1}}}return $(r,s,a,u)}const ue={};function ke(){return new Oi(bi(),Lt())}function Et(t,r,s,a,u,c){const y=r[1],T=y.data[t+8],X=on(T,y,s,null==a?Cr(T)&&Ho:a!=y&&0!=(3&T.type),u&an.Host&&c===T);return null!==X?Yn(r,y,X,T):ue}function on(t,r,s,a,u){const c=t.providerIndexes,y=r.data,T=1048575&c,O=t.directiveStart,X=c>>20,Le=u?T+X:t.directiveEnd;for(let lt=a?T:T+X;lt<Le;lt++){const Rt=y[lt];if(lt<O&&s===Rt||lt>=O&&Rt.type===s)return lt}if(u){const lt=y[O];if(lt&&ni(lt)&&lt.type===s)return O}return null}function Yn(t,r,s,a){let u=t[s];const c=r.data;if(function Mi(t){return t instanceof ii}(u)){const y=u;y.resolving&&function St(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${t}${s}`)}(Xe(c[s]));const T=$o(y.canSeeViewProviders);y.resolving=!0;const O=y.injectImpl?Zn(y.injectImpl):null;Cn(t,a,an.Default);try{u=t[s]=y.factory(void 0,c,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Ys(t,r,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:c}=r.type.prototype;if(a){const y=ji(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,y)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,u),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,c))}(s,c[s],r)}finally{null!==O&&Zn(O),$o(T),y.resolving=!1,Wr()}}return u}function Zr(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Gn(t,r){return!(t&an.Self||t&an.Host&&r)}class Oi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return J(this._tNode,this._lView,r,a,s)}}function Oo(t){return yr(()=>{const r=t.prototype.constructor,s=r[q]||pi(r),a=Object.prototype;let u=Object.getPrototypeOf(t.prototype).constructor;for(;u&&u!==a;){const c=u[q]||pi(u);if(c&&c!==s)return c;u=Object.getPrototypeOf(u)}return c=>new c})}function pi(t){return ot(t)?()=>{const r=pi(De(t));return r&&r()}:Ui(t)}function ja(t){return function b(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const c=s[u];if(ts(c))break;if(0===c)u+=2;else if("number"==typeof c)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(c===r)return s[u+1];u+=2}}}return null}(bi(),t)}const Xr="__parameters__";function co(t,r,s){return yr(()=>{const a=function Ha(t){return function(...s){if(t){const a=t(...s);for(const u in a)this[u]=a[u]}}}(r);function u(...c){if(this instanceof u)return a.apply(this,c),this;const y=new u(...c);return T.annotation=y,T;function T(O,z,X){const _e=O.hasOwnProperty(Xr)?O[Xr]:Object.defineProperty(O,Xr,{value:[]})[Xr];for(;_e.length<=X;)_e.push(null);return(_e[X]=_e[X]||[]).push(y),O}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=t,u.annotationCls=u,u})}class mi{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=hn({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nl=new mi("AnalyzeForEntryComponents");function vs(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),vs(a,r)):r!==t&&r.push(a)}return r}function Io(t,r){t.forEach(s=>Array.isArray(s)?Io(s,r):r(s))}function xa(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Ra(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function cs(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function Fs(t,r,s){let a=qo(t,r);return a>=0?t[1|a]=s:(a=~a,function Bl(t,r,s,a){let u=t.length;if(u==r)t.push(s,a);else if(1===u)t.push(a,t[0]),t[0]=s;else{for(u--,t.push(t[u-1],t[u]);u>r;)t[u]=t[u-2],u--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Ii(t,r){const s=qo(t,r);if(s>=0)return t[1|s]}function qo(t,r){return function Js(t,r,s){let a=0,u=t.length>>s;for(;u!==a;){const c=a+(u-a>>1),y=t[c<<s];if(r===y)return c<<s;y>r?u=c:a=c+1}return~(u<<s)}(t,r,1)}const No={},ca="__NG_DI_FLAG__",Da="ngTempTokenPath",P=/\n/gm,Q="__source",Ee=Ae({provide:String,useValue:Ae});let tt;function ft(t){const r=tt;return tt=t,r}function qt(t,r=an.Default){if(void 0===tt)throw new Ke(203,"");return null===tt?kr(t,void 0,r):tt.get(t,r&an.Optional?null:void 0,r)}function ln(t,r=an.Default){return(function Qn(){return Wn}()||qt)(De(t),r)}const or=ln;function ar(t){const r=[];for(let s=0;s<t.length;s++){const a=De(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ke(900,"");let u,c=an.Default;for(let y=0;y<a.length;y++){const T=a[y],O=ds(T);"number"==typeof O?-1===O?u=T.token:c|=O:u=T}r.push(ln(u,c))}else r.push(ln(a))}return r}function jn(t,r){return t[ca]=r,t.prototype[ca]=r,t}function ds(t){return t[ca]}const Na=jn(co("Inject",t=>({token:t})),-1),Pi=jn(co("Optional"),8),Ls=jn(co("SkipSelf"),4);let Hl;function al(t){var r;return(null===(r=function Wa(){if(void 0===Hl&&(Hl=null,En.trustedTypes))try{Hl=En.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Hl}())||void 0===r?void 0:r.createHTML(t))||t}class ul{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ed extends ul{getTypeName(){return"HTML"}}class cu extends ul{getTypeName(){return"Style"}}class Ic extends ul{getTypeName(){return"Script"}}class Qd extends ul{getTypeName(){return"URL"}}class hs extends ul{getTypeName(){return"ResourceURL"}}function Qo(t){return t instanceof ul?t.changingThisBreaksApplicationSecurity:t}function Va(t,r){const s=td(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function td(t){return t instanceof ul&&t.getTypeName()||null}function du(t){return new ed(t)}function nd(t){return new cu(t)}function zu(t){return new Ic(t)}function $l(t){return new Qd(t)}function Sl(t){return new hs(t)}class rd{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(al(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class hu{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=al(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=al(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let u=s.length-1;0<u;u--){const y=s.item(u).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&r.removeAttribute(y)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const f=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,S=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function K(t){return(t=String(t)).match(f)||t.match(S)?t:"unsafe:"+t}function at(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Ut(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const In=at("area,br,col,hr,img,wbr"),wn=at("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sr=at("rp,rt"),da=Ut(In,Ut(wn,at("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ut(Sr,at("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ut(Sr,wn)),Gu=at("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fo=at("srcset"),dl=Ut(Gu,fo,at("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),at("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),id=at("script,style,template");class sd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let u=this.checkClobberedElement(s,s.nextSibling);if(u){s=u;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!da.hasOwnProperty(s))return this.sanitizedSomething=!0,!id.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let u=0;u<a.length;u++){const c=a.item(u),y=c.name,T=y.toLowerCase();if(!dl.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let O=c.value;Gu[T]&&(O=K(O)),fo[T]&&(t=O,O=(t=String(t)).split(",").map(r=>K(r.trim())).join(", ")),this.buf.push(" ",y,'="',zl(O),'"')}var t;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();da.hasOwnProperty(s)&&!In.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(zl(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const li=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sc=/([^\#-~ |!])/g;function zl(t){return t.replace(/&/g,"&amp;").replace(li,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(Sc,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ca;function ha(t,r){let s=null;try{Ca=Ca||function Ka(t){const r=new hu(t);return function D(){try{return!!(new window.DOMParser).parseFromString(al(""),"text/html")}catch(t){return!1}}()?new rd(r):r}(t);let a=r?String(r):"";s=Ca.getInertBodyElement(a);let u=5,c=a;do{if(0===u)throw new Error("Failed to sanitize html because the input is unstable");u--,a=c,c=s.innerHTML,s=Ca.getInertBodyElement(a)}while(a!==c);return al((new sd).sanitizeChildren(fu(s)||s))}finally{if(s){const a=fu(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function fu(t){return"content"in t&&function Jd(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var rs=(()=>((rs=rs||{})[rs.NONE=0]="NONE",rs[rs.HTML=1]="HTML",rs[rs.STYLE=2]="STYLE",rs[rs.SCRIPT=3]="SCRIPT",rs[rs.URL=4]="URL",rs[rs.RESOURCE_URL=5]="RESOURCE_URL",rs))();function Ac(t){const r=function Ml(){const t=Lt();return t&&t[12]}();return r?r.sanitize(rs.URL,t)||"":Va(t,"URL")?Qo(t):K(Ue(t))}const Mc="__ngContext__";function go(t,r){t[Mc]=r}function Ku(t){const r=function Za(t){return t[Mc]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function rh(t){return t.ngOriginalError}function Zu(t,...r){t.error(...r)}class xl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Vp(t){return t&&t.ngErrorLogger||Zu}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&rh(r);for(;s&&rh(s);)s=rh(s);return s||null}}const mf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(En))();function fl(t){return t instanceof Function?t():t}var pl=(()=>((pl=pl||{})[pl.Important=1]="Important",pl[pl.DashCase=2]="DashCase",pl))();function ud(t,r){return undefined(t,r)}function Xu(t){const r=t[3];return nn(r)?r[3]:r}function Ya(t){return hd(t[13])}function Ju(t){return hd(t[4])}function hd(t){for(;null!==t&&!nn(t);)t=t[4];return t}function wt(t,r,s,a,u){if(null!=a){let c,y=!1;nn(a)?c=a:Nt(a)&&(y=!0,a=a[0]);const T=B(a);0===t&&null!==s?null==u?Ft(r,s,T):Je(r,s,T,u||null,!0):1===t&&null!==s?Je(r,s,T,u||null,!0):2===t?function Kl(t,r,s){const a=fn(t,r);a&&function Tn(t,r,s,a){Ir(t)?t.removeChild(r,s,a):r.removeChild(s)}(t,a,r,s)}(r,T,y):3===t&&r.destroyNode(T),null!=c&&function fd(t,r,s,a,u){const c=s[7];c!==B(s)&&wt(r,t,a,c,u);for(let T=10;T<s.length;T++){const O=s[T];ql(O[1],O,t,r,a,c)}}(r,t,c,s,u)}}function yu(t,r,s){if(Ir(t))return t.createElement(r,s);{const a=null!==s?function oo(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?t.createElement(r):t.createElementNS(a,r)}}function Vs(t,r){const s=t[9],a=s.indexOf(r),u=r[3];1024&r[2]&&(r[2]&=-1025,F(u,-1)),s.splice(a,1)}function ec(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const u=a[17];null!==u&&u!==t&&Vs(u,a),r>0&&(t[s-1][4]=a[4]);const c=Ra(t,10+r);!function Wl(t,r){ql(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const y=c[19];null!==y&&y.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function I(t,r){if(!(256&r[2])){const s=r[11];Ir(s)&&s.destroyNode&&ql(t,r,s,3,null,null),function yf(t){let r=t[13];if(!r)return E(t[1],t);for(;r;){let s=null;if(Nt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Nt(r)&&E(r[1],r),r=r[3];null===r&&(r=t),Nt(r)&&E(r[1],r),s=r&&r[4]}r=s}}(r)}}function E(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function M(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const u=r[s[a]];if(!(u instanceof ii)){const c=s[a+1];if(Array.isArray(c))for(let y=0;y<c.length;y+=2){const T=u[c[y]],O=c[y+1];try{O.call(T)}finally{}}else try{c.call(u)}finally{}}}}(t,r),function m(t,r){const s=t.cleanup,a=r[7];let u=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const y=s[c+1],T="function"==typeof y?y(r):B(r[y]),O=a[u=s[c+2]],z=s[c+3];"boolean"==typeof z?T.removeEventListener(s[c],O,z):z>=0?a[u=z]():a[u=-z].unsubscribe(),c+=2}else{const y=a[u=s[c+1]];s[c].call(y)}if(null!==a){for(let c=u+1;c<a.length;c++)a[c]();r[7]=null}}(t,r),1===r[1].type&&Ir(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&nn(r[3])){s!==r[3]&&Vs(s,r);const a=r[19];null!==a&&a.detachView(t)}}}function Y(t,r,s){return function fe(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const u=t.data[a.directiveStart].encapsulation;if(u===it.None||u===it.Emulated)return null}return It(a,s)}(t,r.parent,s)}function Je(t,r,s,a,u){Ir(t)?t.insertBefore(r,s,a,u):r.insertBefore(s,a,u)}function Ft(t,r,s){Ir(t)?t.appendChild(r,s):r.appendChild(s)}function xt(t,r,s,a,u){null!==a?Je(t,r,s,a,u):Ft(t,r,s)}function fn(t,r){return Ir(t)?t.parentNode(r):r.parentNode}function ui(t,r,s){return is(t,r,s)}let is=function Di(t,r,s){return 40&t.type?It(t,s):null};function ea(t,r,s,a){const u=Y(t,a,r),c=r[11],T=ui(a.parent||r[6],a,r);if(null!=u)if(Array.isArray(s))for(let O=0;O<s.length;O++)xt(c,u,s[O],T,!1);else xt(c,u,s,T,!1)}function Fo(t,r){if(null!==r){const s=r.type;if(3&s)return It(r,t);if(4&s)return Hi(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Fo(t,a);{const u=t[r.index];return nn(u)?Hi(-1,u):B(u)}}if(32&s)return ud(r,t)()||B(t[r.index]);{const a=ws(t,r);return null!==a?Array.isArray(a)?a[0]:Fo(Xu(t[16]),a):Fo(t,r.next)}}return null}function ws(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Hi(t,r){const s=10+t+1;if(s<r.length){const a=r[s],u=a[1].firstChild;if(null!==u)return Fo(a,u)}return r[7]}function ml(t,r,s,a,u,c,y){for(;null!=s;){const T=a[s.index],O=s.type;if(y&&0===r&&(T&&go(B(T),a),s.flags|=4),64!=(64&s.flags))if(8&O)ml(t,r,s.child,a,u,c,!1),wt(r,t,u,T,c);else if(32&O){const z=ud(s,a);let X;for(;X=z();)wt(r,t,u,X,c);wt(r,t,u,T,c)}else 16&O?Pc(t,r,a,s,u,c):wt(r,t,u,T,c);s=y?s.projectionNext:s.next}}function ql(t,r,s,a,u,c){ml(s,a,t.firstChild,r,u,c,!1)}function Pc(t,r,s,a,u,c){const y=s[16],O=y[6].projection[a.projection];if(Array.isArray(O))for(let z=0;z<O.length;z++)wt(r,t,u,O[z],c);else ml(t,r,O,y[3],u,c,!0)}function bu(t,r,s){Ir(t)?t.setAttribute(r,"style",s):r.style.cssText=s}function oh(t,r,s){Ir(t)?""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s):r.className=s}function qp(t,r,s){let a=t.length;for(;;){const u=t.indexOf(r,s);if(-1===u)return u;if(0===u||t.charCodeAt(u-1)<=32){const c=r.length;if(u+c===a||t.charCodeAt(u+c)<=32)return u}s=u+1}}const ah="ng-template";function Nc(t,r,s){let a=0;for(;a<t.length;){let u=t[a++];if(s&&"class"===u){if(u=t[a],-1!==qp(u.toLowerCase(),r,0))return!0}else if(1===u){for(;a<t.length&&"string"==typeof(u=t[a++]);)if(u.toLowerCase()===r)return!0;return!1}}return!1}function Zp(t){return 4===t.type&&t.value!==ah}function Yp(t,r,s){return r===(4!==t.type||s?t.value:ah)}function pd(t,r,s){let a=4;const u=t.attrs||[],c=function Qp(t){for(let r=0;r<t.length;r++)if(ts(t[r]))return r;return t.length}(u);let y=!1;for(let T=0;T<r.length;T++){const O=r[T];if("number"!=typeof O){if(!y)if(4&a){if(a=2|1&a,""!==O&&!Yp(t,O,s)||""===O&&1===r.length){if(Ta(a))return!1;y=!0}}else{const z=8&a?O:r[++T];if(8&a&&null!==t.attrs){if(!Nc(t.attrs,z,s)){if(Ta(a))return!1;y=!0}continue}const _e=lh(8&a?"class":O,u,Zp(t),s);if(-1===_e){if(Ta(a))return!1;y=!0;continue}if(""!==z){let Le;Le=_e>c?"":u[_e+1].toLowerCase();const lt=8&a?Le:null;if(lt&&-1!==qp(lt,z,0)||2&a&&z!==Le){if(Ta(a))return!1;y=!0}}}}else{if(!y&&!Ta(a)&&!Ta(O))return!1;if(y&&Ta(O))continue;y=!1,a=O|1&a}}return Ta(a)||y}function Ta(t){return 0==(1&t)}function lh(t,r,s,a){if(null===r)return-1;let u=0;if(a||!s){let c=!1;for(;u<r.length;){const y=r[u];if(y===t)return u;if(3===y||6===y)c=!0;else{if(1===y||2===y){let T=r[++u];for(;"string"==typeof T;)T=r[++u];continue}if(4===y)break;if(0===y){u+=4;continue}}u+=c?1:2}return-1}return function uh(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function _f(t,r,s=!1){for(let a=0;a<r.length;a++)if(pd(t,r[a],s))return!0;return!1}function vf(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let u=0;u<t.length;u++)if(t[u]!==a[u])continue e;return!0}}return!1}function bf(t,r){return t?":not("+r.trim()+")":r}function Eu(t){let r=t[0],s=1,a=2,u="",c=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&a){const T=t[++s];u+="["+y+(T.length>0?'="'+T+'"':"")+"]"}else 8&a?u+="."+y:4&a&&(u+=" "+y);else""!==u&&!Ta(y)&&(r+=bf(c,u),u=""),a=y,c=c||!Ta(a);s++}return""!==u&&(r+=bf(c,u)),r}const pr={};function Jp(t){nc(Rn(),Lt(),Kr()+t,xo())}function nc(t,r,s,a){if(!a)if(3==(3&r[2])){const c=t.preOrderCheckHooks;null!==c&&Uo(r,c,s)}else{const c=t.preOrderHooks;null!==c&&sa(r,c,0,s)}$s(s)}function gl(t,r){return t<<17|r<<2}function Lo(t){return t>>17&32767}function wf(t){return 2|t}function Zl(t){return(131068&t)>>2}function Df(t,r){return-131069&t|r<<2}function Lc(t){return 1|t}function fm(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],c=s[a+1];if(-1!==c){const y=t.data[c];Ct(u),y.contentQueries(2,r[c],c)}}}function wd(t,r,s,a,u,c,y,T,O,z){const X=r.blueprint.slice();return X[0]=u,X[2]=140|a,j(X),X[3]=X[15]=t,X[8]=s,X[10]=y||t&&t[10],X[11]=T||t&&t[11],X[12]=O||t&&t[12]||null,X[9]=z||t&&t[9]||null,X[6]=c,X[16]=2==r.type?t[16]:X,X}function Du(t,r,s,a,u){let c=t.data[r];if(null===c)c=function gh(t,r,s,a,u){const c=ra(),y=Mo(),O=t.data[r]=function vh(t,r,s,a,u,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?c:c&&c.parent,s,r,a,u);return null===t.firstChild&&(t.firstChild=O),null!==c&&(y?null==c.child&&null!==O.parent&&(c.child=O):null===c.next&&(c.next=O)),O}(t,r,s,a,u),function w(){return x.lFrame.inI18n}()&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=u;const y=function Ao(){const t=x.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();c.injectorIndex=null===y?-1:y.injectorIndex}return ao(c,!0),c}function ic(t,r,s,a){if(0===s)return-1;const u=r.length;for(let c=0;c<s;c++)r.push(a),t.blueprint.push(a),t.data.push(null);return u}function sc(t,r,s){Hn(r);try{const a=t.viewQuery;null!==a&&Od(1,a,s);const u=t.template;null!==u&&Cd(t,r,u,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fm(t,r),t.staticViewQueries&&Od(2,t.viewQuery,s);const c=t.components;null!==c&&function Gg(t,r){for(let s=0;s<r.length;s++)wm(t,r[s])}(r,c)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,oi()}}function Ql(t,r,s,a){const u=r[2];if(256==(256&u))return;Hn(r);const c=xo();try{j(r),function Bo(t){return x.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Cd(t,r,s,2,a);const y=3==(3&u);if(!c)if(y){const z=t.preOrderCheckHooks;null!==z&&Uo(r,z,null)}else{const z=t.preOrderHooks;null!==z&&sa(r,z,0,null),Xt(r,0)}if(function Yg(t){for(let r=Ya(t);null!==r;r=Ju(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const u=s[a],c=u[3];0==(1024&u[2])&&F(c,1),u[2]|=1024}}}(r),function Ff(t){for(let r=Ya(t);null!==r;r=Ju(r))for(let s=10;s<r.length;s++){const a=r[s],u=a[1];ei(a)&&Ql(u,a,u.template,a[8])}}(r),null!==t.contentQueries&&fm(t,r),!c)if(y){const z=t.contentCheckHooks;null!==z&&Uo(r,z)}else{const z=t.contentHooks;null!==z&&sa(r,z,1),Xt(r,1)}!function $g(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)$s(~u);else{const c=u,y=s[++a],T=s[++a];Z(y,c),T(2,r[c])}}}finally{$s(-1)}}(t,r);const T=t.components;null!==T&&function zg(t,r){for(let s=0;s<r.length;s++)Qg(t,r[s])}(r,T);const O=t.viewQuery;if(null!==O&&Od(2,O,a),!c)if(y){const z=t.viewCheckHooks;null!==z&&Uo(r,z)}else{const z=t.viewHooks;null!==z&&sa(r,z,2),Xt(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,F(r[3],-1))}finally{oi()}}function Dd(t,r,s,a){const u=r[10],c=!xo(),y=qn(r);try{c&&!y&&u.begin&&u.begin(),y&&sc(t,r,a),Ql(t,r,s,a)}finally{c&&!y&&u.end&&u.end()}}function Cd(t,r,s,a,u){const c=Kr(),y=2&a;try{$s(-1),y&&r.length>20&&nc(t,r,20,xo()),s(a,u)}finally{$s(c)}}function yh(t,r,s){if(Er(r)){const u=r.directiveEnd;for(let c=r.directiveStart;c<u;c++){const y=t.data[c];y.contentQueries&&y.contentQueries(1,s[c],c)}}}function Id(t,r,s){!us()||(function Of(t,r,s,a){const u=s.directiveStart,c=s.directiveEnd;t.firstCreatePass||Co(s,r),go(a,r);const y=s.initialInputs;for(let T=u;T<c;T++){const O=t.data[T],z=ni(O);z&&Pf(r,s,O);const X=Yn(r,t,T,s);go(X,r),null!==y&&wh(0,T-u,X,O,0,y),z&&(Xn(s.index,r)[8]=X)}}(t,r,s,It(s,r)),128==(128&s.flags)&&function vm(t,r,s){const a=s.directiveStart,u=s.directiveEnd,y=s.index,T=function ce(){return x.lFrame.currentDirectiveIndex}();try{$s(y);for(let O=a;O<u;O++){const z=t.data[O],X=r[O];Me(O),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&bh(z,X)}}finally{$s(-1),Me(T)}}(t,r,s))}function Td(t,r,s=It){const a=r.localNames;if(null!==a){let u=r.index+1;for(let c=0;c<a.length;c+=2){const y=a[c+1],T=-1===y?s(r,t):t[y];t[u++]=T}}}function Mf(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=_h(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function _h(t,r,s,a,u,c,y,T,O,z){const X=20+a,_e=X+u,Le=function pm(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:pr);return s}(X,_e),lt="function"==typeof z?z():z;return Le[1]={type:t,blueprint:Le,template:s,queries:null,viewQuery:T,declTNode:r,data:Le.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:_e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:O,consts:lt,incompleteFirstPass:!1}}function xf(t,r,s,a){const u=ac(r);null===s?u.push(a):(u.push(s),t.firstCreatePass&&Jl(t).push(a,u.length-1))}function Vc(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const u=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,u):s[a]=[r,u]}return s}function Ba(t,r,s,a,u,c,y,T){const O=It(r,s);let X,z=r.inputs;!T&&null!=z&&(X=z[a])?(uc(t,s,X,a,u),Cr(r)&&function Wg(t,r){const s=Xn(r,t);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function ym(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),u=null!=y?y(u,r.value||"",a):u,Ir(c)?c.setProperty(O,a,u):_n(a)||(O.setProperty?O.setProperty(a,u):O[a]=u))}function Sd(t,r,s,a){let u=!1;if(us()){const c=function kf(t,r,s){const a=t.directiveRegistry;let u=null;if(a)for(let c=0;c<a.length;c++){const y=a[c];_f(s,y.selectors,!1)&&(u||(u=[]),C(Co(s,r),t,y.type),ni(y)?(Xl(t,s),u.unshift(y)):u.push(y))}return u}(t,r,s),y=null===a?null:{"":-1};if(null!==c){u=!0,Eh(s,t.data.length,c.length);for(let X=0;X<c.length;X++){const _e=c[X];_e.providersResolver&&_e.providersResolver(_e)}let T=!1,O=!1,z=ic(t,r,c.length,null);for(let X=0;X<c.length;X++){const _e=c[X];s.mergedAttrs=Nn(s.mergedAttrs,_e.hostAttrs),Em(t,s,r,z,_e),qg(z,_e,y),null!==_e.contentQueries&&(s.flags|=8),(null!==_e.hostBindings||null!==_e.hostAttrs||0!==_e.hostVars)&&(s.flags|=128);const Le=_e.type.prototype;!T&&(Le.ngOnChanges||Le.ngOnInit||Le.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),T=!0),!O&&(Le.ngOnChanges||Le.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),O=!0),z++}!function Rf(t,r){const a=r.directiveEnd,u=t.data,c=r.attrs,y=[];let T=null,O=null;for(let z=r.directiveStart;z<a;z++){const X=u[z],_e=X.inputs,Le=null===c||Zp(r)?null:Nf(_e,c);y.push(Le),T=Vc(_e,z,T),O=Vc(X.outputs,z,O)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=T,r.outputs=O}(t,s)}y&&function bm(t,r,s){if(r){const a=t.localNames=[];for(let u=0;u<r.length;u+=2){const c=s[r[u+1]];if(null==c)throw new Ke(-301,!1);a.push(r[u],c)}}}(s,a,y)}return s.mergedAttrs=Nn(s.mergedAttrs,s.attrs),u}function Ad(t,r,s,a,u,c){const y=c.hostBindings;if(y){let T=t.hostBindingOpCodes;null===T&&(T=t.hostBindingOpCodes=[]);const O=~r.index;(function Md(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=O&&T.push(O),T.push(a,u,y)}}function bh(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Xl(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function qg(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;ni(r)&&(s[""]=t)}}function Eh(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Em(t,r,s,a,u){t.data[a]=u;const c=u.factory||(u.factory=Ui(u.type)),y=new ii(c,ni(u),null);t.blueprint[a]=y,s[a]=y,Ad(t,r,0,a,ic(t,s,u.hostVars,pr),u)}function Pf(t,r,s){const a=It(r,t),u=Mf(s),c=t[10],y=jc(t,wd(t,u,null,s.onPush?64:16,a,r,c,c.createRenderer(a,s),null,null));t[r.index]=y}function Ol(t,r,s,a,u,c){const y=It(t,r);!function xd(t,r,s,a,u,c,y){if(null==c)Ir(t)?t.removeAttribute(r,u,s):r.removeAttribute(u);else{const T=null==y?Ue(c):y(c,a||"",u);Ir(t)?t.setAttribute(r,u,T,s):s?r.setAttributeNS(s,u,T):r.setAttribute(u,T)}}(r[11],y,c,t.value,s,a,u)}function wh(t,r,s,a,u,c){const y=c[r];if(null!==y){const T=a.setInput;for(let O=0;O<y.length;){const z=y[O++],X=y[O++],_e=y[O++];null!==T?a.setInput(s,_e,z,X):s[X]=_e}}}function Nf(t,r){let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;t.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,t[u],r[a+1])),a+=2}else a+=2;else a+=4}return s}function oc(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Qg(t,r){const s=Xn(r,t);if(ei(s)){const a=s[1];80&s[2]?Ql(a,s,a.template,s[8]):s[5]>0&&Dh(s)}}function Dh(t){for(let a=Ya(t);null!==a;a=Ju(a))for(let u=10;u<a.length;u++){const c=a[u];if(1024&c[2]){const y=c[1];Ql(y,c,y.template,c[8])}else c[5]>0&&Dh(c)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Xn(s[a],t);ei(u)&&u[5]>0&&Dh(u)}}function wm(t,r){const s=Xn(r,t),a=s[1];(function Xg(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),sc(a,s,s[8])}function jc(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function Lf(t){for(;t;){t[2]|=64;const r=Xu(t);if(ps(t)&&!r)return t;t=r}return null}function Rd(t,r,s){const a=r[10];a.begin&&a.begin();try{Ql(t,r,t.template,s)}catch(u){throw lc(r,u),u}finally{a.end&&a.end()}}function Dm(t){!function Bf(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=Ku(s),u=a[1];Dd(u,a,u.template,s)}}(t[8])}function Od(t,r,s){Ct(0),r(t,s)}const jf=(()=>Promise.resolve(null))();function ac(t){return t[7]||(t[7]=[])}function Jl(t){return t.cleanup||(t.cleanup=[])}function Ch(t,r,s){return(null===t||ni(t))&&(s=function ie(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[r.index])),s[11]}function lc(t,r){const s=t[9],a=s?s.get(xl,null):null;a&&a.handleError(r)}function uc(t,r,s,a,u){for(let c=0;c<s.length;){const y=s[c++],T=s[c++],O=r[y],z=t.data[y];null!==z.setInput?z.setInput(O,u,a,T):O[T]=u}}function kl(t,r,s){const a=yt(r,t);!function Ia(t,r,s){Ir(t)?t.setValue(r,s):r.textContent=s}(t[11],a,s)}function eu(t,r,s){let a=s?t.styles:null,u=s?t.classes:null,c=0;if(null!==r)for(let y=0;y<r.length;y++){const T=r[y];"number"==typeof T?c=T:1==c?u=Te(u,T):2==c&&(a=Te(a,T+": "+r[++y]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=u:t.classesWithoutHost=u}const kd=new mi("INJECTOR",-1);class Ih{get(r,s=No){if(s===No){const a=new Error(`NullInjectorError: No provider for ${ae(r)}!`);throw a.name="NullInjectorError",a}return s}}const Pd=new mi("Set Injector scope."),Nd={},ty={};let Fd;function Th(){return void 0===Fd&&(Fd=new Ih),Fd}function Sm(t,r=null,s=null,a){const u=Hf(t,r,s,a);return u._resolveInjectorDefTypes(),u}function Hf(t,r=null,s=null,a){return new ny(t,s,r||Th(),a)}class ny{constructor(r,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&Io(s,T=>this.processProvider(T,r,s)),Io([r],T=>this.processInjectorType(T,[],c)),this.records.set(kd,Hc(void 0,this));const y=this.records.get(Pd);this.scope=null!=y?y.value:null,this.source=u||("object"==typeof r?null:ae(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=No,a=an.Default){this.assertNotDestroyed();const u=ft(this),c=Zn(void 0);try{if(!(a&an.SkipSelf)){let T=this.records.get(r);if(void 0===T){const O=function Wf(t){return"function"==typeof t||"object"==typeof t&&t instanceof mi}(r)&&Dn(r);T=O&&this.injectableDefInScope(O)?Hc(Sh(r),Nd):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(a&an.Self?Th():this.parent).get(r,s=a&an.Optional&&s===No?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Da]=y[Da]||[]).unshift(ae(r)),u)throw y;return function Es(t,r,s,a){const u=t[Da];throw r[Q]&&u.unshift(r[Q]),t.message=function Pa(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let u=ae(r);if(Array.isArray(r))u=r.map(ae).join(" -> ");else if("object"==typeof r){let c=[];for(let y in r)if(r.hasOwnProperty(y)){let T=r[y];c.push(y+":"+("string"==typeof T?JSON.stringify(T):ae(T)))}u=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${t.replace(P,"\n  ")}`}("\n"+t.message,u,s,a),t.ngTokenPath=u,t[Da]=null,t}(y,r,"R3InjectorError",this.source)}throw y}finally{Zn(c),ft(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,u)=>r.push(ae(u))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processInjectorType(r,s,a){if(!(r=De(r)))return!1;let u=gr(r);const c=null==u&&r.ngModule||void 0,y=void 0===c?r:c,T=-1!==a.indexOf(y);if(void 0!==c&&(u=gr(c)),null==u)return!1;if(null!=u.imports&&!T){let X;a.push(y);try{Io(u.imports,_e=>{this.processInjectorType(_e,s,a)&&(void 0===X&&(X=[]),X.push(_e))})}finally{}if(void 0!==X)for(let _e=0;_e<X.length;_e++){const{ngModule:Le,providers:lt}=X[_e];Io(lt,Rt=>this.processProvider(Rt,Le,lt||pn))}}this.injectorDefTypes.add(y);const O=Ui(y)||(()=>new y);this.records.set(y,Hc(O,Nd));const z=u.providers;if(null!=z&&!T){const X=r;Io(z,_e=>this.processProvider(_e,X,z))}return void 0!==c&&void 0!==r.providers}processProvider(r,s,a){let u=Cu(r=De(r))?r:De(r&&r.provide);const c=function Mm(t,r,s){return xm(t)?Hc(void 0,t.useValue):Hc($f(t),Nd)}(r);if(Cu(r)||!0!==r.multi)this.records.get(u);else{let y=this.records.get(u);y||(y=Hc(void 0,Nd,!0),y.factory=()=>ar(y.multi),this.records.set(u,y)),u=r,y.multi.push(r)}this.records.set(u,c)}hydrate(r,s){return s.value===Nd&&(s.value=ty,s.value=s.factory()),"object"==typeof s.value&&s.value&&function sy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=De(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Sh(t){const r=Dn(t),s=null!==r?r.factory:Ui(t);if(null!==s)return s;if(t instanceof mi)throw new Ke(204,!1);if(t instanceof Function)return function Am(t){const r=t.length;if(r>0)throw cs(r,"?"),new Ke(204,!1);const s=function ur(t){const r=t&&(t[Sn]||t[cr]);if(r){const s=function lr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ke(204,!1)}function $f(t,r,s){let a;if(Cu(t)){const u=De(t);return Ui(u)||Sh(u)}if(xm(t))a=()=>De(t.useValue);else if(function iy(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ar(t.deps||[]));else if(function ry(t){return!(!t||!t.useExisting)}(t))a=()=>ln(De(t.useExisting));else{const u=De(t&&(t.useClass||t.provide));if(!function Gf(t){return!!t.deps}(t))return Ui(u)||Sh(u);a=()=>new u(...ar(t.deps))}return a}function Hc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function xm(t){return null!==t&&"object"==typeof t&&Ee in t}function Cu(t){return"function"==typeof t}let Pl=(()=>{class t{static create(s,a){var u;if(Array.isArray(s))return Sm({name:""},a,s,"");{const c=null!==(u=s.name)&&void 0!==u?u:"";return Sm({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=No,t.NULL=new Ih,t.\u0275prov=hn({token:t,providedIn:"any",factory:()=>ln(kd)}),t.__NG_ELEMENT_ID__=-1,t})();function Jf(t,r){Ps(Ku(t)[1],bi())}function ep(t){let r=function kh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let u;if(ni(t))u=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ke(903,"");u=r.\u0275dir}if(u){if(s){a.push(u);const y=t;y.inputs=Ph(t.inputs),y.declaredInputs=Ph(t.declaredInputs),y.outputs=Ph(t.outputs);const T=u.hostBindings;T&&cy(t,T);const O=u.viewQuery,z=u.contentQueries;if(O&&np(t,O),z&&Fm(t,z),Re(t.inputs,u.inputs),Re(t.declaredInputs,u.declaredInputs),Re(t.outputs,u.outputs),ni(u)&&u.data.animation){const X=t.data;X.animation=(X.animation||[]).concat(u.data.animation)}}const c=u.features;if(c)for(let y=0;y<c.length;y++){const T=c[y];T&&T.ngInherit&&T(t),T===ep&&(s=!1)}}r=Object.getPrototypeOf(r)}!function tp(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const u=t[a];u.hostVars=r+=u.hostVars,u.hostAttrs=Nn(u.hostAttrs,s=Nn(s,u.hostAttrs))}}(a)}function Ph(t){return t===Pr?{}:t===pn?[]:t}function np(t,r){const s=t.viewQuery;t.viewQuery=s?(a,u)=>{r(a,u),s(a,u)}:r}function Fm(t,r){const s=t.contentQueries;t.contentQueries=s?(a,u,c)=>{r(a,u,c),s(a,u,c)}:r}function cy(t,r){const s=t.hostBindings;t.hostBindings=s?(a,u)=>{r(a,u),s(a,u)}:r}let $c=null;function Iu(){if(!$c){const t=En.Symbol;if(t&&t.iterator)$c=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&($c=a)}}}return $c}function Ud(t){return!!sp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Iu()in t)}function sp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function vo(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function op(t,r,s,a){const u=Lt();return vo(u,W(),r)&&(Rn(),Ol(Yr(),u,t,r,s,a)),op}function up(t,r,s,a,u,c,y,T){const O=Lt(),z=Rn(),X=t+20,_e=z.firstCreatePass?function fy(t,r,s,a,u,c,y,T,O){const z=r.consts,X=Du(r,t,4,y||null,Ur(z,T));Sd(r,s,X,Ur(z,O)),Ps(r,X);const _e=X.tViews=_h(2,X,a,u,c,r.directiveRegistry,r.pipeRegistry,null,r.schemas,z);return null!==r.queries&&(r.queries.template(r,X),_e.queries=r.queries.embeddedTView(X)),X}(X,z,O,r,s,a,u,c,y):z.data[X];ao(_e,!1);const Le=O[11].createComment("");ea(z,O,Le,_e),go(Le,O),jc(O,O[X]=oc(Le,O,Le,_e)),tr(_e)&&Id(z,O,_e),null!=y&&Td(O,_e,T)}function Hm(t){return ir(function Vo(){return x.lFrame.contextLView}(),20+t)}function $h(t,r=an.Default){const s=Lt();return null===s?ln(t,r):J(bi(),s,De(t),r)}function ru(){throw new Error("invalid")}function iu(t,r,s){const a=Lt();return vo(a,W(),r)&&Ba(Rn(),Yr(),a,t,r,a[11],s,!1),iu}function Gc(t,r,s,a,u){const y=u?"class":"style";uc(t,s,r.inputs[y],y,a)}function zh(t,r,s,a){const u=Lt(),c=Rn(),y=20+t,T=u[11],O=u[y]=yu(T,r,function Do(){return x.lFrame.currentNamespace}()),z=c.firstCreatePass?function Iy(t,r,s,a,u,c,y){const T=r.consts,z=Du(r,t,2,u,Ur(T,c));return Sd(r,s,z,Ur(T,y)),null!==z.attrs&&eu(z,z.attrs,!1),null!==z.mergedAttrs&&eu(z,z.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,z),z}(y,c,u,0,r,s,a):c.data[y];ao(z,!0);const X=z.mergedAttrs;null!==X&&es(T,O,X);const _e=z.classes;null!==_e&&oh(T,O,_e);const Le=z.styles;return null!==Le&&bu(T,O,Le),64!=(64&z.flags)&&ea(c,u,O,z),0===function Dt(){return x.lFrame.elementDepthCount}()&&go(O,u),function yn(){x.lFrame.elementDepthCount++}(),tr(z)&&(Id(c,u,z),yh(c,z,u)),null!==a&&Td(u,z),zh}function jd(){let t=bi();Mo()?ia():(t=t.parent,ao(t,!1));const r=t;!function ri(){x.lFrame.elementDepthCount--}();const s=Rn();return s.firstCreatePass&&(Ps(s,t),Er(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function jo(t){return 0!=(16&t.flags)}(r)&&Gc(s,r,Lt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function el(t){return 0!=(32&t.flags)}(r)&&Gc(s,r,Lt(),r.stylesWithoutHost,!1),jd}function Gh(t,r,s,a){return zh(t,r,s,a),jd(),Gh}function Fl(t,r,s){const a=Lt(),u=Rn(),c=t+20,y=u.firstCreatePass?function Ty(t,r,s,a,u){const c=r.consts,y=Ur(c,a),T=Du(r,t,8,"ng-container",y);return null!==y&&eu(T,y,!0),Sd(r,s,T,Ur(c,u)),null!==r.queries&&r.queries.elementStart(r,T),T}(c,u,a,r,s):u.data[c];ao(y,!0);const T=a[c]=a[11].createComment("");return ea(u,a,T,y),go(T,a),tr(y)&&(Id(u,a,y),yh(u,y,a)),null!=s&&Td(a,y),Fl}function _c(){let t=bi();const r=Rn();return Mo()?ia():(t=t.parent,ao(t,!1)),r.firstCreatePass&&(Ps(r,t),Er(t)&&r.queries.elementEnd(t)),_c}function fp(){return Lt()}function Hd(t){return!!t&&"function"==typeof t.then}function ig(t){return!!t&&"function"==typeof t.subscribe}const sg=ig;function pp(t,r,s,a){const u=Lt(),c=Rn(),y=bi();return gp(c,u,u[11],y,t,r,!!s,a),pp}function $d(t,r){const s=bi(),a=Lt(),u=Rn();return gp(u,a,Ch(Oe(u.data),s,a),s,t,r,!1),$d}function gp(t,r,s,a,u,c,y,T){const O=tr(a),X=t.firstCreatePass&&Jl(t),_e=r[8],Le=ac(r);let lt=!0;if(3&a.type||T){const bn=It(a,r),Fn=T?T(bn):bn,zt=Le.length,nr=T?ci=>T(B(ci[a.index])):a.index;if(Ir(s)){let ci=null;if(!T&&O&&(ci=function mp(t,r,s,a){const u=t.cleanup;if(null!=u)for(let c=0;c<u.length-1;c+=2){const y=u[c];if(y===s&&u[c+1]===a){const T=r[7],O=u[c+2];return T.length>O?T[O]:null}"string"==typeof y&&(c+=2)}return null}(t,r,u,a.index)),null!==ci)(ci.__ngLastListenerFn__||ci).__ngNextListenerFn__=c,ci.__ngLastListenerFn__=c,lt=!1;else{c=Wh(a,r,_e,c,!1);const $i=s.listen(Fn,u,c);Le.push(c,$i),X&&X.push(u,nr,zt,zt+1)}}else c=Wh(a,r,_e,c,!0),Fn.addEventListener(u,c,y),Le.push(c),X&&X.push(u,nr,zt,y)}else c=Wh(a,r,_e,c,!1);const Rt=a.outputs;let rn;if(lt&&null!==Rt&&(rn=Rt[u])){const bn=rn.length;if(bn)for(let Fn=0;Fn<bn;Fn+=2){const bl=r[rn[Fn]][rn[Fn+1]].subscribe(c),Yd=Le.length;Le.push(c,bl),X&&X.push(u,a.index,Yd,-(Yd+1))}}}function Ru(t,r,s,a){try{return!1!==s(a)}catch(u){return lc(t,u),!1}}function Wh(t,r,s,a,u){return function c(y){if(y===Function)return a;const T=2&t.flags?Xn(t.index,r):r;0==(32&r[2])&&Lf(T);let O=Ru(r,0,a,y),z=c.__ngNextListenerFn__;for(;z;)O=Ru(r,0,z,y)&&O,z=z.__ngNextListenerFn__;return u&&!1===O&&(y.preventDefault(),y.returnValue=!1),O}}function yp(t=1){return function Ei(t){return(x.lFrame.contextLView=function Ni(t,r){for(;t>0;)r=r[15],t--;return r}(t,x.lFrame.contextLView))[8]}(t)}function _p(t,r){let s=null;const a=function Sa(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let u=0;u<r.length;u++){const c=r[u];if("*"!==c){if(null===a?_f(t,c,!0):vf(a,c))return u}else s=u}return s}function Kh(t){const r=Lt()[16][6];if(!r.projection){const a=r.projection=cs(t?t.length:1,null),u=a.slice();let c=r.child;for(;null!==c;){const y=t?_p(c,t):0;null!==y&&(u[y]?u[y].projectionNext=c:a[y]=c,u[y]=c),c=c.next}}}function og(t,r=0,s){const a=Lt(),u=Rn(),c=Du(u,20+t,16,null,s||null);null===c.projection&&(c.projection=r),ia(),64!=(64&c.flags)&&function tc(t,r,s){Pc(r[11],0,r,s,Y(t,s,r),ui(s.parent||r[6],s,r))}(u,a,c)}function Yc(t,r,s,a,u){const c=t[s+1],y=null===r;let T=a?Lo(c):Zl(c),O=!1;for(;0!==T&&(!1===O||y);){const X=t[T+1];Ay(t[T],r)&&(O=!0,t[T+1]=a?Lc(X):wf(X)),T=a?Lo(X):Zl(X)}O&&(t[s+1]=a?wf(c):Lc(c))}function Ay(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&qo(t,r)>=0}function qh(t,r,s){return So(t,r,s,!1),qh}function Zh(t,r){return So(t,r,null,!0),Zh}function So(t,r,s,a){const u=Lt(),c=Rn(),y=function g(t){const r=x.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}(2);c.firstUpdatePass&&function fg(t,r,s,a){const u=t.data;if(null===u[s+1]){const c=u[Kr()],y=function Nu(t,r){return r>=t.expandoStartIndex}(t,s);(function gg(t,r){return 0!=(t.flags&(r?16:32))})(c,a)&&null===r&&!y&&(r=!1),r=function Fy(t,r,s,a){const u=Oe(t);let c=a?r.residualClasses:r.residualStyles;if(null===u)0===(a?r.classBindings:r.styleBindings)&&(s=Wd(s=Dp(null,t,r,s,a),r.attrs,a),c=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==u)if(s=Dp(u,t,r,s,a),null===c){let O=function Ly(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Zl(a))return t[Lo(a)]}(t,r,a);void 0!==O&&Array.isArray(O)&&(O=Dp(null,t,r,O[1],a),O=Wd(O,r.attrs,a),function Vy(t,r,s,a){t[Lo(s?r.classBindings:r.styleBindings)]=a}(t,r,a,O))}else c=function By(t,r,s){let a;const u=r.directiveEnd;for(let c=1+r.directiveStylingLast;c<u;c++)a=Wd(a,t[c].hostAttrs,s);return Wd(a,r.attrs,s)}(t,r,a)}return void 0!==c&&(a?r.residualClasses=c:r.residualStyles=c),s}(u,c,r,a),function Sy(t,r,s,a,u,c){let y=c?r.classBindings:r.styleBindings,T=Lo(y),O=Zl(y);t[a]=s;let X,z=!1;if(Array.isArray(s)){const _e=s;X=_e[1],(null===X||qo(_e,X)>0)&&(z=!0)}else X=s;if(u)if(0!==O){const Le=Lo(t[T+1]);t[a+1]=gl(Le,T),0!==Le&&(t[Le+1]=Df(t[Le+1],a)),t[T+1]=function em(t,r){return 131071&t|r<<17}(t[T+1],a)}else t[a+1]=gl(T,0),0!==T&&(t[T+1]=Df(t[T+1],a)),T=a;else t[a+1]=gl(O,0),0===T?T=a:t[O+1]=Df(t[O+1],a),O=a;z&&(t[a+1]=wf(t[a+1])),Yc(t,X,a,!0),Yc(t,X,a,!1),function lg(t,r,s,a,u){const c=u?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof r&&qo(c,r)>=0&&(s[a+1]=Lc(s[a+1]))}(r,X,t,a,c),y=gl(T,O),c?r.classBindings=y:r.styleBindings=y}(u,c,r,s,y,a)}}(c,t,y,a),r!==pr&&vo(u,y,r)&&function mg(t,r,s,a,u,c,y,T){if(!(3&r.type))return;const O=t.data,z=O[T+1];Xc(function tm(t){return 1==(1&t)}(z)?vc(O,r,s,u,Zl(z),y):void 0)||(Xc(c)||function ch(t){return 2==(2&t)}(z)&&(c=vc(O,null,s,u,T,y)),function vu(t,r,s,a,u){const c=Ir(t);if(r)u?c?t.addClass(s,a):s.classList.add(a):c?t.removeClass(s,a):s.classList.remove(a);else{let y=-1===a.indexOf("-")?void 0:pl.DashCase;if(null==u)c?t.removeStyle(s,a,y):s.style.removeProperty(a);else{const T="string"==typeof u&&u.endsWith("!important");T&&(u=u.slice(0,-10),y|=pl.Important),c?t.setStyle(s,a,u,y):s.style.setProperty(a,u,T?"important":"")}}}(a,y,yt(Kr(),s),u,c))}(c,c.data[Kr()],u,u[11],t,u[y+1]=function Hy(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ae(Qo(t)))),t}(r,s),a,y)}function Dp(t,r,s,a,u){let c=null;const y=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<y&&(c=r[T],a=Wd(a,c.hostAttrs,u),c!==t);)T++;return null!==t&&(s.directiveStylingLast=T),a}function Wd(t,r,s){const a=s?1:2;let u=-1;if(null!==r)for(let c=0;c<r.length;c++){const y=r[c];"number"==typeof y?u=y:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fs(t,y,!!s||r[++c]))}return void 0===t?null:t}function vc(t,r,s,a,u,c){const y=null===r;let T;for(;u>0;){const O=t[u],z=Array.isArray(O),X=z?O[1]:O,_e=null===X;let Le=s[u+1];Le===pr&&(Le=_e?pn:void 0);let lt=_e?Ii(Le,a):X===a?Le:void 0;if(z&&!Xc(lt)&&(lt=Ii(O,a)),Xc(lt)&&(T=lt,y))return T;const Rt=t[u+1];u=y?Lo(Rt):Zl(Rt)}if(null!==r){let O=c?r.residualClasses:r.residualStyles;null!=O&&(T=Ii(O,a))}return T}function Xc(t){return void 0!==t}function yg(t,r=""){const s=Lt(),a=Rn(),u=t+20,c=a.firstCreatePass?Du(a,u,1,r,null):a.data[u],y=s[u]=function Gl(t,r){return Ir(t)?t.createText(r):t.createTextNode(r)}(s[11],r);ea(a,s,y,c),ao(c,!1)}function Cp(t){return Qh("",t,""),Cp}function Qh(t,r,s){const a=Lt(),u=function Tu(t,r,s,a){return vo(t,W(),s)?r+Ue(s)+a:pr}(a,t,r,s);return u!==pr&&kl(a,Kr(),u),Qh}function Gy(t,r,s){const a=Lt();return vo(a,W(),r)&&Ba(Rn(),Yr(),a,t,r,a[11],s,!0),Gy}function Wy(t,r,s){const a=Lt();if(vo(a,W(),r)){const c=Rn(),y=Yr();Ba(c,y,a,t,r,Ch(Oe(c.data),y,a),s,!0)}return Wy}const Kd=void 0;var Xb=["en",[["a","p"],["AM","PM"],Kd],[["AM","PM"],Kd,Kd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kd,"{1} 'at' {0}",Kd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qb(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Xh={};function Ky(t){const r=function Jb(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=av(r);if(s)return s;const a=r.split("-")[0];if(s=av(a),s)return s;if("en"===a)return Xb;throw new Error(`Missing locale data for the locale "${t}".`)}function ov(t){return Ky(t)[mr.PluralCase]}function av(t){return t in Xh||(Xh[t]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[t]),Xh[t]}var mr=(()=>((mr=mr||{})[mr.LocaleId=0]="LocaleId",mr[mr.DayPeriodsFormat=1]="DayPeriodsFormat",mr[mr.DayPeriodsStandalone=2]="DayPeriodsStandalone",mr[mr.DaysFormat=3]="DaysFormat",mr[mr.DaysStandalone=4]="DaysStandalone",mr[mr.MonthsFormat=5]="MonthsFormat",mr[mr.MonthsStandalone=6]="MonthsStandalone",mr[mr.Eras=7]="Eras",mr[mr.FirstDayOfWeek=8]="FirstDayOfWeek",mr[mr.WeekendRange=9]="WeekendRange",mr[mr.DateFormat=10]="DateFormat",mr[mr.TimeFormat=11]="TimeFormat",mr[mr.DateTimeFormat=12]="DateTimeFormat",mr[mr.NumberSymbols=13]="NumberSymbols",mr[mr.NumberFormats=14]="NumberFormats",mr[mr.CurrencyCode=15]="CurrencyCode",mr[mr.CurrencySymbol=16]="CurrencySymbol",mr[mr.CurrencyName=17]="CurrencyName",mr[mr.Currencies=18]="Currencies",mr[mr.Directionality=19]="Directionality",mr[mr.PluralCase=20]="PluralCase",mr[mr.ExtraData=21]="ExtraData",mr))();const bg="en-US";let lv=bg;function Yy(t,r,s,a,u){if(t=De(t),Array.isArray(t))for(let c=0;c<t.length;c++)Yy(t[c],r,s,a,u);else{const c=Rn(),y=Lt();let T=Cu(t)?t:De(t.provide),O=$f(t);const z=bi(),X=1048575&z.providerIndexes,_e=z.directiveStart,Le=z.providerIndexes>>20;if(Cu(t)||!t.multi){const lt=new ii(O,u,$h),Rt=Xy(T,r,u?X:X+Le,_e);-1===Rt?(C(Co(z,y),c,T),Qy(c,t,r.length),r.push(T),z.directiveStart++,z.directiveEnd++,u&&(z.providerIndexes+=1048576),s.push(lt),y.push(lt)):(s[Rt]=lt,y[Rt]=lt)}else{const lt=Xy(T,r,X+Le,_e),Rt=Xy(T,r,X,X+Le),rn=lt>=0&&s[lt],bn=Rt>=0&&s[Rt];if(u&&!bn||!u&&!rn){C(Co(z,y),c,T);const Fn=function X0(t,r,s,a,u){const c=new ii(t,s,$h);return c.multi=[],c.index=r,c.componentProviders=0,Ov(c,u,a&&!s),c}(u?Q0:Y0,s.length,u,a,O);!u&&bn&&(s[Rt].providerFactory=Fn),Qy(c,t,r.length,0),r.push(T),z.directiveStart++,z.directiveEnd++,u&&(z.providerIndexes+=1048576),s.push(Fn),y.push(Fn)}else Qy(c,t,lt>-1?lt:Rt,Ov(s[u?Rt:lt],O,!u&&a));!u&&a&&bn&&s[Rt].componentProviders++}}}function Qy(t,r,s,a){const u=Cu(r),c=function zf(t){return!!t.useClass}(r);if(u||c){const O=(c?De(r.useClass):r).prototype.ngOnDestroy;if(O){const z=t.destroyHooks||(t.destroyHooks=[]);if(!u&&r.multi){const X=z.indexOf(s);-1===X?z.push(s,[a,O]):z[X+1].push(a,O)}else z.push(s,O)}}}function Ov(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Xy(t,r,s,a){for(let u=s;u<a;u++)if(r[u]===t)return u;return-1}function Y0(t,r,s,a){return Jy(this.multi,[])}function Q0(t,r,s,a){const u=this.multi;let c;if(this.providerFactory){const y=this.providerFactory.componentProviders,T=Yn(s,s[1],this.providerFactory.index,a);c=T.slice(0,y),Jy(u,c);for(let O=y;O<T.length;O++)c.push(T[O])}else c=[],Jy(u,c);return c}function Jy(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function kv(t,r=[]){return s=>{s.providersResolver=(a,u)=>function Z0(t,r,s){const a=Rn();if(a.firstCreatePass){const u=ni(t);Yy(s,a.data,a.blueprint,u,!0),Yy(r,a.data,a.blueprint,u,!1)}}(a,u?u(t):t,r)}}class Pv{}class tE{resolveComponentFactory(r){throw function eE(t){const r=Error(`No component factory found for ${ae(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Ig=(()=>{class t{}return t.NULL=new tE,t})();function nE(){return ef(bi(),Lt())}function ef(t,r){return new xp(It(t,r))}let xp=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=nE,t})();function rE(t){return t instanceof xp?t.nativeElement:t}class Fv{}let iE=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function oE(){const t=Lt(),s=Xn(bi().index,t);return function sE(t){return t[11]}(Nt(s)?s:t)}(),t})(),aE=(()=>{class t{}return t.\u0275prov=hn({token:t,providedIn:"root",factory:()=>null}),t})();class Lv{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Vv=new Lv("13.3.6"),e_={};function Tg(t,r,s,a,u=!1){for(;null!==s;){const c=r[s.index];if(null!==c&&a.push(B(c)),nn(c))for(let T=10;T<c.length;T++){const O=c[T],z=O[1].firstChild;null!==z&&Tg(O[1],O,z,a)}const y=s.type;if(8&y)Tg(t,r,s.child,a);else if(32&y){const T=ud(s,r);let O;for(;O=T();)a.push(O)}else if(16&y){const T=ws(r,s);if(Array.isArray(T))a.push(...T);else{const O=Xu(r[16]);Tg(O[1],O,T,a,!0)}}s=u?s.projectionNext:s.next}return a}class Rp{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Tg(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(nn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(ec(r,a),Ra(s,a))}this._attachedToViewContainer=!1}I(this._lView[1],this._lView)}onDestroy(r){xf(this._lView[1],this._lView,null,r)}markForCheck(){Lf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Uf(t,r,s){_s(!0);try{Rd(t,r,s)}finally{_s(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _u(t,r){ql(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ke(902,"");this._appRef=r}}class lE extends Rp{constructor(r){super(r),this._view=r}detectChanges(){Dm(this._view)}checkNoChanges(){!function Cm(t){_s(!0);try{Dm(t)}finally{_s(!1)}}(this._view)}get context(){return null}}class Bv extends Ig{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Ve(r);return new t_(s,this.ngModule)}}function Uv(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class t_ extends Pv{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Fc(t){return t.map(Eu).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Uv(this.componentDef.inputs)}get outputs(){return Uv(this.componentDef.outputs)}create(r,s,a,u){const c=(u=u||this.ngModule)?function cE(t,r){return{get:(s,a,u)=>{const c=t.get(s,e_,u);return c!==e_||a===e_?c:r.get(s,a,u)}}}(r,u.injector):r,y=c.get(Fv,V),T=c.get(aE,null),O=y.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",X=a?function gm(t,r,s){if(Ir(t))return t.selectRootElement(r,s===it.ShadowDom);let a="string"==typeof r?t.querySelector(r):r;return a.textContent="",a}(O,a,this.componentDef.encapsulation):yu(y.createRenderer(null,this.componentDef),z,function uE(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(z)),_e=this.componentDef.onPush?576:528,Le=function Nm(t,r){return{components:[],scheduler:t||mf,clean:jf,playerHandler:r||null,flags:0}}(),lt=_h(0,null,null,1,0,null,null,null,null,null),Rt=wd(null,lt,Le,_e,null,null,y,O,T,c);let rn,bn;Hn(Rt);try{const Fn=function Pm(t,r,s,a,u,c){const y=s[1];s[20]=t;const O=Du(y,20,2,"#host",null),z=O.mergedAttrs=r.hostAttrs;null!==z&&(eu(O,z,!0),null!==t&&(es(u,t,z),null!==O.classes&&oh(u,t,O.classes),null!==O.styles&&bu(u,t,O.styles)));const X=a.createRenderer(t,r),_e=wd(s,Mf(r),null,r.onPush?64:16,s[20],O,a,X,c||null,null);return y.firstCreatePass&&(C(Co(O,s),y,r.type),Xl(y,O),Eh(O,s.length,1)),jc(s,_e),s[20]=_e}(X,this.componentDef,Rt,y,O);if(X)if(a)es(O,X,["ng-version",Vv.full]);else{const{attrs:zt,classes:nr}=function Xp(t){const r=[],s=[];let a=1,u=2;for(;a<t.length;){let c=t[a];if("string"==typeof c)2===u?""!==c&&r.push(c,t[++a]):8===u&&s.push(c);else{if(!Ta(u))break;u=c}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);zt&&es(O,X,zt),nr&&nr.length>0&&oh(O,X,nr.join(" "))}if(bn=jr(lt,20),void 0!==s){const zt=bn.projection=[];for(let nr=0;nr<this.ngContentSelectors.length;nr++){const ci=s[nr];zt.push(null!=ci?Array.from(ci):null)}}rn=function Oh(t,r,s,a,u){const c=s[1],y=function Uc(t,r,s){const a=bi();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Em(t,a,r,ic(t,r,1,null),s));const u=Yn(r,t,a.directiveStart,a);go(u,r);const c=It(a,r);return c&&go(c,r),u}(c,s,r);if(a.components.push(y),t[8]=y,u&&u.forEach(O=>O(y,r)),r.contentQueries){const O=bi();r.contentQueries(1,y,O.directiveStart)}const T=bi();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||($s(T.index),Ad(s[1],T,0,T.directiveStart,T.directiveEnd,r),bh(r,y)),y}(Fn,this.componentDef,Rt,Le,[Jf]),sc(lt,Rt,null)}finally{oi()}return new hE(this.componentType,rn,ef(bn,Rt),Rt,bn)}}class hE extends class J0{}{constructor(r,s,a,u,c){super(),this.location=a,this._rootLView=u,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new lE(u),this.componentType=r}get injector(){return new Oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class tf{}class jv{}const nf=new Map;class zv extends tf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bv(this);const a=gn(r);this._bootstrapComponents=fl(a.bootstrap),this._r3Injector=Hf(r,s,[{provide:tf,useValue:this},{provide:Ig,useValue:this.componentFactoryResolver}],ae(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Pl.THROW_IF_NOT_FOUND,a=an.Default){return r===Pl||r===tf||r===kd?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class n_ extends jv{constructor(r){super(),this.moduleType=r,null!==gn(r)&&function pE(t){const r=new Set;!function s(a){const u=gn(a,!0),c=u.id;null!==c&&(function Hv(t,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${t} - ${ae(r)} vs ${ae(r.name)}`)}(c,nf.get(c),a),nf.set(c,a));const y=fl(u.imports);for(const T of y)r.has(T)||(r.add(T),s(T))}(t)}(r)}create(r){return new zv(this.moduleType,r)}}function Gv(t,r,s,a,u,c){const y=r+s;return vo(t,y,u)?function Qa(t,r,s){return t[r]=s}(t,y+1,c?a.call(c,u):a(u)):function Op(t,r){const s=t[r];return s===pr?void 0:s}(t,y+1)}function Yv(t,r){const s=Rn();let a;const u=t+20;s.firstCreatePass?(a=function IE(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const c=a.factory||(a.factory=Ui(a.type)),y=Zn($h);try{const T=$o(!1),O=c();return $o(T),function py(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,Lt(),u,O),O}finally{Zn(y)}}function Qv(t,r,s){const a=t+20,u=Lt(),c=ir(u,a);return function kp(t,r){return t[1].data[r].pure}(u,a)?Gv(u,function Ki(){const t=x.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),r,c.transform,s,c):c.transform(s)}function r_(t){return r=>{setTimeout(t,void 0,r)}}const Lu=class xE extends h.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var u,c,y;let T=r,O=s||(()=>null),z=a;if(r&&"object"==typeof r){const _e=r;T=null===(u=_e.next)||void 0===u?void 0:u.bind(_e),O=null===(c=_e.error)||void 0===c?void 0:c.bind(_e),z=null===(y=_e.complete)||void 0===y?void 0:y.bind(_e)}this.__isAsync&&(O=r_(O),T&&(T=r_(T)),z&&(z=r_(z)));const X=super.subscribe({next:T,error:O,complete:z});return r instanceof v.w0&&r.add(X),X}};function RE(){return this._results[Iu()]()}class Sg{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Iu(),a=Sg.prototype;a[s]||(a[s]=RE)}get changes(){return this._changes||(this._changes=new Lu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const u=vs(r);(this._changesDetected=!function Po(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let u=t[a],c=r[a];if(s&&(u=s(u),c=s(c)),c!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Pp=(()=>{class t{}return t.__NG_ELEMENT_ID__=PE,t})();const OE=Pp,kE=class extends OE{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=wd(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),sc(s,a,r),new Rp(a)}};function PE(){return Ag(bi(),Lt())}function Ag(t,r){return 4&t.type?new kE(r,t,ef(t,r)):null}let Mg=(()=>{class t{}return t.__NG_ELEMENT_ID__=NE,t})();function NE(){return eb(bi(),Lt())}const FE=Mg,Xv=class extends FE{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return ef(this._hostTNode,this._hostLView)}get injector(){return new Oi(this._hostTNode,this._hostLView)}get parentInjector(){const r=A(this._hostTNode,this._hostLView);if(Jt(r)){const s=wi(r,this._hostLView),a=pt(r);return new Oi(s[1].data[a+8],s)}return new Oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Jv(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const u=r.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(r,s,a,u,c){const y=r&&!function la(t){return"function"==typeof t}(r);let T;if(y)T=s;else{const _e=s||{};T=_e.index,a=_e.injector,u=_e.projectableNodes,c=_e.ngModuleRef}const O=y?r:new t_(Ve(r)),z=a||this.parentInjector;if(!c&&null==O.ngModule){const Le=(y?z:this.parentInjector).get(tf,null);Le&&(c=Le)}const X=O.create(z,u,void 0,c);return this.insert(X.hostView,T),X}insert(r,s){const a=r._lView,u=a[1];if(function Nr(t){return nn(t[3])}(a)){const X=this.indexOf(r);if(-1!==X)this.detach(X);else{const _e=a[3],Le=new Xv(_e,_e[6],_e[3]);Le.detach(Le.indexOf(r))}}const c=this._adjustIndex(s),y=this._lContainer;!function ih(t,r,s,a){const u=10+a,c=s.length;a>0&&(s[u-1][4]=r),a<c-10?(r[4]=s[u],xa(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function sh(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(y,r);const T=r[19];null!==T&&T.insertView(t),r[2]|=128}(u,a,y,c);const T=Hi(c,y),O=a[11],z=fn(O,y[7]);return null!==z&&function Kp(t,r,s,a,u,c){a[0]=u,a[6]=r,ql(t,a,s,1,u,c)}(u,y[6],O,a,z,T),r.attachToViewContainerRef(),xa(i_(y),c,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Jv(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=ec(this._lContainer,s);a&&(Ra(i_(this._lContainer),s),I(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=ec(this._lContainer,s);return a&&null!=Ra(i_(this._lContainer),s)?new Rp(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function Jv(t){return t[8]}function i_(t){return t[8]||(t[8]=[])}function eb(t,r){let s;const a=r[t.index];if(nn(a))s=a;else{let u;if(8&t.type)u=B(a);else{const c=r[11];u=c.createComment("");const y=It(t,r);Je(c,fn(c,y),u,function Qr(t,r){return Ir(t)?t.nextSibling(r):r.nextSibling}(c,y),!1)}r[t.index]=s=oc(a,r,u,t),jc(r,s)}return new Xv(s,t,r)}class s_{constructor(r){this.queryList=r,this.matches=null}clone(){return new s_(this.queryList)}setDirty(){this.queryList.setDirty()}}class o_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,u=[];for(let c=0;c<a;c++){const y=s.getByIndex(c);u.push(this.queries[y.indexInDeclarationView].clone())}return new o_(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==ub(r,s).matches&&this.queries[s].setDirty()}}class tb{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class a_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(r,u);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new a_(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class l_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new l_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const c=a[u];this.matchTNodeWithReadOption(r,s,BE(s,c)),this.matchTNodeWithReadOption(r,s,on(s,r,c,!1,!1))}else a===Pp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,on(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===xp||u===Mg||u===Pp&&4&s.type)this.addMatch(s.index,-2);else{const c=on(s,r,u,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function BE(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function jE(t,r,s,a){return-1===s?function UE(t,r){return 11&t.type?ef(t,r):4&t.type?Ag(t,r):null}(r,t):-2===s?function HE(t,r,s){return s===xp?ef(r,t):s===Pp?Ag(r,t):s===Mg?eb(r,t):void 0}(t,r,a):Yn(t,t[1],s,r)}function nb(t,r,s,a){const u=r[19].queries[a];if(null===u.matches){const c=t.data,y=s.matches,T=[];for(let O=0;O<y.length;O+=2){const z=y[O];T.push(z<0?null:jE(r,c[z],y[O+1],s.metadata.read))}u.matches=T}return u.matches}function u_(t,r,s,a){const u=t.queries.getByIndex(s),c=u.matches;if(null!==c){const y=nb(t,r,u,s);for(let T=0;T<c.length;T+=2){const O=c[T];if(O>0)a.push(y[T/2]);else{const z=c[T+1],X=r[-O];for(let _e=10;_e<X.length;_e++){const Le=X[_e];Le[17]===Le[3]&&u_(Le[1],Le,z,a)}if(null!==X[9]){const _e=X[9];for(let Le=0;Le<_e.length;Le++){const lt=_e[Le];u_(lt[1],lt,z,a)}}}}}return a}function rb(t){const r=Lt(),s=Rn(),a=st();Ct(a+1);const u=ub(s,a);if(t.dirty&&qn(r)===(2==(2&u.metadata.flags))){if(null===u.matches)t.reset([]);else{const c=u.crossesNgTemplate?u_(s,r,a,[]):nb(s,r,u,a);t.reset(c,rE),t.notifyOnChanges()}return!0}return!1}function ib(t,r,s){const a=Rn();a.firstCreatePass&&(lb(a,new tb(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),ab(a,Lt(),r)}function sb(t,r,s,a){const u=Rn();if(u.firstCreatePass){const c=bi();lb(u,new tb(r,s,a),c.index),function zE(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(u,t),2==(2&s)&&(u.staticContentQueries=!0)}ab(u,Lt(),s)}function ob(){return function $E(t,r){return t[19].queries[r].queryList}(Lt(),st())}function ab(t,r,s){const a=new Sg(4==(4&s));xf(t,r,a,a.destroy),null===r[19]&&(r[19]=new o_),r[19].queries.push(new s_(a))}function lb(t,r,s){null===t.queries&&(t.queries=new a_),t.queries.track(new l_(r,s))}function ub(t,r){return t.queries.getByIndex(r)}function Og(...t){}const Tb=new mi("Application Initializer");let m_=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Og,this.reject=Og,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const c=this.appInits[u]();if(Hd(c))s.push(c);else if(sg(c)){const y=new Promise((T,O)=>{c.subscribe({complete:T,error:O})});s.push(y)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(ln(Tb,8))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Sb=new mi("AppId",{providedIn:"root",factory:function Ab(){return`${g_()}${g_()}${g_()}`}});function g_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mb=new mi("Platform Initializer"),lw=new mi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xb=new mi("appBootstrapListener");let uw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const y_=new mi("LocaleId",{providedIn:"root",factory:()=>or(y_,an.Optional|an.SkipSelf)||function cw(){return"undefined"!=typeof $localize&&$localize.locale||bg}()}),dw=new mi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let fw=(()=>{class t{compileModuleSync(s){return new n_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),c=fl(gn(s).declarations).reduce((y,T)=>{const O=Ve(T);return O&&y.push(new t_(O)),y},[]);return new hw(a,c)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const mw=(()=>Promise.resolve(0))();function __(t){"undefined"==typeof Zone?mw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class su{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lu(!1),this.onMicrotaskEmpty=new Lu(!1),this.onStable=new Lu(!1),this.onError=new Lu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function gw(){let t=En.requestAnimationFrame,r=En.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function vw(t){const r=()=>{!function _w(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(En,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,b_(t),t.isCheckStableRunning=!0,v_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),b_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,c,y,T)=>{try{return Rb(t),s.invokeTask(u,c,y,T)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&r(),Ob(t)}},onInvoke:(s,a,u,c,y,T,O)=>{try{return Rb(t),s.invoke(u,c,y,T,O)}finally{t.shouldCoalesceRunChangeDetection&&r(),Ob(t)}},onHasTask:(s,a,u,c)=>{s.hasTask(u,c),a===u&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,b_(t),v_(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,u,c)=>(s.handleError(u,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!su.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(su.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,u){const c=this._inner,y=c.scheduleEventTask("NgZoneEvent: "+u,r,yw,Og,Og);try{return c.runTask(y,s,a)}finally{c.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const yw={};function v_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function b_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Rb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ob(t){t._nesting--,v_(t)}class bw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lu,this.onMicrotaskEmpty=new Lu,this.onStable=new Lu,this.onError=new Lu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,u){return r.apply(s,a)}}let kb=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{su.assertNotInAngularZone(),__(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())__(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return t.\u0275fac=function(s){return new(s||t)(ln(su))},t.\u0275prov=hn({token:t,factory:t.\u0275fac}),t})(),Ew=(()=>{class t{constructor(){this._applications=new Map,E_.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return E_.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class ww{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Dw(t){E_=t}let E_=new ww,qd=null;const Pb=new mi("AllowMultipleToken"),Nb=new mi("PlatformOnDestroy");class Tw{constructor(r,s){this.name=r,this.token=s}}function Fb(t,r,s=[]){const a=`Platform: ${r}`,u=new mi(a);return(c=[])=>{let y=w_();if(!y||y.injector.get(Pb,!1)){const T=[...s,...c,{provide:u,useValue:!0}];t?t(T):function Sw(t){if(qd&&!qd.get(Pb,!1))throw new Ke(400,"");qd=t;const r=t.get(Lb),s=t.get(Mb,null);s&&s.forEach(a=>a())}(function Mw(t=[],r){return Pl.create({name:r,providers:[{provide:Pd,useValue:"platform"},{provide:Nb,useValue:()=>qd=null},...t]})}(T,a))}return function Aw(t){const r=w_();if(!r)throw new Ke(401,"");return r}()}}function w_(){var t;return null!==(t=null==qd?void 0:qd.get(Lb))&&void 0!==t?t:null}let Lb=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const T=function xw(t,r){let s;return s="noop"===t?new bw:("zone.js"===t?void 0:t)||new su({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),O=[{provide:su,useValue:T}];return T.run(()=>{const z=Pl.create({providers:O,parent:this.injector,name:s.moduleType.name}),X=s.create(z),_e=X.injector.get(xl,null);if(!_e)throw new Ke(402,"");return T.runOutsideAngular(()=>{const Le=T.onError.subscribe({next:lt=>{_e.handleError(lt)}});X.onDestroy(()=>{C_(this._modules,X),Le.unsubscribe()})}),function Rw(t,r,s){try{const a=s();return Hd(a)?a.catch(u=>{throw r.runOutsideAngular(()=>t.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(_e,T,()=>{const Le=X.injector.get(m_);return Le.runInitializers(),Le.donePromise.then(()=>(function r0(t){vn(t,"Expected localeId to be defined"),"string"==typeof t&&(lv=t.toLowerCase().replace(/_/g,"-"))}(X.injector.get(y_,bg)||bg),this._moduleDoBootstrap(X),X))})})}bootstrapModule(s,a=[]){const u=Vb({},a);return function Cw(t,r,s){const a=new n_(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,u))}_moduleDoBootstrap(s){const a=s.injector.get(D_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Ke(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Nb,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(ln(Pl))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Vb(t,r){return Array.isArray(r)?r.reduce(Vb,t):Object.assign(Object.assign({},t),r)}let D_=(()=>{class t{constructor(s,a,u,c){this._zone=s,this._injector=a,this._exceptionHandler=u,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new oe.y(O=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{O.next(this._stable),O.complete()})}),T=new oe.y(O=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{su.assertNotInAngularZone(),__(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,O.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{su.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{O.next(!1)}))});return()=>{z.unsubscribe(),X.unsubscribe()}});this.isStable=(0,pe.T)(y,T.pipe((0,de.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Ke(405,"");let u;u=s instanceof Pv?s:this._injector.get(Ig).resolveComponentFactory(s),this.componentTypes.push(u.componentType);const c=function Iw(t){return t.isBoundToModule}(u)?void 0:this._injector.get(tf),T=u.create(Pl.NULL,[],a||u.selector,c),O=T.location.nativeElement,z=T.injector.get(kb,null),X=z&&T.injector.get(Ew);return z&&X&&X.registerApplication(O,z),T.onDestroy(()=>{this.detachView(T.hostView),C_(this.components,T),X&&X.unregisterApplication(O)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ke(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;C_(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(xb,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(ln(su),ln(Pl),ln(xl),ln(m_))},t.\u0275prov=hn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function C_(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let Ub=!0,jb=!1;function kw(){return jb=!0,Ub}function Pw(){if(jb)throw new Error("Cannot enable prod mode after platform setup.");Ub=!1}let Nw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fw,t})();function Fw(t){return function Lw(t,r,s){if(Cr(t)&&!s){const a=Xn(t.index,r);return new Rp(a,a)}return 47&t.type?new Rp(r[16],r):null}(bi(),Lt(),16==(16&t))}class Gb{constructor(){}supports(r){return Ud(r)}create(r){return new $w(r)}}const Hw=(t,r)=>r;class $w{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Hw}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,u=0,c=null;for(;s||a;){const y=!a||s&&s.currentIndex<Kb(a,u,c)?s:a,T=Kb(y,u,c),O=y.currentIndex;if(y===a)u--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)u++;else{c||(c=[]);const z=T-u,X=O-u;if(z!=X){for(let Le=0;Le<z;Le++){const lt=Le<c.length?c[Le]:c[Le]=0,Rt=lt+Le;X<=Rt&&Rt<z&&(c[Le]=lt+1)}c[y.previousIndex]=X-z}}T!==O&&r(y,T,O)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ud(r))throw new Ke(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,c,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)c=r[T],y=this._trackByFn(T,c),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,c,y,T)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,y,T),a=!0),s=s._next}else u=0,function Vm(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Iu()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,T=>{y=this._trackByFn(u,T),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,T,y,u)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,y,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,u){let c;return null===r?c=this._itTail:(c=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,c,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,c,u)):r=this._addAfter(new zw(s,a),c,u),r}_verifyReinsertion(r,s,a,u){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?r=this._reinsertAfter(c,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,c=r._nextRemoved;return null===u?this._removalsHead=c:u._nextRemoved=c,null===c?this._removalsTail=u:c._prevRemoved=u,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const u=null===s?this._itHead:s._next;return r._next=u,r._prev=s,null===u?this._itTail=r:u._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Wb),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class zw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Wb{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Gw,this.map.set(s,a)),a.add(r)}get(r,s){const u=this.map.get(r);return u?u.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kb(t,r,s){const a=t.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+r+u}class qb{constructor(){}supports(r){return r instanceof Map||sp(r)}create(){return new Ww}}class Ww{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||sp(r)))throw new Ke(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,s);const c=u._prev,y=u._next;return c&&(c._next=y),y&&(y._prev=c),u._next=null,u._prev=null,u}const a=new Kw(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Kw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zb(){return new M_([new Gb])}let M_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Zb()),deps:[[t,new Ls,new Pi]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Ke(901,"")}}return t.\u0275prov=hn({token:t,providedIn:"root",factory:Zb}),t})();function Yb(){return new x_([new qb])}let x_=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Yb()),deps:[[t,new Ls,new Pi]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new Ke(901,"")}}return t.\u0275prov=hn({token:t,providedIn:"root",factory:Yb}),t})();const Yw=Fb(null,"core",[]);let Qw=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(ln(D_))},t.\u0275mod=$e({type:t}),t.\u0275inj=kn({}),t})()},3075:(Yt,ze,k)=>{k.d(ze,{F:()=>Dr,Fj:()=>Ge,JJ:()=>an,JL:()=>Wn,JU:()=>ae,NI:()=>Un,UX:()=>qn,_Y:()=>tr,a5:()=>gr,cw:()=>Si,kI:()=>Ye,oH:()=>Ds,sg:()=>ms,u:()=>xs,u5:()=>Xn});var h=k(5e3),v=k(9808),oe=k(8996),pe=k(4128),de=k(4004);let Ae=(()=>{class j{constructor(x,re){this._renderer=x,this._elementRef=re,this.onChange=Dt=>{},this.onTouched=()=>{}}setProperty(x,re){this._renderer.setProperty(this._elementRef.nativeElement,x,re)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return j.\u0275fac=function(x){return new(x||j)(h.Y36(h.Qsj),h.Y36(h.SBq))},j.\u0275dir=h.lG2({type:j}),j})(),Re=(()=>{class j extends Ae{}return j.\u0275fac=function(){let F;return function(re){return(F||(F=h.n5z(j)))(re||j)}}(),j.\u0275dir=h.lG2({type:j,features:[h.qOj]}),j})();const ae=new h.OlP("NgValueAccessor"),he={provide:ae,useExisting:(0,h.Gpc)(()=>Ge),multi:!0},ot=new h.OlP("CompositionEventMode");let Ge=(()=>{class j extends Ae{constructor(x,re,Dt){super(x,re),this._compositionMode=Dt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function De(){const j=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(j.toLowerCase())}())}writeValue(x){this.setProperty("value",null==x?"":x)}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return j.\u0275fac=function(x){return new(x||j)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ot,8))},j.\u0275dir=h.lG2({type:j,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,re){1&x&&h.NdJ("input",function(yn){return re._handleInput(yn.target.value)})("blur",function(){return re.onTouched()})("compositionstart",function(){return re._compositionStart()})("compositionend",function(yn){return re._compositionEnd(yn.target.value)})},features:[h._Bn([he]),h.qOj]}),j})();function Ke(j){return null==j||0===j.length}function dt(j){return null!=j&&"number"==typeof j.length}const Ue=new h.OlP("NgValidators"),Xe=new h.OlP("NgAsyncValidators"),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ye{static min(F){return function je(j){return F=>{if(Ke(F.value)||Ke(j))return null;const x=parseFloat(F.value);return!isNaN(x)&&x<j?{min:{min:j,actual:F.value}}:null}}(F)}static max(F){return function be(j){return F=>{if(Ke(F.value)||Ke(j))return null;const x=parseFloat(F.value);return!isNaN(x)&&x>j?{max:{max:j,actual:F.value}}:null}}(F)}static required(F){return function qe(j){return Ke(j.value)?{required:!0}:null}(F)}static requiredTrue(F){return function kt(j){return!0===j.value?null:{required:!0}}(F)}static email(F){return function Fe(j){return Ke(j.value)||St.test(j.value)?null:{email:!0}}(F)}static minLength(F){return function jt(j){return F=>Ke(F.value)||!dt(F.value)?null:F.value.length<j?{minlength:{requiredLength:j,actualLength:F.value.length}}:null}(F)}static maxLength(F){return function Bt(j){return F=>dt(F.value)&&F.value.length>j?{maxlength:{requiredLength:j,actualLength:F.value.length}}:null}(F)}static pattern(F){return function et(j){if(!j)return nt;let F,x;return"string"==typeof j?(x="","^"!==j.charAt(0)&&(x+="^"),x+=j,"$"!==j.charAt(j.length-1)&&(x+="$"),F=new RegExp(x)):(x=j.toString(),F=j),re=>{if(Ke(re.value))return null;const Dt=re.value;return F.test(Dt)?null:{pattern:{requiredPattern:x,actualValue:Dt}}}}(F)}static nullValidator(F){return null}static compose(F){return vn(F)}static composeAsync(F){return mn(F)}}function nt(j){return null}function ut(j){return null!=j}function gt(j){const F=(0,h.QGY)(j)?(0,oe.D)(j):j;return(0,h.CqO)(F),F}function We(j){let F={};return j.forEach(x=>{F=null!=x?Object.assign(Object.assign({},F),x):F}),0===Object.keys(F).length?null:F}function Pt(j,F){return F.map(x=>x(j))}function dn(j){return j.map(F=>function Kt(j){return!j.validate}(F)?F:x=>F.validate(x))}function vn(j){if(!j)return null;const F=j.filter(ut);return 0==F.length?null:function(x){return We(Pt(x,F))}}function Tt(j){return null!=j?vn(dn(j)):null}function mn(j){if(!j)return null;const F=j.filter(ut);return 0==F.length?null:function(x){const re=Pt(x,F).map(gt);return(0,pe.D)(re).pipe((0,de.U)(We))}}function An(j){return null!=j?mn(dn(j)):null}function sn(j,F){return null===j?[F]:Array.isArray(j)?[...j,F]:[j,F]}function hn(j){return j._rawValidators}function Mn(j){return j._rawAsyncValidators}function kn(j){return j?Array.isArray(j)?j:[j]:[]}function Dn(j,F){return Array.isArray(j)?j.includes(F):j===F}function Kn(j,F){const x=kn(F);return kn(j).forEach(Dt=>{Dn(x,Dt)||x.push(Dt)}),x}function ur(j,F){return kn(F).filter(x=>!Dn(j,x))}class lr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=Tt(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,x){return!!this.control&&this.control.hasError(F,x)}getError(F,x){return this.control?this.control.getError(F,x):null}}class gr extends lr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sn extends lr{get formDirective(){return null}get path(){return null}}class rr{constructor(F){this._cd=F}is(F){var x,re,Dt;return"submitted"===F?!!(null===(x=this._cd)||void 0===x?void 0:x.submitted):!!(null===(Dt=null===(re=this._cd)||void 0===re?void 0:re.control)||void 0===Dt?void 0:Dt[F])}}let an=(()=>{class j extends rr{constructor(x){super(x)}}return j.\u0275fac=function(x){return new(x||j)(h.Y36(gr,2))},j.\u0275dir=h.lG2({type:j,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,re){2&x&&h.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))},features:[h.qOj]}),j})(),Wn=(()=>{class j extends rr{constructor(x){super(x)}}return j.\u0275fac=function(x){return new(x||j)(h.Y36(Sn,10))},j.\u0275dir=h.lG2({type:j,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,re){2&x&&h.ekj("ng-untouched",re.is("untouched"))("ng-touched",re.is("touched"))("ng-pristine",re.is("pristine"))("ng-dirty",re.is("dirty"))("ng-valid",re.is("valid"))("ng-invalid",re.is("invalid"))("ng-pending",re.is("pending"))("ng-submitted",re.is("submitted"))},features:[h.qOj]}),j})();function pn(j,F){H(j,F),F.valueAccessor.writeValue(j.value),function Ce(j,F){F.valueAccessor.registerOnChange(x=>{j._pendingValue=x,j._pendingChange=!0,j._pendingDirty=!0,"change"===j.updateOn&&At(j,F)})}(j,F),function we(j,F){const x=(re,Dt)=>{F.valueAccessor.writeValue(re),Dt&&F.viewToModelUpdate(re)};j.registerOnChange(x),F._registerOnDestroy(()=>{j._unregisterOnChange(x)})}(j,F),function Qe(j,F){F.valueAccessor.registerOnTouched(()=>{j._pendingTouched=!0,"blur"===j.updateOn&&j._pendingChange&&At(j,F),"submit"!==j.updateOn&&j.markAsTouched()})}(j,F),function ee(j,F){if(F.valueAccessor.setDisabledState){const x=re=>{F.valueAccessor.setDisabledState(re)};j.registerOnDisabledChange(x),F._registerOnDestroy(()=>{j._unregisterOnDisabledChange(x)})}}(j,F)}function Lr(j,F,x=!0){const re=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(re),F.valueAccessor.registerOnTouched(re)),q(j,F),j&&(F._invokeOnDestroyCallbacks(),j._registerOnCollectionChange(()=>{}))}function ct(j,F){j.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(F)})}function H(j,F){const x=hn(j);null!==F.validator?j.setValidators(sn(x,F.validator)):"function"==typeof x&&j.setValidators([x]);const re=Mn(j);null!==F.asyncValidator?j.setAsyncValidators(sn(re,F.asyncValidator)):"function"==typeof re&&j.setAsyncValidators([re]);const Dt=()=>j.updateValueAndValidity();ct(F._rawValidators,Dt),ct(F._rawAsyncValidators,Dt)}function q(j,F){let x=!1;if(null!==j){if(null!==F.validator){const Dt=hn(j);if(Array.isArray(Dt)&&Dt.length>0){const yn=Dt.filter(ri=>ri!==F.validator);yn.length!==Dt.length&&(x=!0,j.setValidators(yn))}}if(null!==F.asyncValidator){const Dt=Mn(j);if(Array.isArray(Dt)&&Dt.length>0){const yn=Dt.filter(ri=>ri!==F.asyncValidator);yn.length!==Dt.length&&(x=!0,j.setAsyncValidators(yn))}}}const re=()=>{};return ct(F._rawValidators,re),ct(F._rawAsyncValidators,re),x}function At(j,F){j._pendingDirty&&j.markAsDirty(),j.setValue(j._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(j._pendingValue),j._pendingChange=!1}function me(j,F){H(j,F)}function ye(j,F){if(!j.hasOwnProperty("model"))return!1;const x=j.model;return!!x.isFirstChange()||!Object.is(F,x.currentValue)}function Ve(j,F){j._syncPendingControls(),F.forEach(x=>{const re=x.control;"submit"===re.updateOn&&re._pendingChange&&(x.viewToModelUpdate(re._pendingValue),re._pendingChange=!1)})}function bt(j,F){if(!F)return null;let x,re,Dt;return Array.isArray(F),F.forEach(yn=>{yn.constructor===Ge?x=yn:function ge(j){return Object.getPrototypeOf(j.constructor)===Re}(yn)?re=yn:Dt=yn}),Dt||re||x||null}function Wt(j,F){const x=j.indexOf(F);x>-1&&j.splice(x,1)}const $r="VALID",xi="INVALID",Mr="PENDING",yi="DISABLED";function Li(j){return(vr(j)?j.validators:j)||null}function wr(j){return Array.isArray(j)?Tt(j):j||null}function en(j,F){return(vr(F)?F.asyncValidators:j)||null}function Ln(j){return Array.isArray(j)?An(j):j||null}function vr(j){return null!=j&&!Array.isArray(j)&&"object"==typeof j}const Ci=j=>j instanceof Un,di=j=>j instanceof Si;function hr(j){return Ci(j)?j.value:j.getRawValue()}function xr(j,F){const x=di(j),re=j.controls;if(!(x?Object.keys(re):re).length)throw new h.vHH(1e3,"");if(!re[F])throw new h.vHH(1001,"")}function br(j,F){di(j),j._forEachChild((re,Dt)=>{if(void 0===F[Dt])throw new h.vHH(1002,"")})}class Ti{constructor(F,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=x,this._composedValidatorFn=wr(this._rawValidators),this._composedAsyncValidatorFn=Ln(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===$r}get invalid(){return this.status===xi}get pending(){return this.status==Mr}get disabled(){return this.status===yi}get enabled(){return this.status!==yi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=wr(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=Ln(F)}addValidators(F){this.setValidators(Kn(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(Kn(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(ur(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(ur(F,this._rawAsyncValidators))}hasValidator(F){return Dn(this._rawValidators,F)}hasAsyncValidator(F){return Dn(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=Mr,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const x=this._parentMarkedDirty(F.onlySelf);this.status=yi,this.errors=null,this._forEachChild(re=>{re.disable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:x})),this._onDisabledChange.forEach(re=>re(!0))}enable(F={}){const x=this._parentMarkedDirty(F.onlySelf);this.status=$r,this._forEachChild(re=>{re.enable(Object.assign(Object.assign({},F),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},F),{skipPristineCheck:x})),this._onDisabledChange.forEach(re=>re(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$r||this.status===Mr)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yi:$r}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=Mr,this._hasOwnPendingAsyncValidator=!0;const x=gt(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(re=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(re,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,x={}){this.errors=F,this._updateControlsErrors(!1!==x.emitEvent)}get(F){return function Vr(j,F,x){if(null==F||(Array.isArray(F)||(F=F.split(x)),Array.isArray(F)&&0===F.length))return null;let re=j;return F.forEach(Dt=>{re=di(re)?re.controls.hasOwnProperty(Dt)?re.controls[Dt]:null:(j=>j instanceof _i)(re)&&re.at(Dt)||null}),re}(this,F,".")}getError(F,x){const re=x?this.get(x):this;return re&&re.errors?re.errors[F]:null}hasError(F,x){return!!this.getError(F,x)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?yi:this.errors?xi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mr)?Mr:this._anyControlsHaveStatus(xi)?xi:$r}_anyControlsHaveStatus(F){return this._anyControls(x=>x.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_isBoxedValue(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){vr(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Un extends Ti{constructor(F=null,x,re){super(Li(x),en(re,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vr(x)&&x.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(F)?F.value:F)}setValue(F,x={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(re=>re(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(F,x={}){this.setValue(F,x)}reset(F=this.defaultValue,x={}){this._applyFormState(F),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){Wt(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){Wt(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){this._isBoxedValue(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}}class Si extends Ti{constructor(F,x,re){super(Li(x),en(re,x)),this.controls=F,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,x){return this.controls[F]?this.controls[F]:(this.controls[F]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(F,x,re={}){this.registerControl(F,x),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}removeControl(F,x={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(F,x,re={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],x&&this.registerControl(F,x),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,x={}){br(this,F),Object.keys(F).forEach(re=>{xr(this,re),this.controls[re].setValue(F[re],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(F,x={}){null!=F&&(Object.keys(F).forEach(re=>{this.controls[re]&&this.controls[re].patchValue(F[re],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(F={},x={}){this._forEachChild((re,Dt)=>{re.reset(F[Dt],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(F,x,re)=>(F[re]=hr(x),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(x,re)=>!!re._syncPendingControls()||x);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){Object.keys(this.controls).forEach(x=>{const re=this.controls[x];re&&F(re,x)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const x of Object.keys(this.controls)){const re=this.controls[x];if(this.contains(x)&&F(re))return!0}return!1}_reduceValue(){return this._reduceChildren({},(F,x,re)=>((x.enabled||this.disabled)&&(F[re]=x.value),F))}_reduceChildren(F,x){let re=F;return this._forEachChild((Dt,yn)=>{re=x(re,Dt,yn)}),re}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class _i extends Ti{constructor(F,x,re){super(Li(x),en(re,x)),this.controls=F,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[F]}push(F,x={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(F,x,re={}){this.controls.splice(F,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:re.emitEvent})}removeAt(F,x={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(F,x,re={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),x&&(this.controls.splice(F,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:re.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,x={}){br(this,F),F.forEach((re,Dt)=>{xr(this,Dt),this.at(Dt).setValue(re,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(F,x={}){null!=F&&(F.forEach((re,Dt)=>{this.at(Dt)&&this.at(Dt).patchValue(re,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(F=[],x={}){this._forEachChild((re,Dt)=>{re.reset(F[Dt],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(F=>hr(F))}clear(F={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_syncPendingControls(){let F=this.controls.reduce((x,re)=>!!re._syncPendingControls()||x,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_forEachChild(F){this.controls.forEach((x,re)=>{F(x,re)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(x=>x.enabled&&F(x))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}}const ss={provide:Sn,useExisting:(0,h.Gpc)(()=>Dr)},hi=(()=>Promise.resolve(null))();let Dr=(()=>{class j extends Sn{constructor(x,re){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Si({},Tt(x),An(re))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(x){hi.then(()=>{const re=this._findContainer(x.path);x.control=re.registerControl(x.name,x.control),pn(x.control,x),x.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(x)})}getControl(x){return this.form.get(x.path)}removeControl(x){hi.then(()=>{const re=this._findContainer(x.path);re&&re.removeControl(x.name),this._directives.delete(x)})}addFormGroup(x){hi.then(()=>{const re=this._findContainer(x.path),Dt=new Si({});me(Dt,x),re.registerControl(x.name,Dt),Dt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(x){hi.then(()=>{const re=this._findContainer(x.path);re&&re.removeControl(x.name)})}getFormGroup(x){return this.form.get(x.path)}updateModel(x,re){hi.then(()=>{this.form.get(x.path).setValue(re)})}setValue(x){this.control.setValue(x)}onSubmit(x){return this.submitted=!0,Ve(this.form,this._directives),this.ngSubmit.emit(x),!1}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(x){return x.pop(),x.length?this.form.get(x):this.form}}return j.\u0275fac=function(x){return new(x||j)(h.Y36(Ue,10),h.Y36(Xe,10))},j.\u0275dir=h.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(x,re){1&x&&h.NdJ("submit",function(yn){return re.onSubmit(yn)})("reset",function(){return re.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ss]),h.qOj]}),j})(),tr=(()=>{class j{}return j.\u0275fac=function(x){return new(x||j)},j.\u0275dir=h.lG2({type:j,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),j})(),Ri=(()=>{class j{}return j.\u0275fac=function(x){return new(x||j)},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({}),j})();const Eo=new h.OlP("NgModelWithFormControlWarning"),As={provide:gr,useExisting:(0,h.Gpc)(()=>Ds)};let Ds=(()=>{class j extends gr{constructor(x,re,Dt,yn){super(),this._ngModelWarningConfig=yn,this.update=new h.vpe,this._ngModelWarningSent=!1,this._setValidators(x),this._setAsyncValidators(re),this.valueAccessor=bt(0,Dt)}set isDisabled(x){}ngOnChanges(x){if(this._isControlChanged(x)){const re=x.form.previousValue;re&&Lr(re,this,!1),pn(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ye(x,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Lr(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_isControlChanged(x){return x.hasOwnProperty("form")}}return j._ngModelWarningSentOnce=!1,j.\u0275fac=function(x){return new(x||j)(h.Y36(Ue,10),h.Y36(Xe,10),h.Y36(ae,10),h.Y36(Eo,8))},j.\u0275dir=h.lG2({type:j,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h._Bn([As]),h.qOj,h.TTD]}),j})();const ma={provide:Sn,useExisting:(0,h.Gpc)(()=>ms)};let ms=(()=>{class j extends Sn{constructor(x,re){super(),this.validators=x,this.asyncValidators=re,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(x),this._setAsyncValidators(re)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(q(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const re=this.form.get(x.path);return pn(re,x),re.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),re}getControl(x){return this.form.get(x.path)}removeControl(x){Lr(x.control||null,x,!1),Wt(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,re){this.form.get(x.path).setValue(re)}onSubmit(x){return this.submitted=!0,Ve(this.form,this.directives),this.ngSubmit.emit(x),!1}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const re=x.control,Dt=this.form.get(x.path);re!==Dt&&(Lr(re||null,x),Ci(Dt)&&(pn(Dt,x),x.control=Dt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const re=this.form.get(x.path);me(re,x),re.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const re=this.form.get(x.path);re&&function Se(j,F){return q(j,F)}(re,x)&&re.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){H(this.form,this),this._oldForm&&q(this._oldForm,this)}_checkFormPresent(){}}return j.\u0275fac=function(x){return new(x||j)(h.Y36(Ue,10),h.Y36(Xe,10))},j.\u0275dir=h.lG2({type:j,selectors:[["","formGroup",""]],hostBindings:function(x,re){1&x&&h.NdJ("submit",function(yn){return re.onSubmit(yn)})("reset",function(){return re.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ma]),h.qOj,h.TTD]}),j})();const Is={provide:gr,useExisting:(0,h.Gpc)(()=>xs)};let xs=(()=>{class j extends gr{constructor(x,re,Dt,yn,ri){super(),this._ngModelWarningConfig=ri,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(re),this._setAsyncValidators(Dt),this.valueAccessor=bt(0,yn)}set isDisabled(x){}ngOnChanges(x){this._added||this._setUpControl(),ye(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return function Pr(j,F){return[...F.path,j]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return j._ngModelWarningSentOnce=!1,j.\u0275fac=function(x){return new(x||j)(h.Y36(Sn,13),h.Y36(Ue,10),h.Y36(Xe,10),h.Y36(ae,10),h.Y36(Eo,8))},j.\u0275dir=h.lG2({type:j,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Is]),h.qOj,h.TTD]}),j})(),ir=(()=>{class j{}return j.\u0275fac=function(x){return new(x||j)},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({imports:[[Ri]]}),j})(),Xn=(()=>{class j{}return j.\u0275fac=function(x){return new(x||j)},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({imports:[ir]}),j})(),qn=(()=>{class j{static withConfig(x){return{ngModule:j,providers:[{provide:Eo,useValue:x.warnOnNgModelWithFormControl}]}}}return j.\u0275fac=function(x){return new(x||j)},j.\u0275mod=h.oAB({type:j}),j.\u0275inj=h.cJS({imports:[ir]}),j})()},7423:(Yt,ze,k)=>{k.d(ze,{lW:()=>he,ot:()=>ot});var h=k(5e3),v=k(508),oe=k(6360),pe=k(8255);const de=["mat-button",""],Ae=["*"],Te=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],se=(0,v.pj)((0,v.Id)((0,v.Kr)(class{constructor(Ge){this._elementRef=Ge}})));let he=(()=>{class Ge extends se{constructor(dt,Ue,Xe){super(dt),this._focusMonitor=Ue,this._animationMode=Xe,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const St of Te)this._hasHostAttributes(St)&&this._getHostElement().classList.add(St);dt.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(dt,Ue){dt?this._focusMonitor.focusVia(this._getHostElement(),dt,Ue):this._getHostElement().focus(Ue)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...dt){return dt.some(Ue=>this._getHostElement().hasAttribute(Ue))}}return Ge.\u0275fac=function(dt){return new(dt||Ge)(h.Y36(h.SBq),h.Y36(pe.tE),h.Y36(oe.Qb,8))},Ge.\u0275cmp=h.Xpm({type:Ge,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(dt,Ue){if(1&dt&&h.Gf(v.wG,5),2&dt){let Xe;h.iGM(Xe=h.CRH())&&(Ue.ripple=Xe.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(dt,Ue){2&dt&&(h.uIk("disabled",Ue.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===Ue._animationMode)("mat-button-disabled",Ue.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:de,ngContentSelectors:Ae,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(dt,Ue){1&dt&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&dt&&(h.xp6(2),h.ekj("mat-button-ripple-round",Ue.isRoundButton||Ue.isIconButton),h.Q6J("matRippleDisabled",Ue._isRippleDisabled())("matRippleCentered",Ue.isIconButton)("matRippleTrigger",Ue._getHostElement()))},directives:[v.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),Ge})(),ot=(()=>{class Ge{}return Ge.\u0275fac=function(dt){return new(dt||Ge)},Ge.\u0275mod=h.oAB({type:Ge}),Ge.\u0275inj=h.cJS({imports:[[v.si,v.BQ],v.BQ]}),Ge})()},508:(Yt,ze,k)=>{k.d(ze,{rD:()=>Mn,BQ:()=>je,X2:()=>kn,uc:()=>ur,nP:()=>yr,us:()=>Ot,wG:()=>kr,si:()=>zr,pj:()=>jt,Kr:()=>Bt,Id:()=>Fe,FD:()=>nt,E0:()=>Dn});var h=k(5e3),v=k(226),pe=k(9808),de=k(925),Ae=k(8255),Re=k(3191),ae=k(7579),Te=k(8675),se=k(6360);const Ye=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function St(){return!0}});let je=(()=>{class ct{constructor(H,q,Ce){this._sanityChecks=q,this._document=Ce,this._hasDoneGlobalChecks=!1,H._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(H){return!(0,de.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[H])}}return ct.\u0275fac=function(H){return new(H||ct)(h.LFG(Ae.qm),h.LFG(Ye,8),h.LFG(pe.K0))},ct.\u0275mod=h.oAB({type:ct}),ct.\u0275inj=h.cJS({imports:[[v.vT],v.vT]}),ct})();function Fe(ct){return class extends ct{constructor(...ee){super(...ee),this._disabled=!1}get disabled(){return this._disabled}set disabled(ee){this._disabled=(0,Re.Ig)(ee)}}}function jt(ct,ee){return class extends ct{constructor(...H){super(...H),this.defaultColor=ee,this.color=ee}get color(){return this._color}set color(H){const q=H||this.defaultColor;q!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),q&&this._elementRef.nativeElement.classList.add(`mat-${q}`),this._color=q)}}}function Bt(ct){return class extends ct{constructor(...ee){super(...ee),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(ee){this._disableRipple=(0,Re.Ig)(ee)}}}function nt(ct){return class extends ct{constructor(...ee){super(...ee),this.stateChanges=new ae.x,this.errorState=!1}updateErrorState(){const ee=this.errorState,Qe=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Qe!==ee&&(this.errorState=Qe,this.stateChanges.next())}}}let Mn=(()=>{class ct{isErrorState(H,q){return!!(H&&H.invalid&&(H.touched||q&&q.submitted))}}return ct.\u0275fac=function(H){return new(H||ct)},ct.\u0275prov=h.Yz7({token:ct,factory:ct.\u0275fac,providedIn:"root"}),ct})(),kn=(()=>{class ct{}return ct.\u0275fac=function(H){return new(H||ct)},ct.\u0275dir=h.lG2({type:ct,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),ct})();function Dn(ct,ee,H="mat"){ct.changes.pipe((0,Te.O)(ct)).subscribe(({length:q})=>{Kn(ee,`${H}-2-line`,!1),Kn(ee,`${H}-3-line`,!1),Kn(ee,`${H}-multi-line`,!1),2===q||3===q?Kn(ee,`${H}-${q}-line`,!0):q>3&&Kn(ee,`${H}-multi-line`,!0)})}function Kn(ct,ee,H){ct.nativeElement.classList.toggle(ee,H)}let ur=(()=>{class ct{}return ct.\u0275fac=function(H){return new(H||ct)},ct.\u0275mod=h.oAB({type:ct}),ct.\u0275inj=h.cJS({imports:[[je],je]}),ct})();class lr{constructor(ee,H,q){this._renderer=ee,this.element=H,this.config=q,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const gr={enterDuration:225,exitDuration:150},rr=(0,de.i$)({passive:!0}),cr=["mousedown","touchstart"],ti=["mouseup","mouseleave","touchend","touchcancel"];class an{constructor(ee,H,q,Ce){this._target=ee,this._ngZone=H,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Ce.isBrowser&&(this._containerElement=(0,Re.fI)(q))}fadeInRipple(ee,H,q={}){const Ce=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Qe=Object.assign(Object.assign({},gr),q.animation);q.centered&&(ee=Ce.left+Ce.width/2,H=Ce.top+Ce.height/2);const At=q.radius||function Qn(ct,ee,H){const q=Math.max(Math.abs(ct-H.left),Math.abs(ct-H.right)),Ce=Math.max(Math.abs(ee-H.top),Math.abs(ee-H.bottom));return Math.sqrt(q*q+Ce*Ce)}(ee,H,Ce),we=ee-Ce.left,me=H-Ce.top,Se=Qe.enterDuration,Ze=document.createElement("div");Ze.classList.add("mat-ripple-element"),Ze.style.left=we-At+"px",Ze.style.top=me-At+"px",Ze.style.height=2*At+"px",Ze.style.width=2*At+"px",null!=q.color&&(Ze.style.backgroundColor=q.color),Ze.style.transitionDuration=`${Se}ms`,this._containerElement.appendChild(Ze),function Wn(ct){window.getComputedStyle(ct).getPropertyValue("opacity")}(Ze),Ze.style.transform="scale(1)";const $e=new lr(this,Ze,q);return $e.state=0,this._activeRipples.add($e),q.persistent||(this._mostRecentTransientRipple=$e),this._runTimeoutOutsideZone(()=>{const Gt=$e===this._mostRecentTransientRipple;$e.state=1,!q.persistent&&(!Gt||!this._isPointerDown)&&$e.fadeOut()},Se),$e}fadeOutRipple(ee){const H=this._activeRipples.delete(ee);if(ee===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!H)return;const q=ee.element,Ce=Object.assign(Object.assign({},gr),ee.config.animation);q.style.transitionDuration=`${Ce.exitDuration}ms`,q.style.opacity="0",ee.state=2,this._runTimeoutOutsideZone(()=>{ee.state=3,q.remove()},Ce.exitDuration)}fadeOutAll(){this._activeRipples.forEach(ee=>ee.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(ee=>{ee.config.persistent||ee.fadeOut()})}setupTriggerEvents(ee){const H=(0,Re.fI)(ee);!H||H===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=H,this._registerEvents(cr))}handleEvent(ee){"mousedown"===ee.type?this._onMousedown(ee):"touchstart"===ee.type?this._onTouchStart(ee):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ti),this._pointerUpEventsRegistered=!0)}_onMousedown(ee){const H=(0,Ae.X6)(ee),q=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!H&&!q&&(this._isPointerDown=!0,this.fadeInRipple(ee.clientX,ee.clientY,this._target.rippleConfig))}_onTouchStart(ee){if(!this._target.rippleDisabled&&!(0,Ae.yG)(ee)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const H=ee.changedTouches;for(let q=0;q<H.length;q++)this.fadeInRipple(H[q].clientX,H[q].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(ee=>{!ee.config.persistent&&(1===ee.state||ee.config.terminateOnPointerUp&&0===ee.state)&&ee.fadeOut()}))}_runTimeoutOutsideZone(ee,H=0){this._ngZone.runOutsideAngular(()=>setTimeout(ee,H))}_registerEvents(ee){this._ngZone.runOutsideAngular(()=>{ee.forEach(H=>{this._triggerElement.addEventListener(H,this,rr)})})}_removeTriggerEvents(){this._triggerElement&&(cr.forEach(ee=>{this._triggerElement.removeEventListener(ee,this,rr)}),this._pointerUpEventsRegistered&&ti.forEach(ee=>{this._triggerElement.removeEventListener(ee,this,rr)}))}}const Zn=new h.OlP("mat-ripple-global-options");let kr=(()=>{class ct{constructor(H,q,Ce,Qe,At){this._elementRef=H,this._animationMode=At,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Qe||{},this._rippleRenderer=new an(this,q,H,Ce)}get disabled(){return this._disabled}set disabled(H){H&&this.fadeOutAllNonPersistent(),this._disabled=H,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(H){this._trigger=H,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(H,q=0,Ce){return"number"==typeof H?this._rippleRenderer.fadeInRipple(H,q,Object.assign(Object.assign({},this.rippleConfig),Ce)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),H))}}return ct.\u0275fac=function(H){return new(H||ct)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(de.t4),h.Y36(Zn,8),h.Y36(se.Qb,8))},ct.\u0275dir=h.lG2({type:ct,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(H,q){2&H&&h.ekj("mat-ripple-unbounded",q.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),ct})(),zr=(()=>{class ct{}return ct.\u0275fac=function(H){return new(H||ct)},ct.\u0275mod=h.oAB({type:ct}),ct.\u0275inj=h.cJS({imports:[[je],je]}),ct})(),yr=(()=>{class ct{constructor(H){this._animationMode=H,this.state="unchecked",this.disabled=!1}}return ct.\u0275fac=function(H){return new(H||ct)(h.Y36(se.Qb,8))},ct.\u0275cmp=h.Xpm({type:ct,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(H,q){2&H&&h.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===q.state)("mat-pseudo-checkbox-checked","checked"===q.state)("mat-pseudo-checkbox-disabled",q.disabled)("_mat-animation-noopable","NoopAnimations"===q._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(H,q){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),ct})(),Ot=(()=>{class ct{}return ct.\u0275fac=function(H){return new(H||ct)},ct.\u0275mod=h.oAB({type:ct}),ct.\u0275inj=h.cJS({imports:[[je]]}),ct})()},6360:(Yt,ze,k)=>{k.d(ze,{Qb:()=>Vo,PW:()=>lo});var h=k(5e3),v=k(2313),oe=k(1777);const pe=!1;function Ae(W){return new h.vHH(3e3,pe)}function Mn(){return"undefined"!=typeof window&&void 0!==window.document}function kn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Dn(W){switch(W.length){case 0:return new oe.ZN;case 1:return W[0];default:return new oe.ZE(W)}}function Kn(W,g,w,N,Z={},ce={}){const Me=[],Oe=[];let st=-1,Ct=null;if(N.forEach(cn=>{const Cn=cn.offset,Hn=Cn==st,Jn=Hn&&Ct||{};Object.keys(cn).forEach(Vn=>{let er=Vn,Wr=cn[Vn];if("offset"!==Vn)switch(er=g.normalizePropertyName(er,Me),Wr){case oe.k1:Wr=Z[Vn];break;case oe.l3:Wr=ce[Vn];break;default:Wr=g.normalizeStyleValue(Vn,er,Wr,Me)}Jn[er]=Wr}),Hn||Oe.push(Jn),Ct=Jn,st=Cn}),Me.length)throw function ut(W){return new h.vHH(3502,pe)}();return Oe}function ur(W,g,w,N){switch(g){case"start":W.onStart(()=>N(w&&lr(w,"start",W)));break;case"done":W.onDone(()=>N(w&&lr(w,"done",W)));break;case"destroy":W.onDestroy(()=>N(w&&lr(w,"destroy",W)))}}function lr(W,g,w){const N=w.totalTime,ce=gr(W.element,W.triggerName,W.fromState,W.toState,g||W.phaseName,null==N?W.totalTime:N,!!w.disabled),Me=W._data;return null!=Me&&(ce._data=Me),ce}function gr(W,g,w,N,Z="",ce=0,Me){return{element:W,triggerName:g,fromState:w,toState:N,phaseName:Z,totalTime:ce,disabled:!!Me}}function Sn(W,g,w){let N;return W instanceof Map?(N=W.get(g),N||W.set(g,N=w)):(N=W[g],N||(N=W[g]=w)),N}function rr(W){const g=W.indexOf(":");return[W.substring(1,g),W.substr(g+1)]}let cr=(W,g)=>!1,ti=(W,g,w)=>[],an=null;function Wn(W){const g=W.parentNode||W.host;return g===an?null:g}(kn()||"undefined"!=typeof Element)&&(Mn()?(an=(()=>document.documentElement)(),cr=(W,g)=>{for(;g;){if(g===W)return!0;g=Wn(g)}return!1}):cr=(W,g)=>W.contains(g),ti=(W,g,w)=>{if(w)return Array.from(W.querySelectorAll(g));const N=W.querySelector(g);return N?[N]:[]});let kr=null,zr=!1;function yr(W){kr||(kr=function Ot(){return"undefined"!=typeof document?document.body:null}()||{},zr=!!kr.style&&"WebkitAppearance"in kr.style);let g=!0;return kr.style&&!function Zn(W){return"ebkit"==W.substring(1,6)}(W)&&(g=W in kr.style,!g&&zr&&(g="Webkit"+W.charAt(0).toUpperCase()+W.substr(1)in kr.style)),g}const mt=cr,ve=ti;let ht=(()=>{class W{validateStyleProperty(w){return yr(w)}matchesElement(w,N){return!1}containsElement(w,N){return mt(w,N)}getParentElement(w){return Wn(w)}query(w,N,Z){return ve(w,N,Z)}computeStyle(w,N,Z){return Z||""}animate(w,N,Z,ce,Me,Oe=[],st){return new oe.ZN(Z,ce)}}return W.\u0275fac=function(w){return new(w||W)},W.\u0275prov=h.Yz7({token:W,factory:W.\u0275fac}),W})(),vt=(()=>{class W{}return W.NOOP=new ht,W})();const _r="ng-enter",$n="ng-leave",Pr="ng-trigger",pn=".ng-trigger",Lr="ng-animating",ct=".ng-animating";function ee(W){if("number"==typeof W)return W;const g=W.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:H(parseFloat(g[1]),g[2])}function H(W,g){return"s"===g?1e3*W:W}function q(W,g,w){return W.hasOwnProperty("duration")?W:function Ce(W,g,w){let Z,ce=0,Me="";if("string"==typeof W){const Oe=W.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Oe)return g.push(Ae()),{duration:0,delay:0,easing:""};Z=H(parseFloat(Oe[1]),Oe[2]);const st=Oe[3];null!=st&&(ce=H(parseFloat(st),Oe[4]));const Ct=Oe[5];Ct&&(Me=Ct)}else Z=W;if(!w){let Oe=!1,st=g.length;Z<0&&(g.push(function Re(){return new h.vHH(3100,pe)}()),Oe=!0),ce<0&&(g.push(function ae(){return new h.vHH(3101,pe)}()),Oe=!0),Oe&&g.splice(st,0,Ae())}return{duration:Z,delay:ce,easing:Me}}(W,g,w)}function Qe(W,g={}){return Object.keys(W).forEach(w=>{g[w]=W[w]}),g}function we(W,g,w={}){if(g)for(let N in W)w[N]=W[N];else Qe(W,w);return w}function me(W,g,w){return w?g+":"+w+";":""}function Se(W){let g="";for(let w=0;w<W.style.length;w++){const N=W.style.item(w);g+=me(0,N,W.style.getPropertyValue(N))}for(const w in W.style)W.style.hasOwnProperty(w)&&!w.startsWith("_")&&(g+=me(0,Ar(w),W.style[w]));W.setAttribute("style",g)}function Ze(W,g,w){W.style&&(Object.keys(g).forEach(N=>{const Z=gn(N);w&&!w.hasOwnProperty(N)&&(w[N]=W.style[Z]),W.style[Z]=g[N]}),kn()&&Se(W))}function $e(W,g){W.style&&(Object.keys(g).forEach(w=>{const N=gn(w);W.style[N]=""}),kn()&&Se(W))}function Gt(W){return Array.isArray(W)?1==W.length?W[0]:(0,oe.vP)(W):W}const ye=new RegExp("{{\\s*(.+?)\\s*}}","g");function ge(W){let g=[];if("string"==typeof W){let w;for(;w=ye.exec(W);)g.push(w[1]);ye.lastIndex=0}return g}function Ve(W,g,w){const N=W.toString(),Z=N.replace(ye,(ce,Me)=>{let Oe=g[Me];return g.hasOwnProperty(Me)||(w.push(function se(W){return new h.vHH(3003,pe)}()),Oe=""),Oe.toString()});return Z==N?W:Z}function bt(W){const g=[];let w=W.next();for(;!w.done;)g.push(w.value),w=W.next();return g}const Wt=/-+([a-z0-9])/g;function gn(W){return W.replace(Wt,(...g)=>g[1].toUpperCase())}function Ar(W){return W.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mr(W,g,w){switch(g.type){case 7:return W.visitTrigger(g,w);case 0:return W.visitState(g,w);case 1:return W.visitTransition(g,w);case 2:return W.visitSequence(g,w);case 3:return W.visitGroup(g,w);case 4:return W.visitAnimate(g,w);case 5:return W.visitKeyframes(g,w);case 6:return W.visitStyle(g,w);case 8:return W.visitReference(g,w);case 9:return W.visitAnimateChild(g,w);case 10:return W.visitAnimateRef(g,w);case 11:return W.visitQuery(g,w);case 12:return W.visitStagger(g,w);default:throw function he(W){return new h.vHH(3004,pe)}()}}function yi(W,g){return window.getComputedStyle(W)[g]}function Jr(W,g){const w=[];return"string"==typeof W?W.split(/\s*,\s*/).forEach(N=>function hr(W,g,w){if(":"==W[0]){const st=function xr(W,g){switch(W){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,N)=>parseFloat(N)>parseFloat(w);case":decrement":return(w,N)=>parseFloat(N)<parseFloat(w);default:return g.push(function jt(W){return new h.vHH(3016,pe)}()),"* => *"}}(W,w);if("function"==typeof st)return void g.push(st);W=st}const N=W.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return w.push(function Fe(W){return new h.vHH(3015,pe)}()),g;const Z=N[1],ce=N[2],Me=N[3];g.push(Un(Z,Me));"<"==ce[0]&&!("*"==Z&&"*"==Me)&&g.push(Un(Me,Z))}(N,w,g)):w.push(W),w}const br=new Set(["true","1"]),Ti=new Set(["false","0"]);function Un(W,g){const w=br.has(W)||Ti.has(W),N=br.has(g)||Ti.has(g);return(Z,ce)=>{let Me="*"==W||W==Z,Oe="*"==g||g==ce;return!Me&&w&&"boolean"==typeof Z&&(Me=Z?br.has(W):Ti.has(W)),!Oe&&N&&"boolean"==typeof ce&&(Oe=ce?br.has(g):Ti.has(g)),Me&&Oe}}const _i=new RegExp("s*:selfs*,?","g");function ss(W,g,w,N){return new Dr(W).build(g,w,N)}class Dr{constructor(g){this._driver=g}build(g,w,N){const Z=new He(w);this._resetContextStyleTimingState(Z);const ce=Mr(this,Gt(g),Z);return Z.unsupportedCSSPropertiesFound.size&&Z.unsupportedCSSPropertiesFound.keys(),ce}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles={},g.collectedStyles[""]={},g.currentTime=0}visitTrigger(g,w){let N=w.queryCount=0,Z=w.depCount=0;const ce=[],Me=[];return"@"==g.name.charAt(0)&&w.errors.push(function ot(){return new h.vHH(3006,pe)}()),g.definitions.forEach(Oe=>{if(this._resetContextStyleTimingState(w),0==Oe.type){const st=Oe,Ct=st.name;Ct.toString().split(/\s*,\s*/).forEach(cn=>{st.name=cn,ce.push(this.visitState(st,w))}),st.name=Ct}else if(1==Oe.type){const st=this.visitTransition(Oe,w);N+=st.queryCount,Z+=st.depCount,Me.push(st)}else w.errors.push(function Ge(){return new h.vHH(3007,pe)}())}),{type:7,name:g.name,states:ce,transitions:Me,queryCount:N,depCount:Z,options:null}}visitState(g,w){const N=this.visitStyle(g.styles,w),Z=g.options&&g.options.params||null;if(N.containsDynamicStyles){const ce=new Set,Me=Z||{};N.styles.forEach(Oe=>{if(rt(Oe)){const st=Oe;Object.keys(st).forEach(Ct=>{ge(st[Ct]).forEach(cn=>{Me.hasOwnProperty(cn)||ce.add(cn)})})}}),ce.size&&(bt(ce.values()),w.errors.push(function Ke(W,g){return new h.vHH(3008,pe)}()))}return{type:0,name:g.name,style:N,options:Z?{params:Z}:null}}visitTransition(g,w){w.queryCount=0,w.depCount=0;const N=Mr(this,Gt(g.animation),w);return{type:1,matchers:Jr(g.expr,w.errors),animation:N,queryCount:w.queryCount,depCount:w.depCount,options:Nt(g.options)}}visitSequence(g,w){return{type:2,steps:g.steps.map(N=>Mr(this,N,w)),options:Nt(g.options)}}visitGroup(g,w){const N=w.currentTime;let Z=0;const ce=g.steps.map(Me=>{w.currentTime=N;const Oe=Mr(this,Me,w);return Z=Math.max(Z,w.currentTime),Oe});return w.currentTime=Z,{type:3,steps:ce,options:Nt(g.options)}}visitAnimate(g,w){const N=function Mt(W,g){if(W.hasOwnProperty("duration"))return W;if("number"==typeof W)return nn(q(W,g).duration,0,"");const w=W;if(w.split(/\s+/).some(ce=>"{"==ce.charAt(0)&&"{"==ce.charAt(1))){const ce=nn(0,0,"");return ce.dynamic=!0,ce.strValue=w,ce}const Z=q(w,g);return nn(Z.duration,Z.delay,Z.easing)}(g.timings,w.errors);w.currentAnimateTimings=N;let Z,ce=g.styles?g.styles:(0,oe.oB)({});if(5==ce.type)Z=this.visitKeyframes(ce,w);else{let Me=g.styles,Oe=!1;if(!Me){Oe=!0;const Ct={};N.easing&&(Ct.easing=N.easing),Me=(0,oe.oB)(Ct)}w.currentTime+=N.duration+N.delay;const st=this.visitStyle(Me,w);st.isEmptyStep=Oe,Z=st}return w.currentAnimateTimings=null,{type:4,timings:N,style:Z,options:null}}visitStyle(g,w){const N=this._makeStyleAst(g,w);return this._validateStyleAst(N,w),N}_makeStyleAst(g,w){const N=[];Array.isArray(g.styles)?g.styles.forEach(Me=>{"string"==typeof Me?Me==oe.l3?N.push(Me):w.errors.push(function dt(W){return new h.vHH(3002,pe)}()):N.push(Me)}):N.push(g.styles);let Z=!1,ce=null;return N.forEach(Me=>{if(rt(Me)){const Oe=Me,st=Oe.easing;if(st&&(ce=st,delete Oe.easing),!Z)for(let Ct in Oe)if(Oe[Ct].toString().indexOf("{{")>=0){Z=!0;break}}}),{type:6,styles:N,easing:ce,offset:g.offset,containsDynamicStyles:Z,options:null}}_validateStyleAst(g,w){const N=w.currentAnimateTimings;let Z=w.currentTime,ce=w.currentTime;N&&ce>0&&(ce-=N.duration+N.delay),g.styles.forEach(Me=>{"string"!=typeof Me&&Object.keys(Me).forEach(Oe=>{if(!this._driver.validateStyleProperty(Oe))return delete Me[Oe],void w.unsupportedCSSPropertiesFound.add(Oe);const st=w.collectedStyles[w.currentQuerySelector],Ct=st[Oe];let cn=!0;Ct&&(ce!=Z&&ce>=Ct.startTime&&Z<=Ct.endTime&&(w.errors.push(function Xe(W,g,w,N,Z){return new h.vHH(3010,pe)}()),cn=!1),ce=Ct.startTime),cn&&(st[Oe]={startTime:ce,endTime:Z}),w.options&&function Ne(W,g,w){const N=g.params||{},Z=ge(W);Z.length&&Z.forEach(ce=>{N.hasOwnProperty(ce)||w.push(function Te(W){return new h.vHH(3001,pe)}())})}(Me[Oe],w.options,w.errors)})})}visitKeyframes(g,w){const N={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function St(){return new h.vHH(3011,pe)}()),N;let ce=0;const Me=[];let Oe=!1,st=!1,Ct=0;const cn=g.steps.map(oi=>{const Ei=this._makeStyleAst(oi,w);let Ni=null!=Ei.offset?Ei.offset:function xe(W){if("string"==typeof W)return null;let g=null;if(Array.isArray(W))W.forEach(w=>{if(rt(w)&&w.hasOwnProperty("offset")){const N=w;g=parseFloat(N.offset),delete N.offset}});else if(rt(W)&&W.hasOwnProperty("offset")){const w=W;g=parseFloat(w.offset),delete w.offset}return g}(Ei.styles),Kr=0;return null!=Ni&&(ce++,Kr=Ei.offset=Ni),st=st||Kr<0||Kr>1,Oe=Oe||Kr<Ct,Ct=Kr,Me.push(Kr),Ei});st&&w.errors.push(function Ye(){return new h.vHH(3012,pe)}()),Oe&&w.errors.push(function je(){return new h.vHH(3200,pe)}());const Cn=g.steps.length;let Hn=0;ce>0&&ce<Cn?w.errors.push(function be(){return new h.vHH(3202,pe)}()):0==ce&&(Hn=1/(Cn-1));const Jn=Cn-1,Vn=w.currentTime,er=w.currentAnimateTimings,Wr=er.duration;return cn.forEach((oi,Ei)=>{const Ni=Hn>0?Ei==Jn?1:Hn*Ei:Me[Ei],Kr=Ni*Wr;w.currentTime=Vn+er.delay+Kr,er.duration=Kr,this._validateStyleAst(oi,w),oi.offset=Ni,N.styles.push(oi)}),N}visitReference(g,w){return{type:8,animation:Mr(this,Gt(g.animation),w),options:Nt(g.options)}}visitAnimateChild(g,w){return w.depCount++,{type:9,options:Nt(g.options)}}visitAnimateRef(g,w){return{type:10,animation:this.visitReference(g.animation,w),options:Nt(g.options)}}visitQuery(g,w){const N=w.currentQuerySelector,Z=g.options||{};w.queryCount++,w.currentQuery=g;const[ce,Me]=function vi(W){const g=!!W.split(/\s*,\s*/).find(w=>":self"==w);return g&&(W=W.replace(_i,"")),W=W.replace(/@\*/g,pn).replace(/@\w+/g,w=>pn+"-"+w.substr(1)).replace(/:animating/g,ct),[W,g]}(g.selector);w.currentQuerySelector=N.length?N+" "+ce:ce,Sn(w.collectedStyles,w.currentQuerySelector,{});const Oe=Mr(this,Gt(g.animation),w);return w.currentQuery=null,w.currentQuerySelector=N,{type:11,selector:ce,limit:Z.limit||0,optional:!!Z.optional,includeSelf:Me,animation:Oe,originalSelector:g.selector,options:Nt(g.options)}}visitStagger(g,w){w.currentQuery||w.errors.push(function qe(){return new h.vHH(3013,pe)}());const N="full"===g.timings?{duration:0,delay:0,easing:"full"}:q(g.timings,w.errors,!0);return{type:12,animation:Mr(this,Gt(g.animation),w),timings:N,options:null}}}class He{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rt(W){return!Array.isArray(W)&&"object"==typeof W}function Nt(W){return W?(W=Qe(W)).params&&(W.params=function Gr(W){return W?Qe(W):null}(W.params)):W={},W}function nn(W,g,w){return{duration:W,delay:g,easing:w}}function Er(W,g,w,N,Z,ce,Me=null,Oe=!1){return{type:1,element:W,keyframes:g,preStyleProps:w,postStyleProps:N,duration:Z,delay:ce,totalTime:Z+ce,easing:Me,subTimeline:Oe}}class Cr{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,w){let N=this._map.get(g);N||this._map.set(g,N=[]),N.push(...w)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const ps=new RegExp(":enter","g"),Vi=new RegExp(":leave","g");function Ri(W,g,w,N,Z,ce={},Me={},Oe,st,Ct=[]){return(new Aa).buildKeyframes(W,g,w,N,Z,ce,Me,Oe,st,Ct)}class Aa{buildKeyframes(g,w,N,Z,ce,Me,Oe,st,Ct,cn=[]){Ct=Ct||new Cr;const Cn=new Us(g,w,Ct,Z,ce,cn,[]);Cn.options=st,Cn.currentTimeline.setStyles([Me],null,Cn.errors,st),Mr(this,N,Cn);const Hn=Cn.timelines.filter(Jn=>Jn.containsAnimation());if(Object.keys(Oe).length){let Jn;for(let Vn=Hn.length-1;Vn>=0;Vn--){const er=Hn[Vn];if(er.element===w){Jn=er;break}}Jn&&!Jn.allowOnlyTimelineStyles()&&Jn.setStyles([Oe],null,Cn.errors,st)}return Hn.length?Hn.map(Jn=>Jn.buildKeyframes()):[Er(w,[],[],[],0,0,"",!1)]}visitTrigger(g,w){}visitState(g,w){}visitTransition(g,w){}visitAnimateChild(g,w){const N=w.subInstructions.get(w.element);if(N){const Z=w.createSubContext(g.options),ce=w.currentTimeline.currentTime,Me=this._visitSubInstructions(N,Z,Z.options);ce!=Me&&w.transformIntoNewTimeline(Me)}w.previousNode=g}visitAnimateRef(g,w){const N=w.createSubContext(g.options);N.transformIntoNewTimeline(),this.visitReference(g.animation,N),w.transformIntoNewTimeline(N.currentTimeline.currentTime),w.previousNode=g}_visitSubInstructions(g,w,N){let ce=w.currentTimeline.currentTime;const Me=null!=N.duration?ee(N.duration):null,Oe=null!=N.delay?ee(N.delay):null;return 0!==Me&&g.forEach(st=>{const Ct=w.appendInstructionToTimeline(st,Me,Oe);ce=Math.max(ce,Ct.duration+Ct.delay)}),ce}visitReference(g,w){w.updateOptions(g.options,!0),Mr(this,g.animation,w),w.previousNode=g}visitSequence(g,w){const N=w.subContextCount;let Z=w;const ce=g.options;if(ce&&(ce.params||ce.delay)&&(Z=w.createSubContext(ce),Z.transformIntoNewTimeline(),null!=ce.delay)){6==Z.previousNode.type&&(Z.currentTimeline.snapshotCurrentStyles(),Z.previousNode=Bi);const Me=ee(ce.delay);Z.delayNextStep(Me)}g.steps.length&&(g.steps.forEach(Me=>Mr(this,Me,Z)),Z.currentTimeline.applyStylesToKeyframe(),Z.subContextCount>N&&Z.transformIntoNewTimeline()),w.previousNode=g}visitGroup(g,w){const N=[];let Z=w.currentTimeline.currentTime;const ce=g.options&&g.options.delay?ee(g.options.delay):0;g.steps.forEach(Me=>{const Oe=w.createSubContext(g.options);ce&&Oe.delayNextStep(ce),Mr(this,Me,Oe),Z=Math.max(Z,Oe.currentTimeline.currentTime),N.push(Oe.currentTimeline)}),N.forEach(Me=>w.currentTimeline.mergeTimelineCollectedStyles(Me)),w.transformIntoNewTimeline(Z),w.previousNode=g}_visitTiming(g,w){if(g.dynamic){const N=g.strValue;return q(w.params?Ve(N,w.params,w.errors):N,w.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,w){const N=w.currentAnimateTimings=this._visitTiming(g.timings,w),Z=w.currentTimeline;N.delay&&(w.incrementTime(N.delay),Z.snapshotCurrentStyles());const ce=g.style;5==ce.type?this.visitKeyframes(ce,w):(w.incrementTime(N.duration),this.visitStyle(ce,w),Z.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=g}visitStyle(g,w){const N=w.currentTimeline,Z=w.currentAnimateTimings;!Z&&N.getCurrentStyleProperties().length&&N.forwardFrame();const ce=Z&&Z.easing||g.easing;g.isEmptyStep?N.applyEmptyStep(ce):N.setStyles(g.styles,ce,w.errors,w.options),w.previousNode=g}visitKeyframes(g,w){const N=w.currentAnimateTimings,Z=w.currentTimeline.duration,ce=N.duration,Oe=w.createSubContext().currentTimeline;Oe.easing=N.easing,g.styles.forEach(st=>{Oe.forwardTime((st.offset||0)*ce),Oe.setStyles(st.styles,st.easing,w.errors,w.options),Oe.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Oe),w.transformIntoNewTimeline(Z+ce),w.previousNode=g}visitQuery(g,w){const N=w.currentTimeline.currentTime,Z=g.options||{},ce=Z.delay?ee(Z.delay):0;ce&&(6===w.previousNode.type||0==N&&w.currentTimeline.getCurrentStyleProperties().length)&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Bi);let Me=N;const Oe=w.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!Z.optional,w.errors);w.currentQueryTotal=Oe.length;let st=null;Oe.forEach((Ct,cn)=>{w.currentQueryIndex=cn;const Cn=w.createSubContext(g.options,Ct);ce&&Cn.delayNextStep(ce),Ct===w.element&&(st=Cn.currentTimeline),Mr(this,g.animation,Cn),Cn.currentTimeline.applyStylesToKeyframe(),Me=Math.max(Me,Cn.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(Me),st&&(w.currentTimeline.mergeTimelineCollectedStyles(st),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=g}visitStagger(g,w){const N=w.parentContext,Z=w.currentTimeline,ce=g.timings,Me=Math.abs(ce.duration),Oe=Me*(w.currentQueryTotal-1);let st=Me*w.currentQueryIndex;switch(ce.duration<0?"reverse":ce.easing){case"reverse":st=Oe-st;break;case"full":st=N.currentStaggerTime}const cn=w.currentTimeline;st&&cn.delayNextStep(st);const Cn=cn.currentTime;Mr(this,g.animation,w),w.previousNode=g,N.currentStaggerTime=Z.currentTime-Cn+(Z.startTime-N.currentTimeline.startTime)}}const Bi={};class Us{constructor(g,w,N,Z,ce,Me,Oe,st){this._driver=g,this.element=w,this.subInstructions=N,this._enterClassName=Z,this._leaveClassName=ce,this.errors=Me,this.timelines=Oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=st||new os(this._driver,w,0),Oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,w){if(!g)return;const N=g;let Z=this.options;null!=N.duration&&(Z.duration=ee(N.duration)),null!=N.delay&&(Z.delay=ee(N.delay));const ce=N.params;if(ce){let Me=Z.params;Me||(Me=this.options.params={}),Object.keys(ce).forEach(Oe=>{(!w||!Me.hasOwnProperty(Oe))&&(Me[Oe]=Ve(ce[Oe],Me,this.errors))})}}_copyOptions(){const g={};if(this.options){const w=this.options.params;if(w){const N=g.params={};Object.keys(w).forEach(Z=>{N[Z]=w[Z]})}}return g}createSubContext(g=null,w,N){const Z=w||this.element,ce=new Us(this._driver,Z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Z,N||0));return ce.previousNode=this.previousNode,ce.currentAnimateTimings=this.currentAnimateTimings,ce.options=this._copyOptions(),ce.updateOptions(g),ce.currentQueryIndex=this.currentQueryIndex,ce.currentQueryTotal=this.currentQueryTotal,ce.parentContext=this,this.subContextCount++,ce}transformIntoNewTimeline(g){return this.previousNode=Bi,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,w,N){const Z={duration:null!=w?w:g.duration,delay:this.currentTimeline.currentTime+(null!=N?N:0)+g.delay,easing:""},ce=new Eo(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,Z,g.stretchStartingKeyframe);return this.timelines.push(ce),Z}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,w,N,Z,ce,Me){let Oe=[];if(Z&&Oe.push(this.element),g.length>0){g=(g=g.replace(ps,"."+this._enterClassName)).replace(Vi,"."+this._leaveClassName);let Ct=this._driver.query(this.element,g,1!=N);0!==N&&(Ct=N<0?Ct.slice(Ct.length+N,Ct.length):Ct.slice(0,N)),Oe.push(...Ct)}return!ce&&0==Oe.length&&Me.push(function kt(W){return new h.vHH(3014,pe)}()),Oe}}class os{constructor(g,w,N,Z){this._driver=g,this.element=w,this.startTime=N,this._elementTimelineStylesLookup=Z,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const w=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||w?(this.forwardTime(this.currentTime+g),w&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,w){return this.applyStylesToKeyframe(),new os(this._driver,g,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,w){this._localTimelineStyles[g]=w,this._globalTimelineStyles[g]=w,this._styleSummary[g]={time:this.currentTime,value:w}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&(this._previousKeyframe.easing=g),Object.keys(this._globalTimelineStyles).forEach(w=>{this._backFill[w]=this._globalTimelineStyles[w]||oe.l3,this._currentKeyframe[w]=oe.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,w,N,Z){w&&(this._previousKeyframe.easing=w);const ce=Z&&Z.params||{},Me=function Ds(W,g){const w={};let N;return W.forEach(Z=>{"*"===Z?(N=N||Object.keys(g),N.forEach(ce=>{w[ce]=oe.l3})):we(Z,!1,w)}),w}(g,this._globalTimelineStyles);Object.keys(Me).forEach(Oe=>{const st=Ve(Me[Oe],ce,N);this._pendingStyles[Oe]=st,this._localTimelineStyles.hasOwnProperty(Oe)||(this._backFill[Oe]=this._globalTimelineStyles.hasOwnProperty(Oe)?this._globalTimelineStyles[Oe]:oe.l3),this._updateStyle(Oe,st)})}applyStylesToKeyframe(){const g=this._pendingStyles,w=Object.keys(g);0!=w.length&&(this._pendingStyles={},w.forEach(N=>{this._currentKeyframe[N]=g[N]}),Object.keys(this._localTimelineStyles).forEach(N=>{this._currentKeyframe.hasOwnProperty(N)||(this._currentKeyframe[N]=this._localTimelineStyles[N])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(g=>{const w=this._localTimelineStyles[g];this._pendingStyles[g]=w,this._updateStyle(g,w)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let w in this._currentKeyframe)g.push(w);return g}mergeTimelineCollectedStyles(g){Object.keys(g._styleSummary).forEach(w=>{const N=this._styleSummary[w],Z=g._styleSummary[w];(!N||Z.time>N.time)&&this._updateStyle(w,Z.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,w=new Set,N=1===this._keyframes.size&&0===this.duration;let Z=[];this._keyframes.forEach((Oe,st)=>{const Ct=we(Oe,!0);Object.keys(Ct).forEach(cn=>{const Cn=Ct[cn];Cn==oe.k1?g.add(cn):Cn==oe.l3&&w.add(cn)}),N||(Ct.offset=st/this.duration),Z.push(Ct)});const ce=g.size?bt(g.values()):[],Me=w.size?bt(w.values()):[];if(N){const Oe=Z[0],st=Qe(Oe);Oe.offset=0,st.offset=1,Z=[Oe,st]}return Er(this.element,Z,ce,Me,this.duration,this.startTime,this.easing,!1)}}class Eo extends os{constructor(g,w,N,Z,ce,Me,Oe=!1){super(g,w,Me.delay),this.keyframes=N,this.preStyleProps=Z,this.postStyleProps=ce,this._stretchStartingKeyframe=Oe,this.timings={duration:Me.duration,delay:Me.delay,easing:Me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:w,duration:N,easing:Z}=this.timings;if(this._stretchStartingKeyframe&&w){const ce=[],Me=N+w,Oe=w/Me,st=we(g[0],!1);st.offset=0,ce.push(st);const Ct=we(g[0],!1);Ct.offset=As(Oe),ce.push(Ct);const cn=g.length-1;for(let Cn=1;Cn<=cn;Cn++){let Hn=we(g[Cn],!1);Hn.offset=As((w+Hn.offset*N)/Me),ce.push(Hn)}N=Me,w=0,Z="",g=ce}return Er(this.element,g,this.preStyleProps,this.postStyleProps,N,w,Z,!0)}}function As(W,g=3){const w=Math.pow(10,g-1);return Math.round(W*w)/w}class ms{}class Ws extends ms{normalizePropertyName(g,w){return gn(g)}normalizeStyleValue(g,w,N,Z){let ce="";const Me=N.toString().trim();if(Cs[w]&&0!==N&&"0"!==N)if("number"==typeof N)ce="px";else{const Oe=N.match(/^[+-]?[\d\.]+([a-z]*)$/);Oe&&0==Oe[1].length&&Z.push(function De(W,g){return new h.vHH(3005,pe)}())}return Me+ce}}const Cs=(()=>function Ms(W){const g={};return W.forEach(w=>g[w]=!0),g}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function io(W,g,w,N,Z,ce,Me,Oe,st,Ct,cn,Cn,Hn){return{type:0,element:W,triggerName:g,isRemovalTransition:Z,fromState:w,fromStyles:ce,toState:N,toStyles:Me,timelines:Oe,queriedElements:st,preStyleProps:Ct,postStyleProps:cn,totalTime:Cn,errors:Hn}}const Is={};class xs{constructor(g,w,N){this._triggerName=g,this.ast=w,this._stateStyles=N}match(g,w,N,Z){return function Rs(W,g,w,N,Z){return W.some(ce=>ce(g,w,N,Z))}(this.ast.matchers,g,w,N,Z)}buildStyles(g,w,N){const Z=this._stateStyles["*"],ce=this._stateStyles[g],Me=Z?Z.buildStyles(w,N):{};return ce?ce.buildStyles(w,N):Me}build(g,w,N,Z,ce,Me,Oe,st,Ct,cn){const Cn=[],Hn=this.ast.options&&this.ast.options.params||Is,Vn=this.buildStyles(N,Oe&&Oe.params||Is,Cn),er=st&&st.params||Is,Wr=this.buildStyles(Z,er,Cn),oi=new Set,Ei=new Map,Ni=new Map,Kr="void"===Z,$s={params:Object.assign(Object.assign({},Hn),er)},Yr=cn?[]:Ri(g,w,this.ast.animation,ce,Me,Vn,Wr,$s,Ct,Cn);let Ai=0;if(Yr.forEach(Ro=>{Ai=Math.max(Ro.duration+Ro.delay,Ai)}),Cn.length)return io(w,this._triggerName,N,Z,Kr,Vn,Wr,[],[],Ei,Ni,Ai,Cn);Yr.forEach(Ro=>{const zs=Ro.element,Do=Sn(Ei,zs,{});Ro.preStyleProps.forEach(Ps=>Do[Ps]=!0);const Ys=Sn(Ni,zs,{});Ro.postStyleProps.forEach(Ps=>Ys[Ps]=!0),zs!==w&&oi.add(zs)});const Fi=bt(oi.values());return io(w,this._triggerName,N,Z,Kr,Vn,Wr,Yr,Fi,Ei,Ni,Ai)}}class Qi{constructor(g,w,N){this.styles=g,this.defaultParams=w,this.normalizer=N}buildStyles(g,w){const N={},Z=Qe(this.defaultParams);return Object.keys(g).forEach(ce=>{const Me=g[ce];null!=Me&&(Z[ce]=Me)}),this.styles.styles.forEach(ce=>{if("string"!=typeof ce){const Me=ce;Object.keys(Me).forEach(Oe=>{let st=Me[Oe];st.length>1&&(st=Ve(st,Z,w));const Ct=this.normalizer.normalizePropertyName(Oe,w);st=this.normalizer.normalizeStyleValue(Oe,Ct,st,w),N[Ct]=st})}}),N}}class Ui{constructor(g,w,N){this.name=g,this.ast=w,this._normalizer=N,this.transitionFactories=[],this.states={},w.states.forEach(Z=>{this.states[Z.name]=new Qi(Z.style,Z.options&&Z.options.params||{},N)}),Xi(this.states,"true","1"),Xi(this.states,"false","0"),w.transitions.forEach(Z=>{this.transitionFactories.push(new xs(g,Z,this.states))}),this.fallbackTransition=function ga(W,g,w){return new xs(W,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Me,Oe)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,w,N,Z){return this.transitionFactories.find(Me=>Me.match(g,w,N,Z))||null}matchStyles(g,w,N){return this.fallbackTransition.buildStyles(g,w,N)}}function Xi(W,g,w){W.hasOwnProperty(g)?W.hasOwnProperty(w)||(W[w]=W[g]):W.hasOwnProperty(w)&&(W[g]=W[w])}const ji=new Cr;class gs{constructor(g,w,N){this.bodyNode=g,this._driver=w,this._normalizer=N,this._animations={},this._playersById={},this.players=[]}register(g,w){const N=[],ce=ss(this._driver,w,N,[]);if(N.length)throw function gt(W){return new h.vHH(3503,pe)}();this._animations[g]=ce}_buildPlayer(g,w,N){const Z=g.element,ce=Kn(0,this._normalizer,0,g.keyframes,w,N);return this._driver.animate(Z,ce,g.duration,g.delay,g.easing,[],!0)}create(g,w,N={}){const Z=[],ce=this._animations[g];let Me;const Oe=new Map;if(ce?(Me=Ri(this._driver,w,ce,_r,$n,{},{},N,ji,Z),Me.forEach(cn=>{const Cn=Sn(Oe,cn.element,{});cn.postStyleProps.forEach(Hn=>Cn[Hn]=null)})):(Z.push(function We(){return new h.vHH(3300,pe)}()),Me=[]),Z.length)throw function Pt(W){return new h.vHH(3504,pe)}();Oe.forEach((cn,Cn)=>{Object.keys(cn).forEach(Hn=>{cn[Hn]=this._driver.computeStyle(Cn,Hn,oe.l3)})});const Ct=Dn(Me.map(cn=>{const Cn=Oe.get(cn.element);return this._buildPlayer(cn,{},Cn)}));return this._playersById[g]=Ct,Ct.onDestroy(()=>this.destroy(g)),this.players.push(Ct),Ct}destroy(g){const w=this._getPlayer(g);w.destroy(),delete this._playersById[g];const N=this.players.indexOf(w);N>=0&&this.players.splice(N,1)}_getPlayer(g){const w=this._playersById[g];if(!w)throw function Kt(W){return new h.vHH(3301,pe)}();return w}listen(g,w,N,Z){const ce=gr(w,"","","");return ur(this._getPlayer(g),N,ce,Z),()=>{}}command(g,w,N,Z){if("register"==N)return void this.register(g,Z[0]);if("create"==N)return void this.create(g,w,Z[0]||{});const ce=this._getPlayer(g);switch(N){case"play":ce.play();break;case"pause":ce.pause();break;case"reset":ce.reset();break;case"restart":ce.restart();break;case"finish":ce.finish();break;case"init":ce.init();break;case"setPosition":ce.setPosition(parseFloat(Z[0]));break;case"destroy":this.destroy(g)}}}const js="ng-animate-queued",Gi="ng-animate-disabled",Or=[],Wi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fi="__ng_removed";class Os{constructor(g,w=""){this.namespaceId=w;const N=g&&g.hasOwnProperty("value");if(this.value=function V(W){return null!=W?W:null}(N?g.value:g),N){const ce=Qe(g);delete ce.value,this.options=ce}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(g){const w=g.params;if(w){const N=this.options.params;Object.keys(w).forEach(Z=>{null==N[Z]&&(N[Z]=w[Z])})}}}const oo="void",qs=new Os(oo);class ys{constructor(g,w,N){this.id=g,this.hostElement=w,this._engine=N,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,It(w,this._hostClassName)}listen(g,w,N,Z){if(!this._triggers.hasOwnProperty(w))throw function dn(W,g){return new h.vHH(3302,pe)}();if(null==N||0==N.length)throw function vn(W){return new h.vHH(3303,pe)}();if(!function B(W){return"start"==W||"done"==W}(N))throw function Tt(W,g){return new h.vHH(3400,pe)}();const ce=Sn(this._elementListeners,g,[]),Me={name:w,phase:N,callback:Z};ce.push(Me);const Oe=Sn(this._engine.statesByElement,g,{});return Oe.hasOwnProperty(w)||(It(g,Pr),It(g,Pr+"-"+w),Oe[w]=qs),()=>{this._engine.afterFlush(()=>{const st=ce.indexOf(Me);st>=0&&ce.splice(st,1),this._triggers[w]||delete Oe[w]})}}register(g,w){return!this._triggers[g]&&(this._triggers[g]=w,!0)}_getTrigger(g){const w=this._triggers[g];if(!w)throw function mn(W){return new h.vHH(3401,pe)}();return w}trigger(g,w,N,Z=!0){const ce=this._getTrigger(w),Me=new ks(this.id,w,g);let Oe=this._engine.statesByElement.get(g);Oe||(It(g,Pr),It(g,Pr+"-"+w),this._engine.statesByElement.set(g,Oe={}));let st=Oe[w];const Ct=new Os(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&st&&Ct.absorbOptions(st.options),Oe[w]=Ct,st||(st=qs),Ct.value!==oo&&st.value===Ct.value){if(!function qn(W,g){const w=Object.keys(W),N=Object.keys(g);if(w.length!=N.length)return!1;for(let Z=0;Z<w.length;Z++){const ce=w[Z];if(!g.hasOwnProperty(ce)||W[ce]!==g[ce])return!1}return!0}(st.params,Ct.params)){const er=[],Wr=ce.matchStyles(st.value,st.params,er),oi=ce.matchStyles(Ct.value,Ct.params,er);er.length?this._engine.reportError(er):this._engine.afterFlush(()=>{$e(g,Wr),Ze(g,oi)})}return}const Hn=Sn(this._engine.playersByElement,g,[]);Hn.forEach(er=>{er.namespaceId==this.id&&er.triggerName==w&&er.queued&&er.destroy()});let Jn=ce.matchTransition(st.value,Ct.value,g,Ct.params),Vn=!1;if(!Jn){if(!Z)return;Jn=ce.fallbackTransition,Vn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:w,transition:Jn,fromState:st,toState:Ct,player:Me,isFallbackTransition:Vn}),Vn||(It(g,js),Me.onStart(()=>{tn(g,js)})),Me.onDone(()=>{let er=this.players.indexOf(Me);er>=0&&this.players.splice(er,1);const Wr=this._engine.playersByElement.get(g);if(Wr){let oi=Wr.indexOf(Me);oi>=0&&Wr.splice(oi,1)}}),this.players.push(Me),Hn.push(Me),Me}deregister(g){delete this._triggers[g],this._engine.statesByElement.forEach((w,N)=>{delete w[g]}),this._elementListeners.forEach((w,N)=>{this._elementListeners.set(N,w.filter(Z=>Z.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const w=this._engine.playersByElement.get(g);w&&(w.forEach(N=>N.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,w){const N=this._engine.driver.query(g,pn,!0);N.forEach(Z=>{if(Z[fi])return;const ce=this._engine.fetchNamespacesByElement(Z);ce.size?ce.forEach(Me=>Me.triggerLeaveAnimation(Z,w,!1,!0)):this.clearElementCache(Z)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(Z=>this.clearElementCache(Z)))}triggerLeaveAnimation(g,w,N,Z){const ce=this._engine.statesByElement.get(g),Me=new Map;if(ce){const Oe=[];if(Object.keys(ce).forEach(st=>{if(Me.set(st,ce[st].value),this._triggers[st]){const Ct=this.trigger(g,st,oo,Z);Ct&&Oe.push(Ct)}}),Oe.length)return this._engine.markElementAsRemoved(this.id,g,!0,w,Me),N&&Dn(Oe).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const w=this._elementListeners.get(g),N=this._engine.statesByElement.get(g);if(w&&N){const Z=new Set;w.forEach(ce=>{const Me=ce.name;if(Z.has(Me))return;Z.add(Me);const st=this._triggers[Me].fallbackTransition,Ct=N[Me]||qs,cn=new Os(oo),Cn=new ks(this.id,Me,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:Me,transition:st,fromState:Ct,toState:cn,player:Cn,isFallbackTransition:!0})})}}removeNode(g,w){const N=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,w),this.triggerLeaveAnimation(g,w,!0))return;let Z=!1;if(N.totalAnimations){const ce=N.players.length?N.playersByQueriedElement.get(g):[];if(ce&&ce.length)Z=!0;else{let Me=g;for(;Me=Me.parentNode;)if(N.statesByElement.get(Me)){Z=!0;break}}}if(this.prepareLeaveAnimationListeners(g),Z)N.markElementAsRemoved(this.id,g,!1,w);else{const ce=g[fi];(!ce||ce===Wi)&&(N.afterFlush(()=>this.clearElementCache(g)),N.destroyInnerAnimations(g),N._onRemovalComplete(g,w))}}insertNode(g,w){It(g,this._hostClassName)}drainQueuedTransitions(g){const w=[];return this._queue.forEach(N=>{const Z=N.player;if(Z.destroyed)return;const ce=N.element,Me=this._elementListeners.get(ce);Me&&Me.forEach(Oe=>{if(Oe.name==N.triggerName){const st=gr(ce,N.triggerName,N.fromState.value,N.toState.value);st._data=g,ur(N.player,Oe.phase,st,Oe.callback)}}),Z.markedForDestroy?this._engine.afterFlush(()=>{Z.destroy()}):w.push(N)}),this._queue=[],w.sort((N,Z)=>{const ce=N.transition.ast.depCount,Me=Z.transition.ast.depCount;return 0==ce||0==Me?ce-Me:this._engine.driver.containsElement(N.element,Z.element)?1:-1})}destroy(g){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let w=!1;return this._elementListeners.has(g)&&(w=!0),w=!!this._queue.find(N=>N.element===g)||w,w}}class Hs{constructor(g,w,N){this.bodyNode=g,this.driver=w,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Z,ce)=>{}}_onRemovalComplete(g,w){this.onRemovalComplete(g,w)}get queuedPlayers(){const g=[];return this._namespaceList.forEach(w=>{w.players.forEach(N=>{N.queued&&g.push(N)})}),g}createNamespace(g,w){const N=new ys(g,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(N,w):(this.newHostElements.set(w,N),this.collectEnterElement(w)),this._namespaceLookup[g]=N}_balanceNamespaceList(g,w){const N=this._namespaceList,Z=this.namespacesByHostElement,ce=N.length-1;if(ce>=0){let Me=!1;if(void 0!==this.driver.getParentElement){let Oe=this.driver.getParentElement(w);for(;Oe;){const st=Z.get(Oe);if(st){const Ct=N.indexOf(st);N.splice(Ct+1,0,g),Me=!0;break}Oe=this.driver.getParentElement(Oe)}}else for(let Oe=ce;Oe>=0;Oe--)if(this.driver.containsElement(N[Oe].hostElement,w)){N.splice(Oe+1,0,g),Me=!0;break}Me||N.unshift(g)}else N.push(g);return Z.set(w,g),g}register(g,w){let N=this._namespaceLookup[g];return N||(N=this.createNamespace(g,w)),N}registerTrigger(g,w,N){let Z=this._namespaceLookup[g];Z&&Z.register(w,N)&&this.totalAnimations++}destroy(g,w){if(!g)return;const N=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[g];const Z=this._namespaceList.indexOf(N);Z>=0&&this._namespaceList.splice(Z,1)}),this.afterFlushAnimationsDone(()=>N.destroy(w))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const w=new Set,N=this.statesByElement.get(g);if(N){const Z=Object.keys(N);for(let ce=0;ce<Z.length;ce++){const Me=N[Z[ce]].namespaceId;if(Me){const Oe=this._fetchNamespace(Me);Oe&&w.add(Oe)}}}return w}trigger(g,w,N,Z){if(te(w)){const ce=this._fetchNamespace(g);if(ce)return ce.trigger(w,N,Z),!0}return!1}insertNode(g,w,N,Z){if(!te(w))return;const ce=w[fi];if(ce&&ce.setForRemoval){ce.setForRemoval=!1,ce.setForMove=!0;const Me=this.collectedLeaveElements.indexOf(w);Me>=0&&this.collectedLeaveElements.splice(Me,1)}if(g){const Me=this._fetchNamespace(g);Me&&Me.insertNode(w,N)}Z&&this.collectEnterElement(w)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,w){w?this.disabledNodes.has(g)||(this.disabledNodes.add(g),It(g,Gi)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),tn(g,Gi))}removeNode(g,w,N,Z){if(te(w)){const ce=g?this._fetchNamespace(g):null;if(ce?ce.removeNode(w,Z):this.markElementAsRemoved(g,w,!1,Z),N){const Me=this.namespacesByHostElement.get(w);Me&&Me.id!==g&&Me.removeNode(w,Z)}}else this._onRemovalComplete(w,Z)}markElementAsRemoved(g,w,N,Z,ce){this.collectedLeaveElements.push(w),w[fi]={namespaceId:g,setForRemoval:Z,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:ce}}listen(g,w,N,Z,ce){return te(w)?this._fetchNamespace(g).listen(w,N,Z,ce):()=>{}}_buildInstruction(g,w,N,Z,ce){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,N,Z,g.fromState.options,g.toState.options,w,ce)}destroyInnerAnimations(g){let w=this.driver.query(g,pn,!0);w.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(g,ct,!0),w.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(g){const w=this.playersByElement.get(g);w&&w.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(g){const w=this.playersByQueriedElement.get(g);w&&w.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return Dn(this.players).onDone(()=>g());g()})}processLeaveNode(g){var w;const N=g[fi];if(N&&N.setForRemoval){if(g[fi]=Wi,N.namespaceId){this.destroyInnerAnimations(g);const Z=this._fetchNamespace(N.namespaceId);Z&&Z.clearElementCache(g)}this._onRemovalComplete(g,N.setForRemoval)}(null===(w=g.classList)||void 0===w?void 0:w.contains(Gi))&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(Z=>{this.markElementAsDisabled(Z,!1)})}flush(g=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,Z)=>this._balanceNamespaceList(N,Z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)It(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{w=this._flushAnimations(N,g)}finally{for(let Z=0;Z<N.length;Z++)N[Z]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],w.length?Dn(w).onDone(()=>{N.forEach(Z=>Z())}):N.forEach(Z=>Z())}}reportError(g){throw function An(W){return new h.vHH(3402,pe)}()}_flushAnimations(g,w){const N=new Cr,Z=[],ce=new Map,Me=[],Oe=new Map,st=new Map,Ct=new Map,cn=new Set;this.disabledNodes.forEach(Xt=>{cn.add(Xt);const Pn=this.driver.query(Xt,".ng-animate-queued",!0);for(let Bn=0;Bn<Pn.length;Bn++)cn.add(Pn[Bn])});const Cn=this.bodyNode,Hn=Array.from(this.statesByElement.keys()),Jn=yt(Hn,this.collectedEnterElements),Vn=new Map;let er=0;Jn.forEach((Xt,Pn)=>{const Bn=_r+er++;Vn.set(Pn,Bn),Xt.forEach(zn=>It(zn,Bn))});const Wr=[],oi=new Set,Ei=new Set;for(let Xt=0;Xt<this.collectedLeaveElements.length;Xt++){const Pn=this.collectedLeaveElements[Xt],Bn=Pn[fi];Bn&&Bn.setForRemoval&&(Wr.push(Pn),oi.add(Pn),Bn.hasAnimation?this.driver.query(Pn,".ng-star-inserted",!0).forEach(zn=>oi.add(zn)):Ei.add(Pn))}const Ni=new Map,Kr=yt(Hn,Array.from(oi));Kr.forEach((Xt,Pn)=>{const Bn=$n+er++;Ni.set(Pn,Bn),Xt.forEach(zn=>It(zn,Bn))}),g.push(()=>{Jn.forEach((Xt,Pn)=>{const Bn=Vn.get(Pn);Xt.forEach(zn=>tn(zn,Bn))}),Kr.forEach((Xt,Pn)=>{const Bn=Ni.get(Pn);Xt.forEach(zn=>tn(zn,Bn))}),Wr.forEach(Xt=>{this.processLeaveNode(Xt)})});const $s=[],Yr=[];for(let Xt=this._namespaceList.length-1;Xt>=0;Xt--)this._namespaceList[Xt].drainQueuedTransitions(w).forEach(Bn=>{const zn=Bn.player,ii=Bn.element;if($s.push(zn),this.collectedEnterElements.length){const Vt=ii[fi];if(Vt&&Vt.setForMove){if(Vt.previousTriggersValues&&Vt.previousTriggersValues.has(Bn.triggerName)){const Tr=Vt.previousTriggersValues.get(Bn.triggerName),es=this.statesByElement.get(Bn.element);es&&es[Bn.triggerName]&&(es[Bn.triggerName].value=Tr)}return void zn.destroy()}}const Mi=!Cn||!this.driver.containsElement(Cn,ii),qr=Ni.get(ii),fr=Vn.get(ii),Fr=this._buildInstruction(Bn,N,fr,qr,Mi);if(Fr.errors&&Fr.errors.length)return void Yr.push(Fr);if(Mi)return zn.onStart(()=>$e(ii,Fr.fromStyles)),zn.onDestroy(()=>Ze(ii,Fr.toStyles)),void Z.push(zn);if(Bn.isFallbackTransition)return zn.onStart(()=>$e(ii,Fr.fromStyles)),zn.onDestroy(()=>Ze(ii,Fr.toStyles)),void Z.push(zn);const jo=[];Fr.timelines.forEach(Vt=>{Vt.stretchStartingKeyframe=!0,this.disabledNodes.has(Vt.element)||jo.push(Vt)}),Fr.timelines=jo,N.append(ii,Fr.timelines),Me.push({instruction:Fr,player:zn,element:ii}),Fr.queriedElements.forEach(Vt=>Sn(Oe,Vt,[]).push(zn)),Fr.preStyleProps.forEach((Vt,Tr)=>{const es=Object.keys(Vt);if(es.length){let ts=st.get(Tr);ts||st.set(Tr,ts=new Set),es.forEach(_n=>ts.add(_n))}}),Fr.postStyleProps.forEach((Vt,Tr)=>{const es=Object.keys(Vt);let ts=Ct.get(Tr);ts||Ct.set(Tr,ts=new Set),es.forEach(_n=>ts.add(_n))})});if(Yr.length){const Xt=[];Yr.forEach(Pn=>{Xt.push(function hn(W,g){return new h.vHH(3505,pe)}())}),$s.forEach(Pn=>Pn.destroy()),this.reportError(Xt)}const Ai=new Map,Fi=new Map;Me.forEach(Xt=>{const Pn=Xt.element;N.has(Pn)&&(Fi.set(Pn,Pn),this._beforeAnimationBuild(Xt.player.namespaceId,Xt.instruction,Ai))}),Z.forEach(Xt=>{const Pn=Xt.element;this._getPreviousPlayers(Pn,!1,Xt.namespaceId,Xt.triggerName,null).forEach(zn=>{Sn(Ai,Pn,[]).push(zn),zn.destroy()})});const Ro=Wr.filter(Xt=>ei(Xt,st,Ct)),zs=new Map;Pe(zs,this.driver,Ei,Ct,oe.l3).forEach(Xt=>{ei(Xt,st,Ct)&&Ro.push(Xt)});const Ys=new Map;Jn.forEach((Xt,Pn)=>{Pe(Ys,this.driver,new Set(Xt),st,oe.k1)}),Ro.forEach(Xt=>{const Pn=zs.get(Xt),Bn=Ys.get(Xt);zs.set(Xt,Object.assign(Object.assign({},Pn),Bn))});const Ps=[],Uo=[],sa={};Me.forEach(Xt=>{const{element:Pn,player:Bn,instruction:zn}=Xt;if(N.has(Pn)){if(cn.has(Pn))return Bn.onDestroy(()=>Ze(Pn,zn.toStyles)),Bn.disabled=!0,Bn.overrideTotalTime(zn.totalTime),void Z.push(Bn);let ii=sa;if(Fi.size>1){let qr=Pn;const fr=[];for(;qr=qr.parentNode;){const Fr=Fi.get(qr);if(Fr){ii=Fr;break}fr.push(qr)}fr.forEach(Fr=>Fi.set(Fr,ii))}const Mi=this._buildAnimation(Bn.namespaceId,zn,Ai,ce,Ys,zs);if(Bn.setRealPlayer(Mi),ii===sa)Ps.push(Bn);else{const qr=this.playersByElement.get(ii);qr&&qr.length&&(Bn.parentPlayer=Dn(qr)),Z.push(Bn)}}else $e(Pn,zn.fromStyles),Bn.onDestroy(()=>Ze(Pn,zn.toStyles)),Uo.push(Bn),cn.has(Pn)&&Z.push(Bn)}),Uo.forEach(Xt=>{const Pn=ce.get(Xt.element);if(Pn&&Pn.length){const Bn=Dn(Pn);Xt.setRealPlayer(Bn)}}),Z.forEach(Xt=>{Xt.parentPlayer?Xt.syncPlayerEvents(Xt.parentPlayer):Xt.destroy()});for(let Xt=0;Xt<Wr.length;Xt++){const Pn=Wr[Xt],Bn=Pn[fi];if(tn(Pn,$n),Bn&&Bn.hasAnimation)continue;let zn=[];if(Oe.size){let Mi=Oe.get(Pn);Mi&&Mi.length&&zn.push(...Mi);let qr=this.driver.query(Pn,ct,!0);for(let fr=0;fr<qr.length;fr++){let Fr=Oe.get(qr[fr]);Fr&&Fr.length&&zn.push(...Fr)}}const ii=zn.filter(Mi=>!Mi.destroyed);ii.length?jr(this,Pn,ii):this.processLeaveNode(Pn)}return Wr.length=0,Ps.forEach(Xt=>{this.players.push(Xt),Xt.onDone(()=>{Xt.destroy();const Pn=this.players.indexOf(Xt);this.players.splice(Pn,1)}),Xt.play()}),Ps}elementContainsData(g,w){let N=!1;const Z=w[fi];return Z&&Z.setForRemoval&&(N=!0),this.playersByElement.has(w)&&(N=!0),this.playersByQueriedElement.has(w)&&(N=!0),this.statesByElement.has(w)&&(N=!0),this._fetchNamespace(g).elementContainsData(w)||N}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,w,N,Z,ce){let Me=[];if(w){const Oe=this.playersByQueriedElement.get(g);Oe&&(Me=Oe)}else{const Oe=this.playersByElement.get(g);if(Oe){const st=!ce||ce==oo;Oe.forEach(Ct=>{Ct.queued||!st&&Ct.triggerName!=Z||Me.push(Ct)})}}return(N||Z)&&(Me=Me.filter(Oe=>!(N&&N!=Oe.namespaceId||Z&&Z!=Oe.triggerName))),Me}_beforeAnimationBuild(g,w,N){const ce=w.element,Me=w.isRemovalTransition?void 0:g,Oe=w.isRemovalTransition?void 0:w.triggerName;for(const st of w.timelines){const Ct=st.element,cn=Ct!==ce,Cn=Sn(N,Ct,[]);this._getPreviousPlayers(Ct,cn,Me,Oe,w.toState).forEach(Jn=>{const Vn=Jn.getRealPlayer();Vn.beforeDestroy&&Vn.beforeDestroy(),Jn.destroy(),Cn.push(Jn)})}$e(ce,w.fromStyles)}_buildAnimation(g,w,N,Z,ce,Me){const Oe=w.triggerName,st=w.element,Ct=[],cn=new Set,Cn=new Set,Hn=w.timelines.map(Vn=>{const er=Vn.element;cn.add(er);const Wr=er[fi];if(Wr&&Wr.removedBeforeQueried)return new oe.ZN(Vn.duration,Vn.delay);const oi=er!==st,Ei=function ir(W){const g=[];return Xn(W,g),g}((N.get(er)||Or).map(Ai=>Ai.getRealPlayer())).filter(Ai=>!!Ai.element&&Ai.element===er),Ni=ce.get(er),Kr=Me.get(er),$s=Kn(0,this._normalizer,0,Vn.keyframes,Ni,Kr),Yr=this._buildPlayer(Vn,$s,Ei);if(Vn.subTimeline&&Z&&Cn.add(er),oi){const Ai=new ks(g,Oe,er);Ai.setRealPlayer(Yr),Ct.push(Ai)}return Yr});Ct.forEach(Vn=>{Sn(this.playersByQueriedElement,Vn.element,[]).push(Vn),Vn.onDone(()=>function Ir(W,g,w){let N;if(W instanceof Map){if(N=W.get(g),N){if(N.length){const Z=N.indexOf(w);N.splice(Z,1)}0==N.length&&W.delete(g)}}else if(N=W[g],N){if(N.length){const Z=N.indexOf(w);N.splice(Z,1)}0==N.length&&delete W[g]}return N}(this.playersByQueriedElement,Vn.element,Vn))}),cn.forEach(Vn=>It(Vn,Lr));const Jn=Dn(Hn);return Jn.onDestroy(()=>{cn.forEach(Vn=>tn(Vn,Lr)),Ze(st,w.toStyles)}),Cn.forEach(Vn=>{Sn(Z,Vn,[]).push(Jn)}),Jn}_buildPlayer(g,w,N){return w.length>0?this.driver.animate(g.element,w,g.duration,g.delay,g.easing,N):new oe.ZN(g.duration,g.delay)}}class ks{constructor(g,w,N){this.namespaceId=g,this.triggerName=w,this.element=N,this._player=new oe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,Object.keys(this._queuedCallbacks).forEach(w=>{this._queuedCallbacks[w].forEach(N=>ur(g,w,void 0,N))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const w=this._player;w.triggerCallback&&g.onStart(()=>w.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,w){Sn(this._queuedCallbacks,g,[]).push(w)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const w=this._player;w.triggerCallback&&w.triggerCallback(g)}}function te(W){return W&&1===W.nodeType}function ie(W,g){const w=W.style.display;return W.style.display=null!=g?g:"none",w}function Pe(W,g,w,N,Z){const ce=[];w.forEach(st=>ce.push(ie(st)));const Me=[];N.forEach((st,Ct)=>{const cn={};st.forEach(Cn=>{const Hn=cn[Cn]=g.computeStyle(Ct,Cn,Z);(!Hn||0==Hn.length)&&(Ct[fi]=wo,Me.push(Ct))}),W.set(Ct,cn)});let Oe=0;return w.forEach(st=>ie(st,ce[Oe++])),Me}function yt(W,g){const w=new Map;if(W.forEach(Oe=>w.set(Oe,[])),0==g.length)return w;const Z=new Set(g),ce=new Map;function Me(Oe){if(!Oe)return 1;let st=ce.get(Oe);if(st)return st;const Ct=Oe.parentNode;return st=w.has(Ct)?Ct:Z.has(Ct)?1:Me(Ct),ce.set(Oe,st),st}return g.forEach(Oe=>{const st=Me(Oe);1!==st&&w.get(st).push(Oe)}),w}function It(W,g){var w;null===(w=W.classList)||void 0===w||w.add(g)}function tn(W,g){var w;null===(w=W.classList)||void 0===w||w.remove(g)}function jr(W,g,w){Dn(w).onDone(()=>W.processLeaveNode(g))}function Xn(W,g){for(let w=0;w<W.length;w++){const N=W[w];N instanceof oe.ZE?Xn(N.players,g):g.push(N)}}function ei(W,g,w){const N=w.get(W);if(!N)return!1;let Z=g.get(W);return Z?N.forEach(ce=>Z.add(ce)):g.set(W,N),w.delete(W),!0}class Nr{constructor(g,w,N){this.bodyNode=g,this._driver=w,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(Z,ce)=>{},this._transitionEngine=new Hs(g,w,N),this._timelineEngine=new gs(g,w,N),this._transitionEngine.onRemovalComplete=(Z,ce)=>this.onRemovalComplete(Z,ce)}registerTrigger(g,w,N,Z,ce){const Me=g+"-"+Z;let Oe=this._triggerCache[Me];if(!Oe){const st=[],cn=ss(this._driver,ce,st,[]);if(st.length)throw function nt(W,g){return new h.vHH(3404,pe)}();Oe=function as(W,g,w){return new Ui(W,g,w)}(Z,cn,this._normalizer),this._triggerCache[Me]=Oe}this._transitionEngine.registerTrigger(w,Z,Oe)}register(g,w){this._transitionEngine.register(g,w)}destroy(g,w){this._transitionEngine.destroy(g,w)}onInsert(g,w,N,Z){this._transitionEngine.insertNode(g,w,N,Z)}onRemove(g,w,N,Z){this._transitionEngine.removeNode(g,w,Z||!1,N)}disableAnimations(g,w){this._transitionEngine.markElementAsDisabled(g,w)}process(g,w,N,Z){if("@"==N.charAt(0)){const[ce,Me]=rr(N);this._timelineEngine.command(ce,w,Me,Z)}else this._transitionEngine.trigger(g,w,N,Z)}listen(g,w,N,Z,ce){if("@"==N.charAt(0)){const[Me,Oe]=rr(N);return this._timelineEngine.listen(Me,w,Oe,ce)}return this._transitionEngine.listen(g,w,N,Z,ce)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let j=(()=>{class W{constructor(w,N,Z){this._element=w,this._startStyles=N,this._endStyles=Z,this._state=0;let ce=W.initialStylesByElement.get(w);ce||W.initialStylesByElement.set(w,ce={}),this._initialStyles=ce}start(){this._state<1&&(this._startStyles&&Ze(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ze(this._element,this._initialStyles),this._endStyles&&(Ze(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(W.initialStylesByElement.delete(this._element),this._startStyles&&($e(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($e(this._element,this._endStyles),this._endStyles=null),Ze(this._element,this._initialStyles),this._state=3)}}return W.initialStylesByElement=new WeakMap,W})();function F(W){let g=null;const w=Object.keys(W);for(let N=0;N<w.length;N++){const Z=w[N];x(Z)&&(g=g||{},g[Z]=W[Z])}return g}function x(W){return"display"===W||"position"===W}class re{constructor(g,w,N,Z){this.element=g,this.keyframes=w,this.options=N,this._specialStyles=Z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(g,w,N){return g.animate(w,N)}onStart(g){this._onStartFns.push(g)}onDone(g){this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g={};if(this.hasStarted()){const w=this._finalKeyframe;Object.keys(w).forEach(N=>{"offset"!=N&&(g[N]=this._finished?w[N]:yi(this.element,N))})}this.currentSnapshot=g}triggerCallback(g){const w="start"==g?this._onStartFns:this._onDoneFns;w.forEach(N=>N()),w.length=0}}class Dt{validateStyleProperty(g){return yr(g)}matchesElement(g,w){return!1}containsElement(g,w){return mt(g,w)}getParentElement(g){return Wn(g)}query(g,w,N){return ve(g,w,N)}computeStyle(g,w,N){return window.getComputedStyle(g)[w]}animate(g,w,N,Z,ce,Me=[]){const st={duration:N,delay:Z,fill:0==Z?"both":"forwards"};ce&&(st.easing=ce);const Ct={},cn=Me.filter(Hn=>Hn instanceof re);(function $r(W,g){return 0===W||0===g})(N,Z)&&cn.forEach(Hn=>{let Jn=Hn.currentSnapshot;Object.keys(Jn).forEach(Vn=>Ct[Vn]=Jn[Vn])}),w=function xi(W,g,w){const N=Object.keys(w);if(N.length&&g.length){let ce=g[0],Me=[];if(N.forEach(Oe=>{ce.hasOwnProperty(Oe)||Me.push(Oe),ce[Oe]=w[Oe]}),Me.length)for(var Z=1;Z<g.length;Z++){let Oe=g[Z];Me.forEach(function(st){Oe[st]=yi(W,st)})}}return g}(g,w=w.map(Hn=>we(Hn,!1)),Ct);const Cn=function Ur(W,g){let w=null,N=null;return Array.isArray(g)&&g.length?(w=F(g[0]),g.length>1&&(N=F(g[g.length-1]))):g&&(w=F(g)),w||N?new j(W,w,N):null}(g,w);return new re(g,w,st,Cn)}}var yn=k(9808);let ri=(()=>{class W extends oe._j{constructor(w,N){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(N.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(w){const N=this._nextAnimationId.toString();this._nextAnimationId++;const Z=Array.isArray(w)?(0,oe.vP)(w):w;return Ji(this._renderer,null,N,"register",[Z]),new us(N,this._renderer)}}return W.\u0275fac=function(w){return new(w||W)(h.LFG(h.FYo),h.LFG(yn.K0))},W.\u0275prov=h.Yz7({token:W,factory:W.\u0275fac}),W})();class us extends oe.LC{constructor(g,w){super(),this._id=g,this._renderer=w}create(g,w){return new Zs(this._id,g,w||{},this._renderer)}}class Zs{constructor(g,w,N,Z){this.id=g,this.element=w,this._renderer=Z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(g,w){return this._renderer.listen(this.element,`@@${this.id}:${g}`,w)}_command(g,...w){return Ji(this._renderer,this.element,this.id,g,w)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){var g,w;return null!==(w=null===(g=this._renderer.engine.players[+this.id])||void 0===g?void 0:g.getPosition())&&void 0!==w?w:0}}function Ji(W,g,w,N,Z){return W.setProperty(g,`@@${w}:${N}`,Z)}const Rn="@.disabled";let na=(()=>{class W{constructor(w,N,Z){this.delegate=w,this.engine=N,this._zone=Z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(ce,Me)=>{const Oe=null==Me?void 0:Me.parentNode(ce);Oe&&Me.removeChild(Oe,ce)}}createRenderer(w,N){const ce=this.delegate.createRenderer(w,N);if(!(w&&N&&N.data&&N.data.animation)){let cn=this._rendererCache.get(ce);return cn||(cn=new bi("",ce,this.engine),this._rendererCache.set(ce,cn)),cn}const Me=N.id,Oe=N.id+"-"+this._currentId;this._currentId++,this.engine.register(Oe,w);const st=cn=>{Array.isArray(cn)?cn.forEach(st):this.engine.registerTrigger(Me,Oe,w,cn.name,cn)};return N.data.animation.forEach(st),new ra(this,Oe,ce,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,N,Z){w>=0&&w<this._microtaskId?this._zone.run(()=>N(Z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ce=>{const[Me,Oe]=ce;Me(Oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,Z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return W.\u0275fac=function(w){return new(w||W)(h.LFG(h.FYo),h.LFG(Nr),h.LFG(h.R0b))},W.\u0275prov=h.Yz7({token:W,factory:W.\u0275fac}),W})();class bi{constructor(g,w,N){this.namespaceId=g,this.delegate=w,this.engine=N,this.destroyNode=this.delegate.destroyNode?Z=>w.destroyNode(Z):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(g,w){return this.delegate.createElement(g,w)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,w){this.delegate.appendChild(g,w),this.engine.onInsert(this.namespaceId,w,g,!1)}insertBefore(g,w,N,Z=!0){this.delegate.insertBefore(g,w,N),this.engine.onInsert(this.namespaceId,w,g,Z)}removeChild(g,w,N){this.engine.onRemove(this.namespaceId,w,this.delegate,N)}selectRootElement(g,w){return this.delegate.selectRootElement(g,w)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,w,N,Z){this.delegate.setAttribute(g,w,N,Z)}removeAttribute(g,w,N){this.delegate.removeAttribute(g,w,N)}addClass(g,w){this.delegate.addClass(g,w)}removeClass(g,w){this.delegate.removeClass(g,w)}setStyle(g,w,N,Z){this.delegate.setStyle(g,w,N,Z)}removeStyle(g,w,N){this.delegate.removeStyle(g,w,N)}setProperty(g,w,N){"@"==w.charAt(0)&&w==Rn?this.disableAnimations(g,!!N):this.delegate.setProperty(g,w,N)}setValue(g,w){this.delegate.setValue(g,w)}listen(g,w,N){return this.delegate.listen(g,w,N)}disableAnimations(g,w){this.engine.disableAnimations(g,w)}}class ra extends bi{constructor(g,w,N,Z){super(w,N,Z),this.factory=g,this.namespaceId=w}setProperty(g,w,N){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Rn?this.disableAnimations(g,N=void 0===N||!!N):this.engine.process(this.namespaceId,g,w.substr(1),N):this.delegate.setProperty(g,w,N)}listen(g,w,N){if("@"==w.charAt(0)){const Z=function Ao(W){switch(W){case"body":return document.body;case"document":return document;case"window":return window;default:return W}}(g);let ce=w.substr(1),Me="";return"@"!=ce.charAt(0)&&([ce,Me]=function ao(W){const g=W.indexOf(".");return[W.substring(0,g),W.substr(g+1)]}(ce)),this.engine.listen(this.namespaceId,Z,ce,Me,Oe=>{this.factory.scheduleListenerCallback(Oe._data||-1,N,Oe)})}return this.delegate.listen(g,w,N)}}let Mo=(()=>{class W extends Nr{constructor(w,N,Z){super(w.body,N,Z)}ngOnDestroy(){this.flush()}}return W.\u0275fac=function(w){return new(w||W)(h.LFG(yn.K0),h.LFG(vt),h.LFG(ms))},W.\u0275prov=h.Yz7({token:W,factory:W.\u0275fac}),W})();const Vo=new h.OlP("AnimationModuleType"),xo=[{provide:oe._j,useClass:ri},{provide:ms,useFactory:function ia(){return new Ws}},{provide:Nr,useClass:Mo},{provide:h.FYo,useFactory:function El(W,g,w){return new na(W,g,w)},deps:[v.se,Nr,h.R0b]}],_s=[{provide:vt,useFactory:()=>new Dt},{provide:Vo,useValue:"BrowserAnimations"},...xo],Ki=[{provide:vt,useClass:ht},{provide:Vo,useValue:"NoopAnimations"},...xo];let lo=(()=>{class W{static withConfig(w){return{ngModule:W,providers:w.disableAnimations?Ki:_s}}}return W.\u0275fac=function(w){return new(w||W)},W.\u0275mod=h.oAB({type:W}),W.\u0275inj=h.cJS({providers:_s,imports:[v.b2]}),W})()},2313:(Yt,ze,k)=>{k.d(ze,{H7:()=>Se,b2:()=>cr,q6:()=>Sn,se:()=>gt});var h=k(9808),v=k(5e3);class oe extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends oe{static makeCurrent(){(0,h.HT)(new pe)}onAndCancel(ye,ge,Ve){return ye.addEventListener(ge,Ve,!1),()=>{ye.removeEventListener(ge,Ve,!1)}}dispatchEvent(ye,ge){ye.dispatchEvent(ge)}remove(ye){ye.parentNode&&ye.parentNode.removeChild(ye)}createElement(ye,ge){return(ge=ge||this.getDefaultDocument()).createElement(ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ye){return ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(ye){return ye instanceof DocumentFragment}getGlobalEventTarget(ye,ge){return"window"===ge?window:"document"===ge?ye:"body"===ge?ye.body:null}getBaseHref(ye){const ge=function Ae(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==ge?null:function ae(Ne){Re=Re||document.createElement("a"),Re.setAttribute("href",Ne);const ye=Re.pathname;return"/"===ye.charAt(0)?ye:`/${ye}`}(ge)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(ye){return(0,h.Mx)(document.cookie,ye)}}let Re,de=null;const Te=new v.OlP("TRANSITION_ID"),he=[{provide:v.ip1,useFactory:function se(Ne,ye,ge){return()=>{ge.get(v.CZH).donePromise.then(()=>{const Ve=(0,h.q)(),bt=ye.querySelectorAll(`style[ng-transition="${Ne}"]`);for(let Wt=0;Wt<bt.length;Wt++)Ve.remove(bt[Wt])})}},deps:[Te,h.K0,v.zs3],multi:!0}];class De{static init(){(0,v.VLi)(new De)}addToWindow(ye){v.dqk.getAngularTestability=(Ve,bt=!0)=>{const Wt=ye.findTestabilityInTree(Ve,bt);if(null==Wt)throw new Error("Could not find testability for element.");return Wt},v.dqk.getAllAngularTestabilities=()=>ye.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>ye.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(Ve=>{const bt=v.dqk.getAllAngularTestabilities();let Wt=bt.length,gn=!1;const Ar=function($r){gn=gn||$r,Wt--,0==Wt&&Ve(gn)};bt.forEach(function($r){$r.whenStable(Ar)})})}findTestabilityInTree(ye,ge,Ve){if(null==ge)return null;const bt=ye.getTestability(ge);return null!=bt?bt:Ve?(0,h.q)().isShadowRoot(ge)?this.findTestabilityInTree(ye,ge.host,!0):this.findTestabilityInTree(ye,ge.parentElement,!0):null}}let ot=(()=>{class Ne{build(){return new XMLHttpRequest}}return Ne.\u0275fac=function(ge){return new(ge||Ne)},Ne.\u0275prov=v.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Ge=new v.OlP("EventManagerPlugins");let Ke=(()=>{class Ne{constructor(ge,Ve){this._zone=Ve,this._eventNameToPlugin=new Map,ge.forEach(bt=>bt.manager=this),this._plugins=ge.slice().reverse()}addEventListener(ge,Ve,bt){return this._findPluginFor(Ve).addEventListener(ge,Ve,bt)}addGlobalEventListener(ge,Ve,bt){return this._findPluginFor(Ve).addGlobalEventListener(ge,Ve,bt)}getZone(){return this._zone}_findPluginFor(ge){const Ve=this._eventNameToPlugin.get(ge);if(Ve)return Ve;const bt=this._plugins;for(let Wt=0;Wt<bt.length;Wt++){const gn=bt[Wt];if(gn.supports(ge))return this._eventNameToPlugin.set(ge,gn),gn}throw new Error(`No event manager plugin found for event ${ge}`)}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(v.LFG(Ge),v.LFG(v.R0b))},Ne.\u0275prov=v.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class dt{constructor(ye){this._doc=ye}addGlobalEventListener(ye,ge,Ve){const bt=(0,h.q)().getGlobalEventTarget(this._doc,ye);if(!bt)throw new Error(`Unsupported event target ${bt} for event ${ge}`);return this.addEventListener(bt,ge,Ve)}}let Ue=(()=>{class Ne{constructor(){this._stylesSet=new Set}addStyles(ge){const Ve=new Set;ge.forEach(bt=>{this._stylesSet.has(bt)||(this._stylesSet.add(bt),Ve.add(bt))}),this.onStylesAdded(Ve)}onStylesAdded(ge){}getAllStyles(){return Array.from(this._stylesSet)}}return Ne.\u0275fac=function(ge){return new(ge||Ne)},Ne.\u0275prov=v.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),Xe=(()=>{class Ne extends Ue{constructor(ge){super(),this._doc=ge,this._hostNodes=new Map,this._hostNodes.set(ge.head,[])}_addStylesToHost(ge,Ve,bt){ge.forEach(Wt=>{const gn=this._doc.createElement("style");gn.textContent=Wt,bt.push(Ve.appendChild(gn))})}addHost(ge){const Ve=[];this._addStylesToHost(this._stylesSet,ge,Ve),this._hostNodes.set(ge,Ve)}removeHost(ge){const Ve=this._hostNodes.get(ge);Ve&&Ve.forEach(St),this._hostNodes.delete(ge)}onStylesAdded(ge){this._hostNodes.forEach((Ve,bt)=>{this._addStylesToHost(ge,bt,Ve)})}ngOnDestroy(){this._hostNodes.forEach(ge=>ge.forEach(St))}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(v.LFG(h.K0))},Ne.\u0275prov=v.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();function St(Ne){(0,h.q)().remove(Ne)}const Ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},je=/%COMP%/g;function et(Ne,ye,ge){for(let Ve=0;Ve<ye.length;Ve++){let bt=ye[Ve];Array.isArray(bt)?et(Ne,bt,ge):(bt=bt.replace(je,Ne),ge.push(bt))}return ge}function nt(Ne){return ye=>{if("__ngUnwrap__"===ye)return Ne;!1===Ne(ye)&&(ye.preventDefault(),ye.returnValue=!1)}}let gt=(()=>{class Ne{constructor(ge,Ve,bt){this.eventManager=ge,this.sharedStylesHost=Ve,this.appId=bt,this.rendererByCompId=new Map,this.defaultRenderer=new We(ge)}createRenderer(ge,Ve){if(!ge||!Ve)return this.defaultRenderer;switch(Ve.encapsulation){case v.ifc.Emulated:{let bt=this.rendererByCompId.get(Ve.id);return bt||(bt=new dn(this.eventManager,this.sharedStylesHost,Ve,this.appId),this.rendererByCompId.set(Ve.id,bt)),bt.applyToHost(ge),bt}case 1:case v.ifc.ShadowDom:return new vn(this.eventManager,this.sharedStylesHost,ge,Ve);default:if(!this.rendererByCompId.has(Ve.id)){const bt=et(Ve.id,Ve.styles,[]);this.sharedStylesHost.addStyles(bt),this.rendererByCompId.set(Ve.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(v.LFG(Ke),v.LFG(Xe),v.LFG(v.AFp))},Ne.\u0275prov=v.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class We{constructor(ye){this.eventManager=ye,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ye,ge){return ge?document.createElementNS(Ye[ge]||ge,ye):document.createElement(ye)}createComment(ye){return document.createComment(ye)}createText(ye){return document.createTextNode(ye)}appendChild(ye,ge){ye.appendChild(ge)}insertBefore(ye,ge,Ve){ye&&ye.insertBefore(ge,Ve)}removeChild(ye,ge){ye&&ye.removeChild(ge)}selectRootElement(ye,ge){let Ve="string"==typeof ye?document.querySelector(ye):ye;if(!Ve)throw new Error(`The selector "${ye}" did not match any elements`);return ge||(Ve.textContent=""),Ve}parentNode(ye){return ye.parentNode}nextSibling(ye){return ye.nextSibling}setAttribute(ye,ge,Ve,bt){if(bt){ge=bt+":"+ge;const Wt=Ye[bt];Wt?ye.setAttributeNS(Wt,ge,Ve):ye.setAttribute(ge,Ve)}else ye.setAttribute(ge,Ve)}removeAttribute(ye,ge,Ve){if(Ve){const bt=Ye[Ve];bt?ye.removeAttributeNS(bt,ge):ye.removeAttribute(`${Ve}:${ge}`)}else ye.removeAttribute(ge)}addClass(ye,ge){ye.classList.add(ge)}removeClass(ye,ge){ye.classList.remove(ge)}setStyle(ye,ge,Ve,bt){bt&(v.JOm.DashCase|v.JOm.Important)?ye.style.setProperty(ge,Ve,bt&v.JOm.Important?"important":""):ye.style[ge]=Ve}removeStyle(ye,ge,Ve){Ve&v.JOm.DashCase?ye.style.removeProperty(ge):ye.style[ge]=""}setProperty(ye,ge,Ve){ye[ge]=Ve}setValue(ye,ge){ye.nodeValue=ge}listen(ye,ge,Ve){return"string"==typeof ye?this.eventManager.addGlobalEventListener(ye,ge,nt(Ve)):this.eventManager.addEventListener(ye,ge,nt(Ve))}}class dn extends We{constructor(ye,ge,Ve,bt){super(ye),this.component=Ve;const Wt=et(bt+"-"+Ve.id,Ve.styles,[]);ge.addStyles(Wt),this.contentAttr=function jt(Ne){return"_ngcontent-%COMP%".replace(je,Ne)}(bt+"-"+Ve.id),this.hostAttr=function Bt(Ne){return"_nghost-%COMP%".replace(je,Ne)}(bt+"-"+Ve.id)}applyToHost(ye){super.setAttribute(ye,this.hostAttr,"")}createElement(ye,ge){const Ve=super.createElement(ye,ge);return super.setAttribute(Ve,this.contentAttr,""),Ve}}class vn extends We{constructor(ye,ge,Ve,bt){super(ye),this.sharedStylesHost=ge,this.hostEl=Ve,this.shadowRoot=Ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=et(bt.id,bt.styles,[]);for(let gn=0;gn<Wt.length;gn++){const Ar=document.createElement("style");Ar.textContent=Wt[gn],this.shadowRoot.appendChild(Ar)}}nodeOrShadowRoot(ye){return ye===this.hostEl?this.shadowRoot:ye}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ye,ge){return super.appendChild(this.nodeOrShadowRoot(ye),ge)}insertBefore(ye,ge,Ve){return super.insertBefore(this.nodeOrShadowRoot(ye),ge,Ve)}removeChild(ye,ge){return super.removeChild(this.nodeOrShadowRoot(ye),ge)}parentNode(ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ye)))}}let Tt=(()=>{class Ne extends dt{constructor(ge){super(ge)}supports(ge){return!0}addEventListener(ge,Ve,bt){return ge.addEventListener(Ve,bt,!1),()=>this.removeEventListener(ge,Ve,bt)}removeEventListener(ge,Ve,bt){return ge.removeEventListener(Ve,bt)}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(v.LFG(h.K0))},Ne.\u0275prov=v.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const mn=["alt","control","meta","shift"],sn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mn={alt:Ne=>Ne.altKey,control:Ne=>Ne.ctrlKey,meta:Ne=>Ne.metaKey,shift:Ne=>Ne.shiftKey};let kn=(()=>{class Ne extends dt{constructor(ge){super(ge)}supports(ge){return null!=Ne.parseEventName(ge)}addEventListener(ge,Ve,bt){const Wt=Ne.parseEventName(Ve),gn=Ne.eventCallback(Wt.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(ge,Wt.domEventName,gn))}static parseEventName(ge){const Ve=ge.toLowerCase().split("."),bt=Ve.shift();if(0===Ve.length||"keydown"!==bt&&"keyup"!==bt)return null;const Wt=Ne._normalizeKey(Ve.pop());let gn="";if(mn.forEach($r=>{const xi=Ve.indexOf($r);xi>-1&&(Ve.splice(xi,1),gn+=$r+".")}),gn+=Wt,0!=Ve.length||0===Wt.length)return null;const Ar={};return Ar.domEventName=bt,Ar.fullKey=gn,Ar}static getEventFullKey(ge){let Ve="",bt=function Dn(Ne){let ye=Ne.key;if(null==ye){if(ye=Ne.keyIdentifier,null==ye)return"Unidentified";ye.startsWith("U+")&&(ye=String.fromCharCode(parseInt(ye.substring(2),16)),3===Ne.location&&hn.hasOwnProperty(ye)&&(ye=hn[ye]))}return sn[ye]||ye}(ge);return bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),mn.forEach(Wt=>{Wt!=bt&&Mn[Wt](ge)&&(Ve+=Wt+".")}),Ve+=bt,Ve}static eventCallback(ge,Ve,bt){return Wt=>{Ne.getEventFullKey(Wt)===ge&&bt.runGuarded(()=>Ve(Wt))}}static _normalizeKey(ge){return"esc"===ge?"escape":ge}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(v.LFG(h.K0))},Ne.\u0275prov=v.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Sn=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:h.bD},{provide:v.g9A,useValue:function Kn(){pe.makeCurrent(),De.init()},multi:!0},{provide:h.K0,useFactory:function lr(){return(0,v.RDi)(document),document},deps:[]}]),rr=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function ur(){return new v.qLn},deps:[]},{provide:Ge,useClass:Tt,multi:!0,deps:[h.K0,v.R0b,v.Lbi]},{provide:Ge,useClass:kn,multi:!0,deps:[h.K0]},{provide:gt,useClass:gt,deps:[Ke,Xe,v.AFp]},{provide:v.FYo,useExisting:gt},{provide:Ue,useExisting:Xe},{provide:Xe,useClass:Xe,deps:[h.K0]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:Ke,useClass:Ke,deps:[Ge,v.R0b]},{provide:h.JF,useClass:ot,deps:[]}];let cr=(()=>{class Ne{constructor(ge){if(ge)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ge){return{ngModule:Ne,providers:[{provide:v.AFp,useValue:ge.appId},{provide:Te,useExisting:v.AFp},he]}}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(v.LFG(Ne,12))},Ne.\u0275mod=v.oAB({type:Ne}),Ne.\u0275inj=v.cJS({providers:rr,imports:[h.ez,v.hGG]}),Ne})();"undefined"!=typeof window&&window;let Se=(()=>{class Ne{}return Ne.\u0275fac=function(ge){return new(ge||Ne)},Ne.\u0275prov=v.Yz7({token:Ne,factory:function(ge){let Ve=null;return Ve=ge?new(ge||Ne):v.LFG($e),Ve},providedIn:"root"}),Ne})(),$e=(()=>{class Ne extends Se{constructor(ge){super(),this._doc=ge}sanitize(ge,Ve){if(null==Ve)return null;switch(ge){case v.q3G.NONE:return Ve;case v.q3G.HTML:return(0,v.qzn)(Ve,"HTML")?(0,v.z3N)(Ve):(0,v.EiD)(this._doc,String(Ve)).toString();case v.q3G.STYLE:return(0,v.qzn)(Ve,"Style")?(0,v.z3N)(Ve):Ve;case v.q3G.SCRIPT:if((0,v.qzn)(Ve,"Script"))return(0,v.z3N)(Ve);throw new Error("unsafe value used in a script context");case v.q3G.URL:return(0,v.yhl)(Ve),(0,v.qzn)(Ve,"URL")?(0,v.z3N)(Ve):(0,v.mCW)(String(Ve));case v.q3G.RESOURCE_URL:if((0,v.qzn)(Ve,"ResourceURL"))return(0,v.z3N)(Ve);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ge} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ge){return(0,v.JVY)(ge)}bypassSecurityTrustStyle(ge){return(0,v.L6k)(ge)}bypassSecurityTrustScript(ge){return(0,v.eBb)(ge)}bypassSecurityTrustUrl(ge){return(0,v.LAX)(ge)}bypassSecurityTrustResourceUrl(ge){return(0,v.pB0)(ge)}}return Ne.\u0275fac=function(ge){return new(ge||Ne)(v.LFG(h.K0))},Ne.\u0275prov=v.Yz7({token:Ne,factory:function(ge){let Ve=null;return Ve=ge?new ge:function Ze(Ne){return new $e(Ne.get(h.K0))}(v.LFG(v.zs3)),Ve},providedIn:"root"}),Ne})()},994:(Yt,ze,k)=>{k.d(ze,{m2:()=>lr,F0:()=>Xt,rH:()=>zn,yS:()=>ii,Bz:()=>Jt,lC:()=>Os});var h=k(5e3),v=k(8306),oe=k(4742),pe=k(8996),de=k(4671),Ae=k(3268),Re=k(3269),ae=k(1810),Te=k(5403),se=k(9672);function ot(A,C,b){A?(0,se.f)(b,A,C):C()}var Ge=k(8421);function Ke(A){return new v.y(C=>{(0,Ge.Xf)(A()).subscribe(C)})}var dt=k(727),Ue=k(4482);function Xe(){return(0,Ue.e)((A,C)=>{let b=null;A._refCount++;const L=(0,Te.x)(C,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(b=null);const $=A._connection,J=b;b=null,$&&(!J||$===J)&&$.unsubscribe(),C.unsubscribe()});A.subscribe(L),L.closed||(b=A.connect())})}class St extends v.y{constructor(C,b){super(),this.source=C,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,Ue.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,null==C||C.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new dt.w0;const b=this.getSubject();C.add(this.source.subscribe((0,Te.x)(b,void 0,()=>{this._teardown(),b.complete()},L=>{this._teardown(),b.error(L)},()=>this._teardown()))),C.closed&&(this._connection=null,C=dt.w0.EMPTY)}return C}refCount(){return Xe()(this)}}var Ye=k(9646),je=k(1135),be=k(2843),qe=k(6805),kt=k(7272),Fe=k(515),jt=k(7579),Bt=k(9300);function et(A){return A<=0?()=>Fe.E:(0,Ue.e)((C,b)=>{let L=[];C.subscribe((0,Te.x)(b,$=>{L.push($),A<L.length&&L.shift()},()=>{for(const $ of L)b.next($);b.complete()},void 0,()=>{L=null}))})}var nt=k(8068),ut=k(6590),We=k(4004),Pt=k(3900),Kt=k(5698),dn=k(8675),vn=k(5026),Tt=k(262),mn=k(4351),An=k(590),sn=k(5577),hn=k(8505),Mn=k(8746),kn=k(8189),Dn=k(9808);class Kn{constructor(C,b){this.id=C,this.url=b}}class ur extends Kn{constructor(C,b,L="imperative",$=null){super(C,b),this.navigationTrigger=L,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lr extends Kn{constructor(C,b,L){super(C,b),this.urlAfterRedirects=L}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gr extends Kn{constructor(C,b,L){super(C,b),this.reason=L}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sn extends Kn{constructor(C,b,L){super(C,b),this.error=L}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rr extends Kn{constructor(C,b,L,$){super(C,b),this.urlAfterRedirects=L,this.state=$}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr extends Kn{constructor(C,b,L,$){super(C,b),this.urlAfterRedirects=L,this.state=$}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti extends Kn{constructor(C,b,L,$,J){super(C,b),this.urlAfterRedirects=L,this.state=$,this.shouldActivate=J}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class an extends Kn{constructor(C,b,L,$){super(C,b),this.urlAfterRedirects=L,this.state=$}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends Kn{constructor(C,b,L,$){super(C,b),this.urlAfterRedirects=L,this.state=$}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn{constructor(C){this.route=C}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zn{constructor(C){this.route=C}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kr{constructor(C){this.snapshot=C}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zr{constructor(C){this.snapshot=C}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yr{constructor(C){this.snapshot=C}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ot{constructor(C){this.snapshot=C}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(C,b,L){this.routerEvent=C,this.position=b,this.anchor=L}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ve="primary";class it{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const b=this.params[C];return Array.isArray(b)?b[0]:b}return null}getAll(C){if(this.has(C)){const b=this.params[C];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function ht(A){return new it(A)}const vt="ngNavigationCancelingError";function xn(A){const C=Error("NavigationCancelingError: "+A);return C[vt]=!0,C}function En(A,C,b){const L=b.path.split("/");if(L.length>A.length||"full"===b.pathMatch&&(C.hasChildren()||L.length<A.length))return null;const $={};for(let J=0;J<L.length;J++){const ue=L[J],ke=A[J];if(ue.startsWith(":"))$[ue.substring(1)]=ke;else if(ue!==ke.path)return null}return{consumed:A.slice(0,L.length),posParams:$}}function $n(A,C){const b=A?Object.keys(A):void 0,L=C?Object.keys(C):void 0;if(!b||!L||b.length!=L.length)return!1;let $;for(let J=0;J<b.length;J++)if($=b[J],!Pr(A[$],C[$]))return!1;return!0}function Pr(A,C){if(Array.isArray(A)&&Array.isArray(C)){if(A.length!==C.length)return!1;const b=[...A].sort(),L=[...C].sort();return b.every(($,J)=>L[J]===$)}return A===C}function pn(A){return Array.prototype.concat.apply([],A)}function Lr(A){return A.length>0?A[A.length-1]:null}function ee(A,C){for(const b in A)A.hasOwnProperty(b)&&C(A[b],b)}function H(A){return(0,h.CqO)(A)?A:(0,h.QGY)(A)?(0,pe.D)(Promise.resolve(A)):(0,Ye.of)(A)}const Ce={exact:function me(A,C,b){if(!bt(A.segments,C.segments)||!Gt(A.segments,C.segments,b)||A.numberOfChildren!==C.numberOfChildren)return!1;for(const L in C.children)if(!A.children[L]||!me(A.children[L],C.children[L],b))return!1;return!0},subset:Ze},Qe={exact:function we(A,C){return $n(A,C)},subset:function Se(A,C){return Object.keys(C).length<=Object.keys(A).length&&Object.keys(C).every(b=>Pr(A[b],C[b]))},ignored:()=>!0};function At(A,C,b){return Ce[b.paths](A.root,C.root,b.matrixParams)&&Qe[b.queryParams](A.queryParams,C.queryParams)&&!("exact"===b.fragment&&A.fragment!==C.fragment)}function Ze(A,C,b){return $e(A,C,C.segments,b)}function $e(A,C,b,L){if(A.segments.length>b.length){const $=A.segments.slice(0,b.length);return!(!bt($,b)||C.hasChildren()||!Gt($,b,L))}if(A.segments.length===b.length){if(!bt(A.segments,b)||!Gt(A.segments,b,L))return!1;for(const $ in C.children)if(!A.children[$]||!Ze(A.children[$],C.children[$],L))return!1;return!0}{const $=b.slice(0,A.segments.length),J=b.slice(A.segments.length);return!!(bt(A.segments,$)&&Gt(A.segments,$,L)&&A.children[ve])&&$e(A.children[ve],C,J,L)}}function Gt(A,C,b){return C.every((L,$)=>Qe[b](A[$].parameters,L.parameters))}class Ne{constructor(C,b,L){this.root=C,this.queryParams=b,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return $r.serialize(this)}}class ye{constructor(C,b){this.segments=C,this.children=b,this.parent=null,ee(b,(L,$)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xi(this)}}class ge{constructor(C,b){this.path=C,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=ht(this.parameters)),this._parameterMap}toString(){return vr(this)}}function bt(A,C){return A.length===C.length&&A.every((b,L)=>b.path===C[L].path)}class gn{}class Ar{parse(C){const b=new Si(C);return new Ne(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(C){const b=`/${Mr(C.root,!0)}`,L=function di(A){const C=Object.keys(A).map(b=>{const L=A[b];return Array.isArray(L)?L.map($=>`${Vr(b)}=${Vr($)}`).join("&"):`${Vr(b)}=${Vr(L)}`}).filter(b=>!!b);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${b}${L}${"string"==typeof C.fragment?`#${function Li(A){return encodeURI(A)}(C.fragment)}`:""}`}}const $r=new Ar;function xi(A){return A.segments.map(C=>vr(C)).join("/")}function Mr(A,C){if(!A.hasChildren())return xi(A);if(C){const b=A.children[ve]?Mr(A.children[ve],!1):"",L=[];return ee(A.children,($,J)=>{J!==ve&&L.push(`${J}:${Mr($,!1)}`)}),L.length>0?`${b}(${L.join("//")})`:b}{const b=function Wt(A,C){let b=[];return ee(A.children,(L,$)=>{$===ve&&(b=b.concat(C(L,$)))}),ee(A.children,(L,$)=>{$!==ve&&(b=b.concat(C(L,$)))}),b}(A,(L,$)=>$===ve?[Mr(A.children[ve],!1)]:[`${$}:${Mr(L,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[ve]?`${xi(A)}/${b[0]}`:`${xi(A)}/(${b.join("//")})`}}function yi(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vr(A){return yi(A).replace(/%3B/gi,";")}function wr(A){return yi(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function en(A){return decodeURIComponent(A)}function Ln(A){return en(A.replace(/\+/g,"%20"))}function vr(A){return`${wr(A.path)}${function Ci(A){return Object.keys(A).map(C=>`;${wr(C)}=${wr(A[C])}`).join("")}(A.parameters)}`}const Jr=/^[^\/()?;=#]+/;function hr(A){const C=A.match(Jr);return C?C[0]:""}const xr=/^[^=?&#]+/,Ti=/^[^&#]+/;class Si{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(C.length>0||Object.keys(b).length>0)&&(L[ve]=new ye(C,b)),L}parseSegment(){const C=hr(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(C),new ge(en(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const b=hr(this.remaining);if(!b)return;this.capture(b);let L="";if(this.consumeOptional("=")){const $=hr(this.remaining);$&&(L=$,this.capture(L))}C[en(b)]=en(L)}parseQueryParam(C){const b=function br(A){const C=A.match(xr);return C?C[0]:""}(this.remaining);if(!b)return;this.capture(b);let L="";if(this.consumeOptional("=")){const ue=function Un(A){const C=A.match(Ti);return C?C[0]:""}(this.remaining);ue&&(L=ue,this.capture(L))}const $=Ln(b),J=Ln(L);if(C.hasOwnProperty($)){let ue=C[$];Array.isArray(ue)||(ue=[ue],C[$]=ue),ue.push(J)}else C[$]=J}parseParens(C){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=hr(this.remaining),$=this.remaining[L.length];if("/"!==$&&")"!==$&&";"!==$)throw new Error(`Cannot parse url '${this.url}'`);let J;L.indexOf(":")>-1?(J=L.substr(0,L.indexOf(":")),this.capture(J),this.capture(":")):C&&(J=ve);const ue=this.parseChildren();b[J]=1===Object.keys(ue).length?ue[ve]:new ye([],ue),this.consumeOptional("//")}return b}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new Error(`Expected "${C}".`)}}class _i{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const b=this.pathFromRoot(C);return b.length>1?b[b.length-2]:null}children(C){const b=ss(C,this._root);return b?b.children.map(L=>L.value):[]}firstChild(C){const b=ss(C,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(C){const b=hi(C,this._root);return b.length<2?[]:b[b.length-2].children.map($=>$.value).filter($=>$!==C)}pathFromRoot(C){return hi(C,this._root).map(b=>b.value)}}function ss(A,C){if(A===C.value)return C;for(const b of C.children){const L=ss(A,b);if(L)return L}return null}function hi(A,C){if(A===C.value)return[C];for(const b of C.children){const L=hi(A,b);if(L.length)return L.unshift(C),L}return[]}class Dr{constructor(C,b){this.value=C,this.children=b}toString(){return`TreeNode(${this.value})`}}function vi(A){const C={};return A&&A.children.forEach(b=>C[b.value.outlet]=b),C}class Gr extends _i{constructor(C,b){super(C),this.snapshot=b,Cr(this,C)}toString(){return this.snapshot.toString()}}function He(A,C){const b=function xe(A,C){const ue=new nn([],{},{},"",{},ve,C,null,A.root,-1,{});return new Er("",new Dr(ue,[]))}(A,C),L=new je.X([new ge("",{})]),$=new je.X({}),J=new je.X({}),ue=new je.X({}),ke=new je.X(""),Et=new rt(L,$,ue,ke,J,ve,C,b.root);return Et.snapshot=b.root,new Gr(new Dr(Et,[]),b)}class rt{constructor(C,b,L,$,J,ue,ke,Et){this.url=C,this.params=b,this.queryParams=L,this.fragment=$,this.data=J,this.outlet=ue,this.component=ke,this._futureSnapshot=Et}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,We.U)(C=>ht(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,We.U)(C=>ht(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mt(A,C="emptyOnly"){const b=A.pathFromRoot;let L=0;if("always"!==C)for(L=b.length-1;L>=1;){const $=b[L],J=b[L-1];if($.routeConfig&&""===$.routeConfig.path)L--;else{if(J.component)break;L--}}return function Nt(A){return A.reduce((C,b)=>({params:Object.assign(Object.assign({},C.params),b.params),data:Object.assign(Object.assign({},C.data),b.data),resolve:Object.assign(Object.assign({},C.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(L))}class nn{constructor(C,b,L,$,J,ue,ke,Et,on,Yn,Qt){this.url=C,this.params=b,this.queryParams=L,this.fragment=$,this.data=J,this.outlet=ue,this.component=ke,this.routeConfig=Et,this._urlSegment=on,this._lastPathIndex=Yn,this._resolve=Qt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ht(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Er extends _i{constructor(C,b){super(b),this.url=C,Cr(this,b)}toString(){return tr(this._root)}}function Cr(A,C){C.value._routerState=A,C.children.forEach(b=>Cr(A,b))}function tr(A){const C=A.children.length>0?` { ${A.children.map(tr).join(", ")} } `:"";return`${A.value}${C}`}function ni(A){if(A.snapshot){const C=A.snapshot,b=A._futureSnapshot;A.snapshot=b,$n(C.queryParams,b.queryParams)||A.queryParams.next(b.queryParams),C.fragment!==b.fragment&&A.fragment.next(b.fragment),$n(C.params,b.params)||A.params.next(b.params),function _r(A,C){if(A.length!==C.length)return!1;for(let b=0;b<A.length;++b)if(!$n(A[b],C[b]))return!1;return!0}(C.url,b.url)||A.url.next(b.url),$n(C.data,b.data)||A.data.next(b.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function ps(A,C){const b=$n(A.params,C.params)&&function Ve(A,C){return bt(A,C)&&A.every((b,L)=>$n(b.parameters,C[L].parameters))}(A.url,C.url);return b&&!(!A.parent!=!C.parent)&&(!A.parent||ps(A.parent,C.parent))}function Vi(A,C,b){if(b&&A.shouldReuseRoute(C.value,b.value.snapshot)){const L=b.value;L._futureSnapshot=C.value;const $=function Ri(A,C,b){return C.children.map(L=>{for(const $ of b.children)if(A.shouldReuseRoute(L.value,$.value.snapshot))return Vi(A,L,$);return Vi(A,L)})}(A,C,b);return new Dr(L,$)}{if(A.shouldAttach(C.value)){const J=A.retrieve(C.value);if(null!==J){const ue=J.route;return ue.value._futureSnapshot=C.value,ue.children=C.children.map(ke=>Vi(A,ke)),ue}}const L=function Aa(A){return new rt(new je.X(A.url),new je.X(A.params),new je.X(A.queryParams),new je.X(A.fragment),new je.X(A.data),A.outlet,A.component,A)}(C.value),$=C.children.map(J=>Vi(A,J));return new Dr(L,$)}}function Us(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function os(A){return"object"==typeof A&&null!=A&&A.outlets}function Eo(A,C,b,L,$){let J={};if(L&&ee(L,(ke,Et)=>{J[Et]=Array.isArray(ke)?ke.map(on=>`${on}`):`${ke}`}),A===C)return new Ne(b,J,$);const ue=As(A,C,b);return new Ne(ue,J,$)}function As(A,C,b){const L={};return ee(A.children,($,J)=>{L[J]=$===C?b:As($,C,b)}),new ye(A.segments,L)}class Ds{constructor(C,b,L){if(this.isAbsolute=C,this.numberOfDoubleDots=b,this.commands=L,C&&L.length>0&&Us(L[0]))throw new Error("Root segment cannot have matrix parameters");const $=L.find(os);if($&&$!==Lr(L))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ms{constructor(C,b,L){this.segmentGroup=C,this.processChildren=b,this.index=L}}function Ms(A,C,b){if(A||(A=new ye([],{})),0===A.segments.length&&A.hasChildren())return io(A,C,b);const L=function Is(A,C,b){let L=0,$=C;const J={match:!1,pathIndex:0,commandIndex:0};for(;$<A.segments.length;){if(L>=b.length)return J;const ue=A.segments[$],ke=b[L];if(os(ke))break;const Et=`${ke}`,on=L<b.length-1?b[L+1]:null;if($>0&&void 0===Et)break;if(Et&&on&&"object"==typeof on&&void 0===on.outlets){if(!as(Et,on,ue))return J;L+=2}else{if(!as(Et,{},ue))return J;L++}$++}return{match:!0,pathIndex:$,commandIndex:L}}(A,C,b),$=b.slice(L.commandIndex);if(L.match&&L.pathIndex<A.segments.length){const J=new ye(A.segments.slice(0,L.pathIndex),{});return J.children[ve]=new ye(A.segments.slice(L.pathIndex),A.children),io(J,0,$)}return L.match&&0===$.length?new ye(A.segments,{}):L.match&&!A.hasChildren()?xs(A,C,b):L.match?io(A,0,$):xs(A,C,b)}function io(A,C,b){if(0===b.length)return new ye(A.segments,{});{const L=function Cs(A){return os(A[0])?A[0].outlets:{[ve]:A}}(b),$={};return ee(L,(J,ue)=>{"string"==typeof J&&(J=[J]),null!==J&&($[ue]=Ms(A.children[ue],C,J))}),ee(A.children,(J,ue)=>{void 0===L[ue]&&($[ue]=J)}),new ye(A.segments,$)}}function xs(A,C,b){const L=A.segments.slice(0,C);let $=0;for(;$<b.length;){const J=b[$];if(os(J)){const Et=Rs(J.outlets);return new ye(L,Et)}if(0===$&&Us(b[0])){L.push(new ge(A.segments[C].path,Qi(b[0]))),$++;continue}const ue=os(J)?J.outlets[ve]:`${J}`,ke=$<b.length-1?b[$+1]:null;ue&&ke&&Us(ke)?(L.push(new ge(ue,Qi(ke))),$+=2):(L.push(new ge(ue,{})),$++)}return new ye(L,{})}function Rs(A){const C={};return ee(A,(b,L)=>{"string"==typeof b&&(b=[b]),null!==b&&(C[L]=xs(new ye([],{}),0,b))}),C}function Qi(A){const C={};return ee(A,(b,L)=>C[L]=`${b}`),C}function as(A,C,b){return A==b.path&&$n(C,b.parameters)}class ga{constructor(C,b,L,$){this.routeReuseStrategy=C,this.futureState=b,this.currState=L,this.forwardEvent=$}activate(C){const b=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,L,C),ni(this.futureState.root),this.activateChildRoutes(b,L,C)}deactivateChildRoutes(C,b,L){const $=vi(b);C.children.forEach(J=>{const ue=J.value.outlet;this.deactivateRoutes(J,$[ue],L),delete $[ue]}),ee($,(J,ue)=>{this.deactivateRouteAndItsChildren(J,L)})}deactivateRoutes(C,b,L){const $=C.value,J=b?b.value:null;if($===J)if($.component){const ue=L.getContext($.outlet);ue&&this.deactivateChildRoutes(C,b,ue.children)}else this.deactivateChildRoutes(C,b,L);else J&&this.deactivateRouteAndItsChildren(b,L)}deactivateRouteAndItsChildren(C,b){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,b):this.deactivateRouteAndOutlet(C,b)}detachAndStoreRouteSubtree(C,b){const L=b.getContext(C.value.outlet),$=L&&C.value.component?L.children:b,J=vi(C);for(const ue of Object.keys(J))this.deactivateRouteAndItsChildren(J[ue],$);if(L&&L.outlet){const ue=L.outlet.detach(),ke=L.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:ue,route:C,contexts:ke})}}deactivateRouteAndOutlet(C,b){const L=b.getContext(C.value.outlet),$=L&&C.value.component?L.children:b,J=vi(C);for(const ue of Object.keys(J))this.deactivateRouteAndItsChildren(J[ue],$);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(C,b,L){const $=vi(b);C.children.forEach(J=>{this.activateRoutes(J,$[J.value.outlet],L),this.forwardEvent(new Ot(J.value.snapshot))}),C.children.length&&this.forwardEvent(new zr(C.value.snapshot))}activateRoutes(C,b,L){const $=C.value,J=b?b.value:null;if(ni($),$===J)if($.component){const ue=L.getOrCreateContext($.outlet);this.activateChildRoutes(C,b,ue.children)}else this.activateChildRoutes(C,b,L);else if($.component){const ue=L.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const ke=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),ue.children.onOutletReAttached(ke.contexts),ue.attachRef=ke.componentRef,ue.route=ke.route.value,ue.outlet&&ue.outlet.attach(ke.componentRef,ke.route.value),ni(ke.route.value),this.activateChildRoutes(C,null,ue.children)}else{const ke=function Xi(A){for(let C=A.parent;C;C=C.parent){const b=C.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}($.snapshot),Et=ke?ke.module.componentFactoryResolver:null;ue.attachRef=null,ue.route=$,ue.resolver=Et,ue.outlet&&ue.outlet.activateWith($,Et),this.activateChildRoutes(C,null,ue.children)}}else this.activateChildRoutes(C,null,L)}}class ji{constructor(C,b){this.routes=C,this.module=b}}function gs(A){return"function"==typeof A}function ls(A){return A instanceof Ne}const Or=Symbol("INITIAL_VALUE");function Wi(){return(0,Pt.w)(A=>function he(...A){const C=(0,Re.yG)(A),b=(0,Re.jO)(A),{args:L,keys:$}=(0,oe.D)(A);if(0===L.length)return(0,pe.D)([],C);const J=new v.y(function De(A,C,b=de.y){return L=>{ot(C,()=>{const{length:$}=A,J=new Array($);let ue=$,ke=$;for(let Et=0;Et<$;Et++)ot(C,()=>{const on=(0,pe.D)(A[Et],C);let Yn=!1;on.subscribe((0,Te.x)(L,Qt=>{J[Et]=Qt,Yn||(Yn=!0,ke--),ke||L.next(b(J.slice()))},()=>{--ue||L.complete()}))},L)},L)}}(L,C,$?ue=>(0,ae.n)($,ue):de.y));return b?J.pipe((0,Ae.Z)(b)):J}(A.map(C=>C.pipe((0,Kt.q)(1),(0,dn.O)(Or)))).pipe((0,vn.R)((C,b)=>{let L=!1;return b.reduce(($,J,ue)=>$!==Or?$:(J===Or&&(L=!0),L||!1!==J&&ue!==b.length-1&&!ls(J)?$:J),C)},Or),(0,Bt.h)(C=>C!==Or),(0,We.U)(C=>ls(C)?C:!0===C),(0,Kt.q)(1)))}class wo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fi,this.attachRef=null}}class fi{constructor(){this.contexts=new Map}onChildOutletCreated(C,b){const L=this.getOrCreateContext(C);L.outlet=b,this.contexts.set(C,L)}onChildOutletDestroyed(C){const b=this.getContext(C);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let b=this.getContext(C);return b||(b=new wo,this.contexts.set(C,b)),b}getContext(C){return this.contexts.get(C)||null}}let Os=(()=>{class A{constructor(b,L,$,J,ue){this.parentContexts=b,this.location=L,this.resolver=$,this.changeDetector=ue,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=J||ve,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,L){this.activated=b,this._activatedRoute=L,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,L){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const ue=(L=L||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),ke=this.parentContexts.getOrCreateContext(this.name).children,Et=new oo(b,ke,this.location.injector);this.activated=this.location.createComponent(ue,this.location.length,Et),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(b){return new(b||A)(h.Y36(fi),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},A.\u0275dir=h.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),A})();class oo{constructor(C,b,L){this.route=C,this.childContexts=b,this.parent=L}get(C,b){return C===rt?this.route:C===fi?this.childContexts:this.parent.get(C,b)}}let qs=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275cmp=h.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,L){1&b&&h._UZ(0,"router-outlet")},directives:[Os],encapsulation:2}),A})();function ys(A,C=""){for(let b=0;b<A.length;b++){const L=A[b];Hs(L,ks(C,L))}}function Hs(A,C){A.children&&ys(A.children,C)}function ks(A,C){return C?A||C.path?A&&!C.path?`${A}/`:!A&&C.path?C.path:`${A}/${C.path}`:"":A}function Ir(A){const C=A.children&&A.children.map(Ir),b=C?Object.assign(Object.assign({},A),{children:C}):Object.assign({},A);return!b.component&&(C||b.loadChildren)&&b.outlet&&b.outlet!==ve&&(b.component=qs),b}function V(A){return A.outlet||ve}function te(A,C){const b=A.filter(L=>V(L)===C);return b.push(...A.filter(L=>V(L)!==C)),b}const B={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ie(A,C,b){var L;if(""===C.path)return"full"===C.pathMatch&&(A.hasChildren()||b.length>0)?Object.assign({},B):{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const J=(C.matcher||En)(b,A,C);if(!J)return Object.assign({},B);const ue={};ee(J.posParams,(Et,on)=>{ue[on]=Et.path});const ke=J.consumed.length>0?Object.assign(Object.assign({},ue),J.consumed[J.consumed.length-1].parameters):ue;return{matched:!0,consumedSegments:J.consumed,remainingSegments:b.slice(J.consumed.length),parameters:ke,positionalParamSegments:null!==(L=J.posParams)&&void 0!==L?L:{}}}function Pe(A,C,b,L,$="corrected"){if(b.length>0&&function tn(A,C,b){return b.some(L=>ir(A,C,L)&&V(L)!==ve)}(A,b,L)){const ue=new ye(C,function It(A,C,b,L){const $={};$[ve]=L,L._sourceSegment=A,L._segmentIndexShift=C.length;for(const J of b)if(""===J.path&&V(J)!==ve){const ue=new ye([],{});ue._sourceSegment=A,ue._segmentIndexShift=C.length,$[V(J)]=ue}return $}(A,C,L,new ye(b,A.children)));return ue._sourceSegment=A,ue._segmentIndexShift=C.length,{segmentGroup:ue,slicedSegments:[]}}if(0===b.length&&function jr(A,C,b){return b.some(L=>ir(A,C,L))}(A,b,L)){const ue=new ye(A.segments,function yt(A,C,b,L,$,J){const ue={};for(const ke of L)if(ir(A,b,ke)&&!$[V(ke)]){const Et=new ye([],{});Et._sourceSegment=A,Et._segmentIndexShift="legacy"===J?A.segments.length:C.length,ue[V(ke)]=Et}return Object.assign(Object.assign({},$),ue)}(A,C,b,L,A.children,$));return ue._sourceSegment=A,ue._segmentIndexShift=C.length,{segmentGroup:ue,slicedSegments:b}}const J=new ye(A.segments,A.children);return J._sourceSegment=A,J._segmentIndexShift=C.length,{segmentGroup:J,slicedSegments:b}}function ir(A,C,b){return(!(A.hasChildren()||C.length>0)||"full"!==b.pathMatch)&&""===b.path}function Xn(A,C,b,L){return!!(V(A)===L||L!==ve&&ir(C,b,A))&&("**"===A.path||ie(C,A,b).matched)}function qn(A,C,b){return 0===C.length&&!A.children[b]}class ei{constructor(C){this.segmentGroup=C||null}}class Nr{constructor(C){this.urlTree=C}}function Ur(A){return(0,be._)(new ei(A))}function j(A){return(0,be._)(new Nr(A))}class Dt{constructor(C,b,L,$,J){this.configLoader=b,this.urlSerializer=L,this.urlTree=$,this.config=J,this.allowRedirects=!0,this.ngModule=C.get(h.h0i)}apply(){const C=Pe(this.urlTree.root,[],[],this.config).segmentGroup,b=new ye(C.segments,C.children);return this.expandSegmentGroup(this.ngModule,this.config,b,ve).pipe((0,We.U)(J=>this.createUrlTree(ri(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Tt.K)(J=>{if(J instanceof Nr)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof ei?this.noMatchError(J):J}))}match(C){return this.expandSegmentGroup(this.ngModule,this.config,C.root,ve).pipe((0,We.U)($=>this.createUrlTree(ri($),C.queryParams,C.fragment))).pipe((0,Tt.K)($=>{throw $ instanceof ei?this.noMatchError($):$}))}noMatchError(C){return new Error(`Cannot match any routes. URL Segment: '${C.segmentGroup}'`)}createUrlTree(C,b,L){const $=C.segments.length>0?new ye([],{[ve]:C}):C;return new Ne($,b,L)}expandSegmentGroup(C,b,L,$){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(C,b,L).pipe((0,We.U)(J=>new ye([],J))):this.expandSegment(C,L,b,L.segments,$,!0)}expandChildren(C,b,L){const $=[];for(const J of Object.keys(L.children))"primary"===J?$.unshift(J):$.push(J);return(0,pe.D)($).pipe((0,mn.b)(J=>{const ue=L.children[J],ke=te(b,J);return this.expandSegmentGroup(C,ke,ue,J).pipe((0,We.U)(Et=>({segment:Et,outlet:J})))}),(0,vn.R)((J,ue)=>(J[ue.outlet]=ue.segment,J),{}),function gt(A,C){const b=arguments.length>=2;return L=>L.pipe(A?(0,Bt.h)(($,J)=>A($,J,L)):de.y,et(1),b?(0,ut.d)(C):(0,nt.T)(()=>new qe.K))}())}expandSegment(C,b,L,$,J,ue){return(0,pe.D)(L).pipe((0,mn.b)(ke=>this.expandSegmentAgainstRoute(C,b,L,ke,$,J,ue).pipe((0,Tt.K)(on=>{if(on instanceof ei)return(0,Ye.of)(null);throw on}))),(0,An.P)(ke=>!!ke),(0,Tt.K)((ke,Et)=>{if(ke instanceof qe.K||"EmptyError"===ke.name)return qn(b,$,J)?(0,Ye.of)(new ye([],{})):Ur(b);throw ke}))}expandSegmentAgainstRoute(C,b,L,$,J,ue,ke){return Xn($,b,J,ue)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(C,b,$,J,ue):ke&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,b,L,$,J,ue):Ur(b):Ur(b)}expandSegmentAgainstRouteUsingRedirect(C,b,L,$,J,ue){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,L,$,ue):this.expandRegularSegmentAgainstRouteUsingRedirect(C,b,L,$,J,ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,b,L,$){const J=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?j(J):this.lineralizeSegments(L,J).pipe((0,sn.z)(ue=>{const ke=new ye(ue,{});return this.expandSegment(C,ke,b,ue,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,b,L,$,J,ue){const{matched:ke,consumedSegments:Et,remainingSegments:on,positionalParamSegments:Yn}=ie(b,$,J);if(!ke)return Ur(b);const Qt=this.applyRedirectCommands(Et,$.redirectTo,Yn);return $.redirectTo.startsWith("/")?j(Qt):this.lineralizeSegments($,Qt).pipe((0,sn.z)(Zr=>this.expandSegment(C,b,L,Zr.concat(on),ue,!1)))}matchSegmentAgainstRoute(C,b,L,$,J){if("**"===L.path)return L.loadChildren?(L._loadedConfig?(0,Ye.of)(L._loadedConfig):this.configLoader.load(C.injector,L)).pipe((0,We.U)(Qt=>(L._loadedConfig=Qt,new ye($,{})))):(0,Ye.of)(new ye($,{}));const{matched:ue,consumedSegments:ke,remainingSegments:Et}=ie(b,L,$);return ue?this.getChildConfig(C,L,$).pipe((0,sn.z)(Yn=>{const Qt=Yn.module,Zr=Yn.routes,{segmentGroup:Gn,slicedSegments:Oi}=Pe(b,ke,Et,Zr),Oo=new ye(Gn.segments,Gn.children);if(0===Oi.length&&Oo.hasChildren())return this.expandChildren(Qt,Zr,Oo).pipe((0,We.U)(Xr=>new ye(ke,Xr)));if(0===Zr.length&&0===Oi.length)return(0,Ye.of)(new ye(ke,{}));const pi=V(L)===J;return this.expandSegment(Qt,Oo,Zr,Oi,pi?ve:J,!0).pipe((0,We.U)(Zi=>new ye(ke.concat(Zi.segments),Zi.children)))})):Ur(b)}getChildConfig(C,b,L){return b.children?(0,Ye.of)(new ji(b.children,C)):b.loadChildren?void 0!==b._loadedConfig?(0,Ye.of)(b._loadedConfig):this.runCanLoadGuards(C.injector,b,L).pipe((0,sn.z)($=>$?this.configLoader.load(C.injector,b).pipe((0,We.U)(J=>(b._loadedConfig=J,J))):function x(A){return(0,be._)(xn(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))}(b))):(0,Ye.of)(new ji([],C))}runCanLoadGuards(C,b,L){const $=b.canLoad;if(!$||0===$.length)return(0,Ye.of)(!0);const J=$.map(ue=>{const ke=C.get(ue);let Et;if(function Gi(A){return A&&gs(A.canLoad)}(ke))Et=ke.canLoad(b,L);else{if(!gs(ke))throw new Error("Invalid CanLoad guard");Et=ke(b,L)}return H(Et)});return(0,Ye.of)(J).pipe(Wi(),(0,hn.b)(ue=>{if(!ls(ue))return;const ke=xn(`Redirecting to "${this.urlSerializer.serialize(ue)}"`);throw ke.url=ue,ke}),(0,We.U)(ue=>!0===ue))}lineralizeSegments(C,b){let L=[],$=b.root;for(;;){if(L=L.concat($.segments),0===$.numberOfChildren)return(0,Ye.of)(L);if($.numberOfChildren>1||!$.children[ve])return(0,be._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C.redirectTo}'`));$=$.children[ve]}}applyRedirectCommands(C,b,L){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),C,L)}applyRedirectCreatreUrlTree(C,b,L,$){const J=this.createSegmentGroup(C,b.root,L,$);return new Ne(J,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(C,b){const L={};return ee(C,($,J)=>{if("string"==typeof $&&$.startsWith(":")){const ke=$.substring(1);L[J]=b[ke]}else L[J]=$}),L}createSegmentGroup(C,b,L,$){const J=this.createSegments(C,b.segments,L,$);let ue={};return ee(b.children,(ke,Et)=>{ue[Et]=this.createSegmentGroup(C,ke,L,$)}),new ye(J,ue)}createSegments(C,b,L,$){return b.map(J=>J.path.startsWith(":")?this.findPosParam(C,J,$):this.findOrReturn(J,L))}findPosParam(C,b,L){const $=L[b.path.substring(1)];if(!$)throw new Error(`Cannot redirect to '${C}'. Cannot find '${b.path}'.`);return $}findOrReturn(C,b){let L=0;for(const $ of b){if($.path===C.path)return b.splice(L),$;L++}return C}}function ri(A){const C={};for(const L of Object.keys(A.children)){const J=ri(A.children[L]);(J.segments.length>0||J.hasChildren())&&(C[L]=J)}return function yn(A){if(1===A.numberOfChildren&&A.children[ve]){const C=A.children[ve];return new ye(A.segments.concat(C.segments),C.children)}return A}(new ye(A.segments,C))}class Zs{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Ji{constructor(C,b){this.component=C,this.route=b}}function Lt(A,C,b){const L=A._root;return ra(L,C?C._root:null,b,[L.value])}function na(A,C,b){const L=function bi(A){if(!A)return null;for(let C=A.parent;C;C=C.parent){const b=C.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(C);return(L?L.module.injector:b).get(A)}function ra(A,C,b,L,$={canDeactivateChecks:[],canActivateChecks:[]}){const J=vi(C);return A.children.forEach(ue=>{(function Ao(A,C,b,L,$={canDeactivateChecks:[],canActivateChecks:[]}){const J=A.value,ue=C?C.value:null,ke=b?b.getContext(A.value.outlet):null;if(ue&&J.routeConfig===ue.routeConfig){const Et=function ao(A,C,b){if("function"==typeof b)return b(A,C);switch(b){case"pathParamsChange":return!bt(A.url,C.url);case"pathParamsOrQueryParamsChange":return!bt(A.url,C.url)||!$n(A.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ps(A,C)||!$n(A.queryParams,C.queryParams);default:return!ps(A,C)}}(ue,J,J.routeConfig.runGuardsAndResolvers);Et?$.canActivateChecks.push(new Zs(L)):(J.data=ue.data,J._resolvedData=ue._resolvedData),ra(A,C,J.component?ke?ke.children:null:b,L,$),Et&&ke&&ke.outlet&&ke.outlet.isActivated&&$.canDeactivateChecks.push(new Ji(ke.outlet.component,ue))}else ue&&Mo(C,ke,$),$.canActivateChecks.push(new Zs(L)),ra(A,null,J.component?ke?ke.children:null:b,L,$)})(ue,J[ue.value.outlet],b,L.concat([ue.value]),$),delete J[ue.value.outlet]}),ee(J,(ue,ke)=>Mo(ue,b.getContext(ke),$)),$}function Mo(A,C,b){const L=vi(A),$=A.value;ee(L,(J,ue)=>{Mo(J,$.component?C?C.children.getContext(ue):null:C,b)}),b.canDeactivateChecks.push(new Ji($.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,$))}class W{}function g(A){return new v.y(C=>C.error(A))}class N{constructor(C,b,L,$,J,ue){this.rootComponentType=C,this.config=b,this.urlTree=L,this.url=$,this.paramsInheritanceStrategy=J,this.relativeLinkResolution=ue}recognize(){const C=Pe(this.urlTree.root,[],[],this.config.filter(ue=>void 0===ue.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,C,ve);if(null===b)return null;const L=new nn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ve,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Dr(L,b),J=new Er(this.url,$);return this.inheritParamsAndData(J._root),J}inheritParamsAndData(C){const b=C.value,L=Mt(b,this.paramsInheritanceStrategy);b.params=Object.freeze(L.params),b.data=Object.freeze(L.data),C.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(C,b,L){return 0===b.segments.length&&b.hasChildren()?this.processChildren(C,b):this.processSegment(C,b,b.segments,L)}processChildren(C,b){const L=[];for(const J of Object.keys(b.children)){const ue=b.children[J],ke=te(C,J),Et=this.processSegmentGroup(ke,ue,J);if(null===Et)return null;L.push(...Et)}const $=Oe(L);return function Z(A){A.sort((C,b)=>C.value.outlet===ve?-1:b.value.outlet===ve?1:C.value.outlet.localeCompare(b.value.outlet))}($),$}processSegment(C,b,L,$){for(const J of C){const ue=this.processSegmentAgainstRoute(J,b,L,$);if(null!==ue)return ue}return qn(b,L,$)?[]:null}processSegmentAgainstRoute(C,b,L,$){if(C.redirectTo||!Xn(C,b,L,$))return null;let J,ue=[],ke=[];if("**"===C.path){const Gn=L.length>0?Lr(L).parameters:{};J=new nn(L,Gn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cn(C),V(C),C.component,C,Ct(b),cn(b)+L.length,Hn(C))}else{const Gn=ie(b,C,L);if(!Gn.matched)return null;ue=Gn.consumedSegments,ke=Gn.remainingSegments,J=new nn(ue,Gn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cn(C),V(C),C.component,C,Ct(b),cn(b)+ue.length,Hn(C))}const Et=function ce(A){return A.children?A.children:A.loadChildren?A._loadedConfig.routes:[]}(C),{segmentGroup:on,slicedSegments:Yn}=Pe(b,ue,ke,Et.filter(Gn=>void 0===Gn.redirectTo),this.relativeLinkResolution);if(0===Yn.length&&on.hasChildren()){const Gn=this.processChildren(Et,on);return null===Gn?null:[new Dr(J,Gn)]}if(0===Et.length&&0===Yn.length)return[new Dr(J,[])];const Qt=V(C)===$,Zr=this.processSegment(Et,on,Yn,Qt?ve:$);return null===Zr?null:[new Dr(J,Zr)]}}function Me(A){const C=A.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function Oe(A){const C=[],b=new Set;for(const L of A){if(!Me(L)){C.push(L);continue}const $=C.find(J=>L.value.routeConfig===J.value.routeConfig);void 0!==$?($.children.push(...L.children),b.add($)):C.push(L)}for(const L of b){const $=Oe(L.children);C.push(new Dr(L.value,$))}return C.filter(L=>!b.has(L))}function Ct(A){let C=A;for(;C._sourceSegment;)C=C._sourceSegment;return C}function cn(A){let C=A,b=C._segmentIndexShift?C._segmentIndexShift:0;for(;C._sourceSegment;)C=C._sourceSegment,b+=C._segmentIndexShift?C._segmentIndexShift:0;return b-1}function Cn(A){return A.data||{}}function Hn(A){return A.resolve||{}}function oi(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function Ni(A){return(0,Pt.w)(C=>{const b=A(C);return b?(0,pe.D)(b).pipe((0,We.U)(()=>C)):(0,Ye.of)(C)})}class Yr extends class $s{shouldDetach(C){return!1}store(C,b){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,b){return C.routeConfig===b.routeConfig}}{}const Ai=new h.OlP("ROUTES");class Fi{constructor(C,b,L,$){this.injector=C,this.compiler=b,this.onLoadStartListener=L,this.onLoadEndListener=$}load(C,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const $=this.loadModuleFactory(b.loadChildren).pipe((0,We.U)(J=>{this.onLoadEndListener&&this.onLoadEndListener(b);const ue=J.create(C);return new ji(pn(ue.injector.get(Ai,void 0,h.XFs.Self|h.XFs.Optional)).map(Ir),ue)}),(0,Tt.K)(J=>{throw b._loader$=void 0,J}));return b._loader$=new St($,()=>new jt.x).pipe(Xe()),b._loader$}loadModuleFactory(C){return H(C()).pipe((0,sn.z)(b=>b instanceof h.YKP?(0,Ye.of)(b):(0,pe.D)(this.compiler.compileModuleAsync(b))))}}class zs{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,b){return C}}function Do(A){throw A}function Ys(A,C,b){return C.parse("/")}function Ps(A,C){return(0,Ye.of)(null)}const Uo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xt=(()=>{class A{constructor(b,L,$,J,ue,ke,Et){this.rootComponentType=b,this.urlSerializer=L,this.rootContexts=$,this.location=J,this.config=Et,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new jt.x,this.errorHandler=Do,this.malformedUriErrorHandler=Ys,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ps,afterPreactivation:Ps},this.urlHandlingStrategy=new zs,this.routeReuseStrategy=new Yr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ue.get(h.h0i),this.console=ue.get(h.c2e);const Qt=ue.get(h.R0b);this.isNgZoneEnabled=Qt instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(Et),this.currentUrlTree=function q(){return new Ne(new ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fi(ue,ke,Zr=>this.triggerEvent(new Qn(Zr)),Zr=>this.triggerEvent(new Zn(Zr))),this.routerState=He(this.currentUrlTree,this.rootComponentType),this.transitions=new je.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const L=this.events;return b.pipe((0,Bt.h)($=>0!==$.id),(0,We.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,Pt.w)($=>{let J=!1,ue=!1;return(0,Ye.of)($).pipe((0,hn.b)(ke=>{this.currentNavigation={id:ke.id,initialUrl:ke.currentRawUrl,extractedUrl:ke.extractedUrl,trigger:ke.source,extras:ke.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Pt.w)(ke=>{const Et=this.browserUrlTree.toString(),on=!this.navigated||ke.extractedUrl.toString()!==Et||Et!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||on)&&this.urlHandlingStrategy.shouldProcessUrl(ke.rawUrl))return Bn(ke.source)&&(this.browserUrlTree=ke.extractedUrl),(0,Ye.of)(ke).pipe((0,Pt.w)(Qt=>{const Zr=this.transitions.getValue();return L.next(new ur(Qt.id,this.serializeUrl(Qt.extractedUrl),Qt.source,Qt.restoredState)),Zr!==this.transitions.getValue()?Fe.E:Promise.resolve(Qt)}),function us(A,C,b,L){return(0,Pt.w)($=>function re(A,C,b,L,$){return new Dt(A,C,b,L,$).apply()}(A,C,b,$.extractedUrl,L).pipe((0,We.U)(J=>Object.assign(Object.assign({},$),{urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,hn.b)(Qt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Qt.urlAfterRedirects})}),function Jn(A,C,b,L,$){return(0,sn.z)(J=>function w(A,C,b,L,$="emptyOnly",J="legacy"){try{const ue=new N(A,C,b,L,$,J).recognize();return null===ue?g(new W):(0,Ye.of)(ue)}catch(ue){return g(ue)}}(A,C,J.urlAfterRedirects,b(J.urlAfterRedirects),L,$).pipe((0,We.U)(ue=>Object.assign(Object.assign({},J),{targetSnapshot:ue}))))}(this.rootComponentType,this.config,Qt=>this.serializeUrl(Qt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,hn.b)(Qt=>{if("eager"===this.urlUpdateStrategy){if(!Qt.extras.skipLocationChange){const Gn=this.urlHandlingStrategy.merge(Qt.urlAfterRedirects,Qt.rawUrl);this.setBrowserUrl(Gn,Qt)}this.browserUrlTree=Qt.urlAfterRedirects}const Zr=new rr(Qt.id,this.serializeUrl(Qt.extractedUrl),this.serializeUrl(Qt.urlAfterRedirects),Qt.targetSnapshot);L.next(Zr)}));if(on&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Zr,extractedUrl:Gn,source:Oi,restoredState:Oo,extras:pi}=ke,ja=new ur(Zr,this.serializeUrl(Gn),Oi,Oo);L.next(ja);const Zi=He(Gn,this.rootComponentType).snapshot;return(0,Ye.of)(Object.assign(Object.assign({},ke),{targetSnapshot:Zi,urlAfterRedirects:Gn,extras:Object.assign(Object.assign({},pi),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ke.rawUrl,ke.resolve(null),Fe.E}),Ni(ke=>{const{targetSnapshot:Et,id:on,extractedUrl:Yn,rawUrl:Qt,extras:{skipLocationChange:Zr,replaceUrl:Gn}}=ke;return this.hooks.beforePreactivation(Et,{navigationId:on,appliedUrlTree:Yn,rawUrlTree:Qt,skipLocationChange:!!Zr,replaceUrl:!!Gn})}),(0,hn.b)(ke=>{const Et=new cr(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot);this.triggerEvent(Et)}),(0,We.U)(ke=>Object.assign(Object.assign({},ke),{guards:Lt(ke.targetSnapshot,ke.currentSnapshot,this.rootContexts)})),function ia(A,C){return(0,sn.z)(b=>{const{targetSnapshot:L,currentSnapshot:$,guards:{canActivateChecks:J,canDeactivateChecks:ue}}=b;return 0===ue.length&&0===J.length?(0,Ye.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function El(A,C,b,L){return(0,pe.D)(A).pipe((0,sn.z)($=>function Bo(A,C,b,L,$){const J=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,Ye.of)(!0);const ue=J.map(ke=>{const Et=na(ke,C,$);let on;if(function so(A){return A&&gs(A.canDeactivate)}(Et))on=H(Et.canDeactivate(A,C,b,L));else{if(!gs(Et))throw new Error("Invalid CanDeactivate guard");on=H(Et(A,C,b,L))}return on.pipe((0,An.P)())});return(0,Ye.of)(ue).pipe(Wi())}($.component,$.route,b,C,L)),(0,An.P)($=>!0!==$,!0))}(ue,L,$,A).pipe((0,sn.z)(ke=>ke&&function js(A){return"boolean"==typeof A}(ke)?function Vo(A,C,b,L){return(0,pe.D)(C).pipe((0,mn.b)($=>(0,kt.z)(function _s(A,C){return null!==A&&C&&C(new kr(A)),(0,Ye.of)(!0)}($.route.parent,L),function xo(A,C){return null!==A&&C&&C(new yr(A)),(0,Ye.of)(!0)}($.route,L),function lo(A,C,b){const L=C[C.length-1],J=C.slice(0,C.length-1).reverse().map(ue=>function Rn(A){const C=A.routeConfig?A.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:A,guards:C}:null}(ue)).filter(ue=>null!==ue).map(ue=>Ke(()=>{const ke=ue.guards.map(Et=>{const on=na(Et,ue.node,b);let Yn;if(function Ks(A){return A&&gs(A.canActivateChild)}(on))Yn=H(on.canActivateChild(L,A));else{if(!gs(on))throw new Error("Invalid CanActivateChild guard");Yn=H(on(L,A))}return Yn.pipe((0,An.P)())});return(0,Ye.of)(ke).pipe(Wi())}));return(0,Ye.of)(J).pipe(Wi())}(A,$.path,b),function Ki(A,C,b){const L=C.routeConfig?C.routeConfig.canActivate:null;if(!L||0===L.length)return(0,Ye.of)(!0);const $=L.map(J=>Ke(()=>{const ue=na(J,C,b);let ke;if(function Rr(A){return A&&gs(A.canActivate)}(ue))ke=H(ue.canActivate(C,A));else{if(!gs(ue))throw new Error("Invalid CanActivate guard");ke=H(ue(C,A))}return ke.pipe((0,An.P)())}));return(0,Ye.of)($).pipe(Wi())}(A,$.route,b))),(0,An.P)($=>!0!==$,!0))}(L,J,A,C):(0,Ye.of)(ke)),(0,We.U)(ke=>Object.assign(Object.assign({},b),{guardsResult:ke})))})}(this.ngModule.injector,ke=>this.triggerEvent(ke)),(0,hn.b)(ke=>{if(ls(ke.guardsResult)){const on=xn(`Redirecting to "${this.serializeUrl(ke.guardsResult)}"`);throw on.url=ke.guardsResult,on}const Et=new ti(ke.id,this.serializeUrl(ke.extractedUrl),this.serializeUrl(ke.urlAfterRedirects),ke.targetSnapshot,!!ke.guardsResult);this.triggerEvent(Et)}),(0,Bt.h)(ke=>!!ke.guardsResult||(this.restoreHistory(ke),this.cancelNavigationTransition(ke,""),!1)),Ni(ke=>{if(ke.guards.canActivateChecks.length)return(0,Ye.of)(ke).pipe((0,hn.b)(Et=>{const on=new an(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot);this.triggerEvent(on)}),(0,Pt.w)(Et=>{let on=!1;return(0,Ye.of)(Et).pipe(function Vn(A,C){return(0,sn.z)(b=>{const{targetSnapshot:L,guards:{canActivateChecks:$}}=b;if(!$.length)return(0,Ye.of)(b);let J=0;return(0,pe.D)($).pipe((0,mn.b)(ue=>function er(A,C,b,L){return function Wr(A,C,b,L){const $=oi(A);if(0===$.length)return(0,Ye.of)({});const J={};return(0,pe.D)($).pipe((0,sn.z)(ue=>function Ei(A,C,b,L){const $=na(A,C,L);return H($.resolve?$.resolve(C,b):$(C,b))}(A[ue],C,b,L).pipe((0,hn.b)(ke=>{J[ue]=ke}))),et(1),(0,sn.z)(()=>oi(J).length===$.length?(0,Ye.of)(J):Fe.E))}(A._resolve,A,C,L).pipe((0,We.U)(J=>(A._resolvedData=J,A.data=Object.assign(Object.assign({},A.data),Mt(A,b).resolve),null)))}(ue.route,L,A,C)),(0,hn.b)(()=>J++),et(1),(0,sn.z)(ue=>J===$.length?(0,Ye.of)(b):Fe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,hn.b)({next:()=>on=!0,complete:()=>{on||(this.restoreHistory(Et),this.cancelNavigationTransition(Et,"At least one route resolver didn't emit any value."))}}))}),(0,hn.b)(Et=>{const on=new Wn(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot);this.triggerEvent(on)}))}),Ni(ke=>{const{targetSnapshot:Et,id:on,extractedUrl:Yn,rawUrl:Qt,extras:{skipLocationChange:Zr,replaceUrl:Gn}}=ke;return this.hooks.afterPreactivation(Et,{navigationId:on,appliedUrlTree:Yn,rawUrlTree:Qt,skipLocationChange:!!Zr,replaceUrl:!!Gn})}),(0,We.U)(ke=>{const Et=function zi(A,C,b){const L=Vi(A,C._root,b?b._root:void 0);return new Gr(L,C)}(this.routeReuseStrategy,ke.targetSnapshot,ke.currentRouterState);return Object.assign(Object.assign({},ke),{targetRouterState:Et})}),(0,hn.b)(ke=>{this.currentUrlTree=ke.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ke.urlAfterRedirects,ke.rawUrl),this.routerState=ke.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ke.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ke),this.browserUrlTree=ke.urlAfterRedirects)}),((A,C,b)=>(0,We.U)(L=>(new ga(C,L.targetRouterState,L.currentRouterState,b).activate(A),L)))(this.rootContexts,this.routeReuseStrategy,ke=>this.triggerEvent(ke)),(0,hn.b)({next(){J=!0},complete(){J=!0}}),(0,Mn.x)(()=>{var ke;J||ue||this.cancelNavigationTransition($,`Navigation ID ${$.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ke=this.currentNavigation)||void 0===ke?void 0:ke.id)===$.id&&(this.currentNavigation=null)}),(0,Tt.K)(ke=>{if(ue=!0,function dr(A){return A&&A[vt]}(ke)){const Et=ls(ke.url);Et||(this.navigated=!0,this.restoreHistory($,!0));const on=new gr($.id,this.serializeUrl($.extractedUrl),ke.message);L.next(on),Et?setTimeout(()=>{const Yn=this.urlHandlingStrategy.merge(ke.url,this.rawUrlTree),Qt={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bn($.source)};this.scheduleNavigation(Yn,"imperative",null,Qt,{resolve:$.resolve,reject:$.reject,promise:$.promise})},0):$.resolve(!1)}else{this.restoreHistory($,!0);const Et=new Sn($.id,this.serializeUrl($.extractedUrl),ke);L.next(Et);try{$.resolve(this.errorHandler(ke))}catch(on){$.reject(on)}}return Fe.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const L="popstate"===b.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{var $;const J={replaceUrl:!0},ue=(null===($=b.state)||void 0===$?void 0:$.navigationId)?b.state:null;if(ue){const Et=Object.assign({},ue);delete Et.navigationId,delete Et.\u0275routerPageId,0!==Object.keys(Et).length&&(J.state=Et)}const ke=this.parseUrl(b.url);this.scheduleNavigation(ke,L,ue,J)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){ys(b),this.config=b.map(Ir),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,L={}){const{relativeTo:$,queryParams:J,fragment:ue,queryParamsHandling:ke,preserveFragment:Et}=L,on=$||this.routerState.root,Yn=Et?this.currentUrlTree.fragment:ue;let Qt=null;switch(ke){case"merge":Qt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),J);break;case"preserve":Qt=this.currentUrlTree.queryParams;break;default:Qt=J||null}return null!==Qt&&(Qt=this.removeEmptyProps(Qt)),function Bi(A,C,b,L,$){if(0===b.length)return Eo(C.root,C.root,C.root,L,$);const J=function ma(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Ds(!0,0,A);let C=0,b=!1;const L=A.reduce(($,J,ue)=>{if("object"==typeof J&&null!=J){if(J.outlets){const ke={};return ee(J.outlets,(Et,on)=>{ke[on]="string"==typeof Et?Et.split("/"):Et}),[...$,{outlets:ke}]}if(J.segmentPath)return[...$,J.segmentPath]}return"string"!=typeof J?[...$,J]:0===ue?(J.split("/").forEach((ke,Et)=>{0==Et&&"."===ke||(0==Et&&""===ke?b=!0:".."===ke?C++:""!=ke&&$.push(ke))}),$):[...$,J]},[]);return new Ds(b,C,L)}(b);if(J.toRoot())return Eo(C.root,C.root,new ye([],{}),L,$);const ue=function Ma(A,C,b){if(A.isAbsolute)return new ms(C.root,!0,0);if(-1===b.snapshot._lastPathIndex){const J=b.snapshot._urlSegment;return new ms(J,J===C.root,0)}const L=Us(A.commands[0])?0:1;return function Ws(A,C,b){let L=A,$=C,J=b;for(;J>$;){if(J-=$,L=L.parent,!L)throw new Error("Invalid number of '../'");$=L.segments.length}return new ms(L,!1,$-J)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+L,A.numberOfDoubleDots)}(J,C,A),ke=ue.processChildren?io(ue.segmentGroup,ue.index,J.commands):Ms(ue.segmentGroup,ue.index,J.commands);return Eo(C.root,ue.segmentGroup,ke,L,$)}(on,this.currentUrlTree,b,Qt,null!=Yn?Yn:null)}navigateByUrl(b,L={skipLocationChange:!1}){const $=ls(b)?b:this.parseUrl(b),J=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,L)}navigate(b,L={skipLocationChange:!1}){return function Pn(A){for(let C=0;C<A.length;C++){const b=A[C];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${C}`)}}(b),this.navigateByUrl(this.createUrlTree(b,L),L)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let L;try{L=this.urlSerializer.parse(b)}catch($){L=this.malformedUriErrorHandler($,this.urlSerializer,b)}return L}isActive(b,L){let $;if($=!0===L?Object.assign({},Uo):!1===L?Object.assign({},sa):L,ls(b))return At(this.currentUrlTree,b,$);const J=this.parseUrl(b);return At(this.currentUrlTree,J,$)}removeEmptyProps(b){return Object.keys(b).reduce((L,$)=>{const J=b[$];return null!=J&&(L[$]=J),L},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new lr(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,L,$,J,ue){var ke,Et;if(this.disposed)return Promise.resolve(!1);let on,Yn,Qt;ue?(on=ue.resolve,Yn=ue.reject,Qt=ue.promise):Qt=new Promise((Oi,Oo)=>{on=Oi,Yn=Oo});const Zr=++this.navigationId;let Gn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),Gn=$&&$.\u0275routerPageId?$.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?null!==(ke=this.browserPageId)&&void 0!==ke?ke:0:(null!==(Et=this.browserPageId)&&void 0!==Et?Et:0)+1):Gn=0,this.setTransition({id:Zr,targetPageId:Gn,source:L,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:J,resolve:on,reject:Yn,promise:Qt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qt.catch(Oi=>Promise.reject(Oi))}setBrowserUrl(b,L){const $=this.urlSerializer.serialize(b),J=Object.assign(Object.assign({},L.extras.state),this.generateNgRouterState(L.id,L.targetPageId));this.location.isCurrentPathEqualTo($)||L.extras.replaceUrl?this.location.replaceState($,"",J):this.location.go($,"",J)}restoreHistory(b,L=!1){var $,J;if("computed"===this.canceledNavigationResolution){const ue=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===ue?this.currentUrlTree===(null===(J=this.currentNavigation)||void 0===J?void 0:J.finalUrl)&&0===ue&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ue)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,L){const $=new gr(b.id,this.serializeUrl(b.extractedUrl),L);this.triggerEvent($),b.resolve(!1)}generateNgRouterState(b,L){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:L}:{navigationId:b}}}return A.\u0275fac=function(b){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function Bn(A){return"imperative"!==A}let zn=(()=>{class A{constructor(b,L,$,J,ue){this.router=b,this.route=L,this.tabIndexAttribute=$,this.renderer=J,this.el=ue,this.commands=null,this.onChanges=new jt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const L=this.renderer,$=this.el.nativeElement;null!==b?L.setAttribute($,"tabindex",b):L.removeAttribute($,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}return A.\u0275fac=function(b){return new(b||A)(h.Y36(Xt),h.Y36(rt),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},A.\u0275dir=h.lG2({type:A,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,L){1&b&&h.NdJ("click",function(){return L.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),A})(),ii=(()=>{class A{constructor(b,L,$){this.router=b,this.route=L,this.locationStrategy=$,this.commands=null,this.href=null,this.onChanges=new jt.x,this.subscription=b.events.subscribe(J=>{J instanceof lr&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,L,$,J,ue){if(0!==b||L||$||J||ue||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ke={skipLocationChange:Mi(this.skipLocationChange),replaceUrl:Mi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ke),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mi(this.preserveFragment)})}}return A.\u0275fac=function(b){return new(b||A)(h.Y36(Xt),h.Y36(rt),h.Y36(Dn.S$))},A.\u0275dir=h.lG2({type:A,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,L){1&b&&h.NdJ("click",function(J){return L.onClick(J.button,J.ctrlKey,J.shiftKey,J.altKey,J.metaKey)}),2&b&&h.uIk("target",L.target)("href",L.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[h.TTD]}),A})();function Mi(A){return""===A||!!A}class Fr{}class el{preload(C,b){return(0,Ye.of)(null)}}let Vt=(()=>{class A{constructor(b,L,$,J){this.router=b,this.injector=$,this.preloadingStrategy=J,this.loader=new Fi($,L,Et=>b.triggerEvent(new Qn(Et)),Et=>b.triggerEvent(new Zn(Et)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Bt.h)(b=>b instanceof lr),(0,mn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(h.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,L){const $=[];for(const J of L)if(J.loadChildren&&!J.canLoad&&J._loadedConfig){const ue=J._loadedConfig;$.push(this.processRoutes(ue.module,ue.routes))}else J.loadChildren&&!J.canLoad?$.push(this.preloadConfig(b,J)):J.children&&$.push(this.processRoutes(b,J.children));return(0,pe.D)($).pipe((0,kn.J)(),(0,We.U)(J=>{}))}preloadConfig(b,L){return this.preloadingStrategy.preload(L,()=>(L._loadedConfig?(0,Ye.of)(L._loadedConfig):this.loader.load(b.injector,L)).pipe((0,sn.z)(J=>(L._loadedConfig=J,this.processRoutes(J.module,J.routes)))))}}return A.\u0275fac=function(b){return new(b||A)(h.LFG(Xt),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(Fr))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})(),Tr=(()=>{class A{constructor(b,L,$={}){this.router=b,this.viewportScroller=L,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof ur?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof lr&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof mt&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,L){this.router.triggerEvent(new mt(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(b){h.$Z()},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();const ts=new h.OlP("ROUTER_CONFIGURATION"),_n=new h.OlP("ROUTER_FORROOT_GUARD"),Nn=[Dn.Ye,{provide:gn,useClass:Ar},{provide:Xt,useFactory:function $o(A,C,b,L,$,J,ue={},ke,Et){const on=new Xt(null,A,C,b,L,$,pn(J));return ke&&(on.urlHandlingStrategy=ke),Et&&(on.routeReuseStrategy=Et),function Ll(A,C){A.errorHandler&&(C.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(C.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(C.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(C.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(C.urlUpdateStrategy=A.urlUpdateStrategy),A.canceledNavigationResolution&&(C.canceledNavigationResolution=A.canceledNavigationResolution)}(ue,on),ue.enableTracing&&on.events.subscribe(Yn=>{var Qt,Zr;null===(Qt=console.group)||void 0===Qt||Qt.call(console,`Router Event: ${Yn.constructor.name}`),console.log(Yn.toString()),console.log(Yn),null===(Zr=console.groupEnd)||void 0===Zr||Zr.call(console)}),on},deps:[gn,fi,Dn.Ye,h.zs3,h.Sil,Ai,ts,[class Ro{},new h.FiY],[class Kr{},new h.FiY]]},fi,{provide:rt,useFactory:function tl(A){return A.routerState.root},deps:[Xt]},Vt,el,class jo{preload(C,b){return b().pipe((0,Tt.K)(()=>(0,Ye.of)(null)))}},{provide:ts,useValue:{enableTracing:!1}}];function wl(){return new h.PXZ("Router",Xt)}let Jt=(()=>{class A{constructor(b,L){}static forRoot(b,L){return{ngModule:A,providers:[Nn,Ho(b),{provide:_n,useFactory:wi,deps:[[Xt,new h.FiY,new h.tp0]]},{provide:ts,useValue:L||{}},{provide:Dn.S$,useFactory:Ht,deps:[Dn.lw,[new h.tBr(Dn.mr),new h.FiY],ts]},{provide:Tr,useFactory:pt,deps:[Xt,Dn.EM,ts]},{provide:Fr,useExisting:L&&L.preloadingStrategy?L.preloadingStrategy:el},{provide:h.PXZ,multi:!0,useFactory:wl},[zo,{provide:h.ip1,multi:!0,useFactory:Go,deps:[zo]},{provide:Co,useFactory:qi,deps:[zo]},{provide:h.tb,multi:!0,useExisting:Co}]]}}static forChild(b){return{ngModule:A,providers:[Ho(b)]}}}return A.\u0275fac=function(b){return new(b||A)(h.LFG(_n,8),h.LFG(Xt,8))},A.\u0275mod=h.oAB({type:A}),A.\u0275inj=h.cJS({}),A})();function pt(A,C,b){return b.scrollOffset&&C.setOffset(b.scrollOffset),new Tr(A,C,b)}function Ht(A,C,b={}){return b.useHash?new Dn.Do(A,C):new Dn.b0(A,C)}function wi(A){return"guarded"}function Ho(A){return[{provide:h.deG,multi:!0,useValue:A},{provide:Ai,multi:!0,useValue:A}]}let zo=(()=>{class A{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new jt.x}appInitializer(){return this.injector.get(Dn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let L=null;const $=new Promise(ke=>L=ke),J=this.injector.get(Xt),ue=this.injector.get(ts);return"disabled"===ue.initialNavigation?(J.setUpLocationChangeListener(),L(!0)):"enabled"===ue.initialNavigation||"enabledBlocking"===ue.initialNavigation?(J.hooks.afterPreactivation=()=>this.initNavigation?(0,Ye.of)(null):(this.initNavigation=!0,L(!0),this.resultOfPreactivationDone),J.initialNavigation()):L(!0),$})}bootstrapListener(b){const L=this.injector.get(ts),$=this.injector.get(Vt),J=this.injector.get(Tr),ue=this.injector.get(Xt),ke=this.injector.get(h.z2F);b===ke.components[0]&&(("enabledNonBlocking"===L.initialNavigation||void 0===L.initialNavigation)&&ue.initialNavigation(),$.setUpPreloading(),J.init(),ue.resetRootComponentType(ke.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(b){return new(b||A)(h.LFG(h.zs3))},A.\u0275prov=h.Yz7({token:A,factory:A.\u0275fac}),A})();function Go(A){return A.appInitializer.bind(A)}function qi(A){return A.bootstrapListener.bind(A)}const Co=new h.OlP("Router Initializer")},3942:(Yt,ze,k)=>{k.d(ze,{Z:()=>Ke});var h=k(2090),v=k(4859),oe=k(9681),pe=k(1877);class de{constructor(Ue,Xe){this._delegate=Ue,this.firebase=Xe,(0,oe._addComponent)(Ue,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=Ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this._delegate.automaticDataCollectionEnabled=Ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ue=>{this._delegate.checkDestroyed(),Ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,oe.deleteApp)(this._delegate)))}_getService(Ue,Xe=oe._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(Ue);return!Ye.isInitialized()&&"EXPLICIT"===(null===(St=Ye.getComponent())||void 0===St?void 0:St.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:Xe})}_removeServiceInstance(Ue,Xe=oe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ue).clearInstance(Xe)}_addComponent(Ue){(0,oe._addComponent)(this._delegate,Ue)}_addOrOverwriteComponent(Ue){(0,oe._addOrOverwriteComponent)(this._delegate,Ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),se=function Te(){const dt=function ae(dt){const Ue={},Xe={__esModule:!0,initializeApp:function je(Fe,jt={}){const Bt=oe.initializeApp(Fe,jt);if((0,h.r3)(Ue,Bt.name))return Ue[Bt.name];const et=new dt(Bt,Xe);return Ue[Bt.name]=et,et},app:Ye,registerVersion:oe.registerVersion,setLogLevel:oe.setLogLevel,onLog:oe.onLog,apps:null,SDK_VERSION:oe.SDK_VERSION,INTERNAL:{registerComponent:function qe(Fe){const jt=Fe.name,Bt=jt.replace("-compat","");if(oe._registerComponent(Fe)&&"PUBLIC"===Fe.type){const et=(nt=Ye())=>{if("function"!=typeof nt[Bt])throw Re.create("invalid-app-argument",{appName:jt});return nt[Bt]()};void 0!==Fe.serviceProps&&(0,h.ZB)(et,Fe.serviceProps),Xe[Bt]=et,dt.prototype[Bt]=function(...nt){return this._getService.bind(this,jt).apply(this,Fe.multipleInstances?nt:[])}}return"PUBLIC"===Fe.type?Xe[Bt]:null},removeApp:function St(Fe){delete Ue[Fe]},useAsService:function kt(Fe,jt){return"serverAuth"===jt?null:jt},modularAPIs:oe}};function Ye(Fe){if(!(0,h.r3)(Ue,Fe=Fe||oe._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:Fe});return Ue[Fe]}return Xe.default=Xe,Object.defineProperty(Xe,"apps",{get:function be(){return Object.keys(Ue).map(Fe=>Ue[Fe])}}),Ye.App=dt,Xe}(de);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function Ue(Xe){(0,h.ZB)(dt,Xe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),dt}(),he=new pe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=se;!function Ge(dt){(0,oe.registerVersion)("@firebase/app-compat","0.1.23",dt)}()},9681:(Yt,ze,k)=>{k.r(ze),k.d(ze,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>gr,_DEFAULT_ENTRY_NAME:()=>dn,_addComponent:()=>An,_addOrOverwriteComponent:()=>sn,_apps:()=>Tt,_clearComponents:()=>Dn,_components:()=>mn,_getProvider:()=>Mn,_registerComponent:()=>hn,_removeServiceInstance:()=>kn,deleteApp:()=>ti,getApp:()=>rr,getApps:()=>cr,initializeApp:()=>Sn,onLog:()=>Qn,registerVersion:()=>Wn,setLogLevel:()=>Zn});var h=k(5861),v=k(4859),oe=k(1877),pe=k(2090);class de{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function Ae(ee){const H=ee.getComponent();return"VERSION"===(null==H?void 0:H.type)}(q)){const Ce=q.getImmediate();return`${Ce.library}/${Ce.version}`}return null}).filter(q=>q).join(" ")}}const Re="@firebase/app",Te=new oe.Yd("@firebase/app"),dn="[DEFAULT]",vn={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tt=new Map,mn=new Map;function An(ee,H){try{ee.container.addComponent(H)}catch(q){Te.debug(`Component ${H.name} failed to register with FirebaseApp ${ee.name}`,q)}}function sn(ee,H){ee.container.addOrOverwriteComponent(H)}function hn(ee){const H=ee.name;if(mn.has(H))return Te.debug(`There were multiple attempts to register component ${H}.`),!1;mn.set(H,ee);for(const q of Tt.values())An(q,ee);return!0}function Mn(ee,H){const q=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),ee.container.getProvider(H)}function kn(ee,H,q=dn){Mn(ee,H).clearInstance(q)}function Dn(){mn.clear()}const ur=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class lr{constructor(H,q,Ce){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=Ce,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const gr="9.7.0";function Sn(ee,H={}){"object"!=typeof H&&(H={name:H});const q=Object.assign({name:dn,automaticDataCollectionEnabled:!1},H),Ce=q.name;if("string"!=typeof Ce||!Ce)throw ur.create("bad-app-name",{appName:String(Ce)});const Qe=Tt.get(Ce);if(Qe){if((0,pe.vZ)(ee,Qe.options)&&(0,pe.vZ)(q,Qe.config))return Qe;throw ur.create("duplicate-app",{appName:Ce})}const At=new v.H0(Ce);for(const me of mn.values())At.addComponent(me);const we=new lr(ee,q,At);return Tt.set(Ce,we),we}function rr(ee=dn){const H=Tt.get(ee);if(!H)throw ur.create("no-app",{appName:ee});return H}function cr(){return Array.from(Tt.values())}function ti(ee){return an.apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(ee){const H=ee.name;Tt.has(H)&&(Tt.delete(H),yield Promise.all(ee.container.getProviders().map(q=>q.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function Wn(ee,H,q){var Ce;let Qe=null!==(Ce=vn[ee])&&void 0!==Ce?Ce:ee;q&&(Qe+=`-${q}`);const At=Qe.match(/\s|\//),we=H.match(/\s|\//);if(At||we){const me=[`Unable to register library "${Qe}" with version "${H}":`];return At&&me.push(`library name "${Qe}" contains illegal characters (whitespace or "/")`),At&&we&&me.push("and"),we&&me.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void Te.warn(me.join(" "))}hn(new v.wA(`${Qe}-version`,()=>({library:Qe,version:H}),"VERSION"))}function Qn(ee,H){if(null!==ee&&"function"!=typeof ee)throw ur.create("invalid-log-argument");(0,oe.Am)(ee,H)}function Zn(ee){(0,oe.Ub)(ee)}const yr="firebase-heartbeat-store";let Ot=null;function mt(){return Ot||(Ot=(0,pe.X3)("firebase-heartbeat-database",1,(ee,H)=>{0===H&&ee.createObjectStore(yr)}).catch(ee=>{throw ur.create("storage-open",{originalErrorMessage:ee.message})})),Ot}function it(){return(it=(0,h.Z)(function*(ee){try{return(yield mt()).transaction(yr).objectStore(yr).get(xn(ee))}catch(H){throw ur.create("storage-get",{originalErrorMessage:H.message})}})).apply(this,arguments)}function ht(ee,H){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(ee,H){try{const Ce=(yield mt()).transaction(yr,"readwrite");return yield Ce.objectStore(yr).put(H,xn(ee)),Ce.complete}catch(q){throw ur.create("storage-set",{originalErrorMessage:q.message})}})).apply(this,arguments)}function xn(ee){return`${ee.name}!${ee.options.appId}`}class _r{constructor(H){this.container=H,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new pn(q),this._heartbeatsCachePromise=this._storage.read().then(Ce=>(this._heartbeatsCache=Ce,Ce))}triggerHeartbeat(){var H=this;return(0,h.Z)(function*(){const Ce=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Qe=$n();if(null===H._heartbeatsCache&&(H._heartbeatsCache=yield H._heartbeatsCachePromise),H._heartbeatsCache.lastSentHeartbeatDate!==Qe&&!H._heartbeatsCache.heartbeats.some(At=>At.date===Qe))return H._heartbeatsCache.heartbeats.push({date:Qe,agent:Ce}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(At=>{const we=new Date(At.date).valueOf();return Date.now()-we<=2592e6}),H._storage.overwrite(H._heartbeatsCache)})()}getHeartbeatsHeader(){var H=this;return(0,h.Z)(function*(){if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null===H._heartbeatsCache||0===H._heartbeatsCache.heartbeats.length)return"";const q=$n(),{heartbeatsToSend:Ce,unsentEntries:Qe}=function Pr(ee,H=1024){const q=[];let Ce=ee.slice();for(const Qe of ee){const At=q.find(we=>we.agent===Qe.agent);if(At){if(At.dates.push(Qe.date),Lr(q)>H){At.dates.pop();break}}else if(q.push({agent:Qe.agent,dates:[Qe.date]}),Lr(q)>H){q.pop();break}Ce=Ce.slice(1)}return{heartbeatsToSend:q,unsentEntries:Ce}}(H._heartbeatsCache.heartbeats),At=(0,pe.L)(JSON.stringify({version:2,heartbeats:Ce}));return H._heartbeatsCache.lastSentHeartbeatDate=q,Qe.length>0?(H._heartbeatsCache.heartbeats=Qe,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),At})()}}function $n(){return(new Date).toISOString().substring(0,10)}class pn{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,h.Z)(function*(){return(yield H._canUseIndexedDBPromise)&&(yield function ve(ee){return it.apply(this,arguments)}(H.app))||{heartbeats:[]}})()}overwrite(H){var q=this;return(0,h.Z)(function*(){var Ce;if(yield q._canUseIndexedDBPromise){const At=yield q.read();return ht(q.app,{lastSentHeartbeatDate:null!==(Ce=H.lastSentHeartbeatDate)&&void 0!==Ce?Ce:At.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var q=this;return(0,h.Z)(function*(){var Ce;if(yield q._canUseIndexedDBPromise){const At=yield q.read();return ht(q.app,{lastSentHeartbeatDate:null!==(Ce=H.lastSentHeartbeatDate)&&void 0!==Ce?Ce:At.lastSentHeartbeatDate,heartbeats:[...At.heartbeats,...H.heartbeats]})}})()}}function Lr(ee){return(0,pe.L)(JSON.stringify({version:2,heartbeats:ee})).length}!function ct(ee){hn(new v.wA("platform-logger",H=>new de(H),"PRIVATE")),hn(new v.wA("heartbeat",H=>new _r(H),"PRIVATE")),Wn(Re,"0.7.22",ee),Wn(Re,"0.7.22","esm2017"),Wn("fire-js","")}("")},4859:(Yt,ze,k)=>{k.d(ze,{H0:()=>ae,wA:()=>oe});var h=k(5861),v=k(2090);class oe{constructor(se,he,De){this.name=se,this.instanceFactory=he,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}const pe="[DEFAULT]";class de{constructor(se,he){this.name=se,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const he=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(he)){const De=new v.BH;if(this.instancesDeferred.set(he,De),this.isInitialized(he)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:he});ot&&De.resolve(ot)}catch(ot){}}return this.instancesDeferred.get(he).promise}getImmediate(se){var he;const De=this.normalizeInstanceIdentifier(null==se?void 0:se.identifier),ot=null!==(he=null==se?void 0:se.optional)&&void 0!==he&&he;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(Ge){if(ot)return null;throw Ge}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Re(Te){return"EAGER"===Te.instantiationMode}(se))try{this.getOrInitializeService({instanceIdentifier:pe})}catch(he){}for(const[he,De]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(he);try{const Ge=this.getOrInitializeService({instanceIdentifier:ot});De.resolve(Ge)}catch(Ge){}}}}clearInstance(se=pe){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,h.Z)(function*(){const he=Array.from(se.instances.values());yield Promise.all([...he.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...he.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=pe){return this.instances.has(se)}getOptions(se=pe){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:he={}}=se,De=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:De,options:he});for(const[Ge,Ke]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(Ge)&&Ke.resolve(ot);return ot}onInit(se,he){var De;const ot=this.normalizeInstanceIdentifier(he),Ge=null!==(De=this.onInitCallbacks.get(ot))&&void 0!==De?De:new Set;Ge.add(se),this.onInitCallbacks.set(ot,Ge);const Ke=this.instances.get(ot);return Ke&&se(Ke,ot),()=>{Ge.delete(se)}}invokeOnInitCallbacks(se,he){const De=this.onInitCallbacks.get(he);if(De)for(const ot of De)try{ot(se,he)}catch(Ge){}}getOrInitializeService({instanceIdentifier:se,options:he={}}){let De=this.instances.get(se);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=se,Te===pe?void 0:Te),options:he}),this.instances.set(se,De),this.instancesOptions.set(se,he),this.invokeOnInitCallbacks(De,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,De)}catch(ot){}var Te;return De||null}normalizeInstanceIdentifier(se=pe){return this.component?this.component.multipleInstances?se:pe:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const he=this.getProvider(se.name);if(he.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);he.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const he=new de(se,this);return this.providers.set(se,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Yt,ze,k)=>{k.d(ze,{Am:()=>Te,Ub:()=>ae,Yd:()=>Re,in:()=>v});const h=[];var v=(()=>{return(se=v||(v={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT",v;var se})();const oe={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},pe=v.INFO,de={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},Ae=(se,he,...De)=>{if(he<se.logLevel)return;const ot=(new Date).toISOString(),Ge=de[he];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[Ge](`[${ot}]  ${se.name}:`,...De)};class Re{constructor(he){this.name=he,this._logLevel=pe,this._logHandler=Ae,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in v))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?oe[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...he),this._logHandler(this,v.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...he),this._logHandler(this,v.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,v.INFO,...he),this._logHandler(this,v.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,v.WARN,...he),this._logHandler(this,v.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...he),this._logHandler(this,v.ERROR,...he)}}function ae(se){h.forEach(he=>{he.setLogLevel(se)})}function Te(se,he){for(const De of h){let ot=null;he&&he.level&&(ot=oe[he.level]),De.userLogHandler=null===se?null:(Ge,Ke,...dt)=>{const Ue=dt.map(Xe=>{if(null==Xe)return null;if("string"==typeof Xe)return Xe;if("number"==typeof Xe||"boolean"==typeof Xe)return Xe.toString();if(Xe instanceof Error)return Xe.message;try{return JSON.stringify(Xe)}catch(St){return null}}).filter(Xe=>Xe).join(" ");Ke>=(null!=ot?ot:Ge.logLevel)&&se({level:v[Ke].toLowerCase(),message:Ue,args:dt,type:Ge.name})}}}},5861:(Yt,ze,k)=>{function h(oe,pe,de,Ae,Re,ae,Te){try{var se=oe[ae](Te),he=se.value}catch(De){return void de(De)}se.done?pe(he):Promise.resolve(he).then(Ae,Re)}function v(oe){return function(){var pe=this,de=arguments;return new Promise(function(Ae,Re){var ae=oe.apply(pe,de);function Te(he){h(ae,Ae,Re,Te,se,"next",he)}function se(he){h(ae,Ae,Re,Te,se,"throw",he)}Te(void 0)})}}k.d(ze,{Z:()=>v})}},Yt=>{Yt(Yt.s=1426)}]);